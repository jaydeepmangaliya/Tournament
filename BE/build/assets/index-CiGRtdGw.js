(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Pv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ey={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function LD(){if(Yw)return Ic;Yw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Ic.Fragment=e,Ic.jsx=n,Ic.jsxs=n,Ic}var Zw;function _E(){return Zw||(Zw=1,ey.exports=LD()),ey.exports}var B=_E(),ty={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function DD(){if(Jw)return ot;Jw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function g(D){return D===null||typeof D!="object"?null:(D=p&&D[p]||D["@@iterator"],typeof D=="function"?D:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,M={};function S(D,V,ee){this.props=D,this.context=V,this.refs=M,this.updater=ee||y}S.prototype.isReactComponent={},S.prototype.setState=function(D,V){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,V,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function _(){}_.prototype=S.prototype;function w(D,V,ee){this.props=D,this.context=V,this.refs=M,this.updater=ee||y}var T=w.prototype=new _;T.constructor=w,x(T,S.prototype),T.isPureReactComponent=!0;var C=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function N(D,V,ee,te,fe,ne){return ee=ne.ref,{$$typeof:t,type:D,key:V,ref:ee!==void 0?ee:null,props:ne}}function P(D,V){return N(D.type,V,void 0,void 0,void 0,D.props)}function j(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function se(D){var V={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ee){return V[ee]})}var J=/\/+/g;function K(D,V){return typeof D=="object"&&D!==null&&D.key!=null?se(""+D.key):V.toString(36)}function ae(){}function Q(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ae,ae):(D.status="pending",D.then(function(V){D.status==="pending"&&(D.status="fulfilled",D.value=V)},function(V){D.status==="pending"&&(D.status="rejected",D.reason=V)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function X(D,V,ee,te,fe){var ne=typeof D;(ne==="undefined"||ne==="boolean")&&(D=null);var Ce=!1;if(D===null)Ce=!0;else switch(ne){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(D.$$typeof){case t:case e:Ce=!0;break;case m:return Ce=D._init,X(Ce(D._payload),V,ee,te,fe)}}if(Ce)return fe=fe(D),Ce=te===""?"."+K(D,0):te,C(fe)?(ee="",Ce!=null&&(ee=Ce.replace(J,"$&/")+"/"),X(fe,V,ee,"",function(ye){return ye})):fe!=null&&(j(fe)&&(fe=P(fe,ee+(fe.key==null||D&&D.key===fe.key?"":(""+fe.key).replace(J,"$&/")+"/")+Ce)),V.push(fe)),1;Ce=0;var be=te===""?".":te+":";if(C(D))for(var Se=0;Se<D.length;Se++)te=D[Se],ne=be+K(te,Se),Ce+=X(te,V,ee,ne,fe);else if(Se=g(D),typeof Se=="function")for(D=Se.call(D),Se=0;!(te=D.next()).done;)te=te.value,ne=be+K(te,Se++),Ce+=X(te,V,ee,ne,fe);else if(ne==="object"){if(typeof D.then=="function")return X(Q(D),V,ee,te,fe);throw V=String(D),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function H(D,V,ee){if(D==null)return D;var te=[],fe=0;return X(D,te,"","",function(ne){return V.call(ee,ne,fe++)}),te}function z(D){if(D._status===-1){var V=D._result;V=V(),V.then(function(ee){(D._status===0||D._status===-1)&&(D._status=1,D._result=ee)},function(ee){(D._status===0||D._status===-1)&&(D._status=2,D._result=ee)}),D._status===-1&&(D._status=0,D._result=V)}if(D._status===1)return D._result.default;throw D._result}var k=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Y(){}return ot.Children={map:H,forEach:function(D,V,ee){H(D,function(){V.apply(this,arguments)},ee)},count:function(D){var V=0;return H(D,function(){V++}),V},toArray:function(D){return H(D,function(V){return V})||[]},only:function(D){if(!j(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ot.Component=S,ot.Fragment=n,ot.Profiler=s,ot.PureComponent=w,ot.StrictMode=i,ot.Suspense=h,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ot.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},ot.cache=function(D){return function(){return D.apply(null,arguments)}},ot.cloneElement=function(D,V,ee){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=x({},D.props),fe=D.key,ne=void 0;if(V!=null)for(Ce in V.ref!==void 0&&(ne=void 0),V.key!==void 0&&(fe=""+V.key),V)!E.call(V,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&V.ref===void 0||(te[Ce]=V[Ce]);var Ce=arguments.length-2;if(Ce===1)te.children=ee;else if(1<Ce){for(var be=Array(Ce),Se=0;Se<Ce;Se++)be[Se]=arguments[Se+2];te.children=be}return N(D.type,fe,void 0,void 0,ne,te)},ot.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},ot.createElement=function(D,V,ee){var te,fe={},ne=null;if(V!=null)for(te in V.key!==void 0&&(ne=""+V.key),V)E.call(V,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(fe[te]=V[te]);var Ce=arguments.length-2;if(Ce===1)fe.children=ee;else if(1<Ce){for(var be=Array(Ce),Se=0;Se<Ce;Se++)be[Se]=arguments[Se+2];fe.children=be}if(D&&D.defaultProps)for(te in Ce=D.defaultProps,Ce)fe[te]===void 0&&(fe[te]=Ce[te]);return N(D,ne,void 0,void 0,null,fe)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(D){return{$$typeof:u,render:D}},ot.isValidElement=j,ot.lazy=function(D){return{$$typeof:m,_payload:{_status:-1,_result:D},_init:z}},ot.memo=function(D,V){return{$$typeof:f,type:D,compare:V===void 0?null:V}},ot.startTransition=function(D){var V=R.T,ee={};R.T=ee;try{var te=D(),fe=R.S;fe!==null&&fe(ee,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Y,k)}catch(ne){k(ne)}finally{R.T=V}},ot.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ot.use=function(D){return R.H.use(D)},ot.useActionState=function(D,V,ee){return R.H.useActionState(D,V,ee)},ot.useCallback=function(D,V){return R.H.useCallback(D,V)},ot.useContext=function(D){return R.H.useContext(D)},ot.useDebugValue=function(){},ot.useDeferredValue=function(D,V){return R.H.useDeferredValue(D,V)},ot.useEffect=function(D,V,ee){var te=R.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,V)},ot.useId=function(){return R.H.useId()},ot.useImperativeHandle=function(D,V,ee){return R.H.useImperativeHandle(D,V,ee)},ot.useInsertionEffect=function(D,V){return R.H.useInsertionEffect(D,V)},ot.useLayoutEffect=function(D,V){return R.H.useLayoutEffect(D,V)},ot.useMemo=function(D,V){return R.H.useMemo(D,V)},ot.useOptimistic=function(D,V){return R.H.useOptimistic(D,V)},ot.useReducer=function(D,V,ee){return R.H.useReducer(D,V,ee)},ot.useRef=function(D){return R.H.useRef(D)},ot.useState=function(D){return R.H.useState(D)},ot.useSyncExternalStore=function(D,V,ee){return R.H.useSyncExternalStore(D,V,ee)},ot.useTransition=function(){return R.H.useTransition()},ot.version="19.1.0",ot}var Qw;function $r(){return Qw||(Qw=1,ty.exports=DD()),ty.exports}var W=$r(),ny={exports:{}},Hc={},iy={exports:{}},ry={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function ND(){return Kw||(Kw=1,function(t){function e(H,z){var k=H.length;H.push(z);e:for(;0<k;){var Y=k-1>>>1,D=H[Y];if(0<s(D,z))H[Y]=z,H[k]=D,k=Y;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var z=H[0],k=H.pop();if(k!==z){H[0]=k;e:for(var Y=0,D=H.length,V=D>>>1;Y<V;){var ee=2*(Y+1)-1,te=H[ee],fe=ee+1,ne=H[fe];if(0>s(te,k))fe<D&&0>s(ne,te)?(H[Y]=ne,H[fe]=k,Y=fe):(H[Y]=te,H[ee]=k,Y=ee);else if(fe<D&&0>s(ne,k))H[Y]=ne,H[fe]=k,Y=fe;else break e}}return z}function s(H,z){var k=H.sortIndex-z.sortIndex;return k!==0?k:H.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,p=null,g=3,y=!1,x=!1,M=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(H){for(var z=n(f);z!==null;){if(z.callback===null)i(f);else if(z.startTime<=H)i(f),z.sortIndex=z.expirationTime,e(h,z);else break;z=n(f)}}function R(H){if(M=!1,C(H),!x)if(n(h)!==null)x=!0,E||(E=!0,K());else{var z=n(f);z!==null&&X(R,z.startTime-H)}}var E=!1,N=-1,P=5,j=-1;function se(){return S?!0:!(t.unstable_now()-j<P)}function J(){if(S=!1,E){var H=t.unstable_now();j=H;var z=!0;try{e:{x=!1,M&&(M=!1,w(N),N=-1),y=!0;var k=g;try{t:{for(C(H),p=n(h);p!==null&&!(p.expirationTime>H&&se());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,g=p.priorityLevel;var D=Y(p.expirationTime<=H);if(H=t.unstable_now(),typeof D=="function"){p.callback=D,C(H),z=!0;break t}p===n(h)&&i(h),C(H)}else i(h);p=n(h)}if(p!==null)z=!0;else{var V=n(f);V!==null&&X(R,V.startTime-H),z=!1}}break e}finally{p=null,g=k,y=!1}z=void 0}}finally{z?K():E=!1}}}var K;if(typeof T=="function")K=function(){T(J)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Q=ae.port2;ae.port1.onmessage=J,K=function(){Q.postMessage(null)}}else K=function(){_(J,0)};function X(H,z){N=_(function(){H(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var k=g;g=z;try{return H()}finally{g=k}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var k=g;g=H;try{return z()}finally{g=k}},t.unstable_scheduleCallback=function(H,z,k){var Y=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Y+k:Y):k=Y,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=k+D,H={id:m++,callback:z,priorityLevel:H,startTime:k,expirationTime:D,sortIndex:-1},k>Y?(H.sortIndex=k,e(f,H),n(h)===null&&H===n(f)&&(M?(w(N),N=-1):M=!0,X(R,k-Y))):(H.sortIndex=D,e(h,H),x||y||(x=!0,E||(E=!0,K()))),H},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(H){var z=g;return function(){var k=g;g=z;try{return H.apply(this,arguments)}finally{g=k}}}}(ry)),ry}var $w;function OD(){return $w||($w=1,iy.exports=ND()),iy.exports}var sy={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM;function PD(){if(eM)return An;eM=1;var t=$r();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:h,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,An.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,m)},An.flushSync=function(h){var f=l.T,m=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=m,i.d.f()}},An.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},An.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},An.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):m==="script"&&i.d.X(h,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},An.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},An.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin);i.d.L(h,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},An.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},An.requestFormReset=function(h){i.d.r(h)},An.unstable_batchedUpdates=function(h,f){return h(f)},An.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.1.0",An}var tM;function BD(){if(tM)return sy.exports;tM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=PD(),sy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nM;function zD(){if(nM)return Hc;nM=1;var t=OD(),e=$r(),n=BD();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,d=a;;){var v=c.return;if(v===null)break;var b=v.alternate;if(b===null){if(d=v.return,d!==null){c=d;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===c)return u(v),r;if(b===d)return u(v),a;b=b.sibling}throw Error(i(188))}if(c.return!==d.return)c=v,d=b;else{for(var A=!1,L=v.child;L;){if(L===c){A=!0,c=v,d=b;break}if(L===d){A=!0,d=v,c=b;break}L=L.sibling}if(!A){for(L=b.child;L;){if(L===c){A=!0,c=b,d=v;break}if(L===d){A=!0,d=b,c=v;break}L=L.sibling}if(!A)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function f(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=f(r),a!==null)return a;r=r.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=J&&r[J]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Symbol.for("react.client.reference");function Q(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ae?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case S:return"Profiler";case M:return"StrictMode";case R:return"Suspense";case E:return"SuspenseList";case j:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case T:return(r.displayName||"Context")+".Provider";case w:return(r._context.displayName||"Context")+".Consumer";case C:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return a=r.displayName||null,a!==null?a:Q(r.type)||"Memo";case P:a=r._payload,r=r._init;try{return Q(r(a))}catch{}}return null}var X=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},Y=[],D=-1;function V(r){return{current:r}}function ee(r){0>D||(r.current=Y[D],Y[D]=null,D--)}function te(r,a){D++,Y[D]=r.current,r.current=a}var fe=V(null),ne=V(null),Ce=V(null),be=V(null);function Se(r,a){switch(te(Ce,a),te(ne,r),te(fe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?ww(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=ww(a),r=Mw(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ee(fe),te(fe,r)}function ye(){ee(fe),ee(ne),ee(Ce)}function Te(r){r.memoizedState!==null&&te(be,r);var a=fe.current,c=Mw(a,r.type);a!==c&&(te(ne,r),te(fe,c))}function Le(r){ne.current===r&&(ee(fe),ee(ne)),be.current===r&&(ee(be),Pc._currentValue=k)}var he=Object.prototype.hasOwnProperty,xe=t.unstable_scheduleCallback,we=t.unstable_cancelCallback,Fe=t.unstable_shouldYield,De=t.unstable_requestPaint,I=t.unstable_now,U=t.unstable_getCurrentPriorityLevel,Ee=t.unstable_ImmediatePriority,Me=t.unstable_UserBlockingPriority,Z=t.unstable_NormalPriority,Re=t.unstable_LowPriority,Pe=t.unstable_IdlePriority,ke=t.log,Ne=t.unstable_setDisableYieldValue,He=null,Ie=null;function Je(r){if(typeof ke=="function"&&Ne(r),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(He,r)}catch{}}var Be=Math.clz32?Math.clz32:Sn,Ke=Math.log,Pt=Math.LN2;function Sn(r){return r>>>=0,r===0?32:31-(Ke(r)/Pt|0)|0}var Qs=256,Ka=4194304;function Ji(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $a(r,a,c){var d=r.pendingLanes;if(d===0)return 0;var v=0,b=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var L=d&134217727;return L!==0?(d=L&~b,d!==0?v=Ji(d):(A&=L,A!==0?v=Ji(A):c||(c=L&~r,c!==0&&(v=Ji(c))))):(L=d&~b,L!==0?v=Ji(L):A!==0?v=Ji(A):c||(c=d&~r,c!==0&&(v=Ji(c)))),v===0?0:a!==0&&a!==v&&(a&b)===0&&(b=v&-v,c=a&-a,b>=c||b===32&&(c&4194048)!==0)?a:v}function br(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Xp(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(){var r=Qs;return Qs<<=1,(Qs&4194048)===0&&(Qs=256),r}function jl(){var r=Ka;return Ka<<=1,(Ka&62914560)===0&&(Ka=4194304),r}function eo(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function is(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Oi(r,a,c,d,v,b){var A=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var L=r.entanglements,G=r.expirationTimes,re=r.hiddenUpdates;for(c=A&~c;0<c;){var pe=31-Be(c),ve=1<<pe;L[pe]=0,G[pe]=-1;var oe=re[pe];if(oe!==null)for(re[pe]=null,pe=0;pe<oe.length;pe++){var le=oe[pe];le!==null&&(le.lane&=-536870913)}c&=~ve}d!==0&&Wl(r,d,0),b!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=b&~(A&~a))}function Wl(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-Be(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function _f(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var d=31-Be(c),v=1<<d;v&a|r[d]&a&&(r[d]|=a),c&=~v}}function ql(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function F(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function de(){var r=z.p;return r!==0?r:(r=window.event,r===void 0?32:Gw(r.type))}function ue(r,a){var c=z.p;try{return z.p=r,a()}finally{z.p=c}}var me=Math.random().toString(36).slice(2),Ae="__reactFiber$"+me,Ye="__reactProps$"+me,rt="__reactContainer$"+me,ct="__reactEvents$"+me,at="__reactListeners$"+me,Xt="__reactHandles$"+me,Ft="__reactResources$"+me,nt="__reactMarker$"+me;function xt(r){delete r[Ae],delete r[Ye],delete r[ct],delete r[at],delete r[Xt]}function Tn(r){var a=r[Ae];if(a)return a;for(var c=r.parentNode;c;){if(a=c[rt]||c[Ae]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=Aw(r);r!==null;){if(c=r[Ae])return c;r=Aw(r)}return a}r=c,c=r.parentNode}return null}function gt(r){if(r=r[Ae]||r[rt]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Kn(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Bt(r){var a=r[Ft];return a||(a=r[Ft]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Yt(r){r[nt]=!0}var gn=new Set,rs={};function kn(r,a){mi(r,a),mi(r+"Capture",a)}function mi(r,a){for(rs[r]=a,r=0;r<a.length;r++)gn.add(a[r])}var wC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),db={},pb={};function MC(r){return he.call(pb,r)?!0:he.call(db,r)?!1:wC.test(r)?pb[r]=!0:(db[r]=!0,!1)}function wf(r,a,c){if(MC(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function Mf(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function _r(r,a,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+d)}}var Yp,mb;function to(r){if(Yp===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Yp=a&&a[1]||"",mb=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yp+r+mb}var Zp=!1;function Jp(r,a){if(!r||Zp)return"";Zp=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(le){var oe=le}Reflect.construct(r,[],ve)}else{try{ve.call()}catch(le){oe=le}r.call(ve.prototype)}}else{try{throw Error()}catch(le){oe=le}(ve=r())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(le){if(le&&oe&&typeof le.stack=="string")return[le.stack,oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),A=b[0],L=b[1];if(A&&L){var G=A.split(`
`),re=L.split(`
`);for(v=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;v<re.length&&!re[v].includes("DetermineComponentFrameRoot");)v++;if(d===G.length||v===re.length)for(d=G.length-1,v=re.length-1;1<=d&&0<=v&&G[d]!==re[v];)v--;for(;1<=d&&0<=v;d--,v--)if(G[d]!==re[v]){if(d!==1||v!==1)do if(d--,v--,0>v||G[d]!==re[v]){var pe=`
`+G[d].replace(" at new "," at ");return r.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",r.displayName)),pe}while(1<=d&&0<=v);break}}}finally{Zp=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?to(c):""}function SC(r){switch(r.tag){case 26:case 27:case 5:return to(r.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 15:return Jp(r.type,!1);case 11:return Jp(r.type.render,!1);case 1:return Jp(r.type,!0);case 31:return to("Activity");default:return""}}function gb(r){try{var a="";do a+=SC(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function gi(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function yb(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function TC(r){var a=yb(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,b=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return v.call(this)},set:function(A){d=""+A,b.call(this,A)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Sf(r){r._valueTracker||(r._valueTracker=TC(r))}function vb(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),d="";return r&&(d=yb(r)?r.checked?"true":"false":r.value),r=d,r!==c?(a.setValue(r),!0):!1}function Tf(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var EC=/[\n"\\]/g;function yi(r){return r.replace(EC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Qp(r,a,c,d,v,b,A,L){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),a!=null?A==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+gi(a)):r.value!==""+gi(a)&&(r.value=""+gi(a)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),a!=null?Kp(r,A,gi(a)):c!=null?Kp(r,A,gi(c)):d!=null&&r.removeAttribute("value"),v==null&&b!=null&&(r.defaultChecked=!!b),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.name=""+gi(L):r.removeAttribute("name")}function xb(r,a,c,d,v,b,A,L){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),a!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;c=c!=null?""+gi(c):"",a=a!=null?""+gi(a):c,L||a===r.value||(r.value=a),r.defaultValue=a}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=L?r.checked:!!d,r.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function Kp(r,a,c){a==="number"&&Tf(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function no(r,a,c,d){if(r=r.options,a){a={};for(var v=0;v<c.length;v++)a["$"+c[v]]=!0;for(c=0;c<r.length;c++)v=a.hasOwnProperty("$"+r[c].value),r[c].selected!==v&&(r[c].selected=v),v&&d&&(r[c].defaultSelected=!0)}else{for(c=""+gi(c),a=null,v=0;v<r.length;v++){if(r[v].value===c){r[v].selected=!0,d&&(r[v].defaultSelected=!0);return}a!==null||r[v].disabled||(a=r[v])}a!==null&&(a.selected=!0)}}function bb(r,a,c){if(a!=null&&(a=""+gi(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+gi(c):""}function _b(r,a,c,d){if(a==null){if(d!=null){if(c!=null)throw Error(i(92));if(X(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),a=c}c=gi(a),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function io(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var AC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wb(r,a,c){var d=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,c):typeof c!="number"||c===0||AC.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function Mb(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var v in a)d=a[v],a.hasOwnProperty(v)&&c[v]!==d&&wb(r,v,d)}else for(var b in a)a.hasOwnProperty(b)&&wb(r,b,a[b])}function $p(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ef(r){return CC.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var em=null;function tm(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ro=null,so=null;function Sb(r){var a=gt(r);if(a&&(r=a.stateNode)){var c=r[Ye]||null;e:switch(r=a.stateNode,a.type){case"input":if(Qp(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+yi(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var d=c[a];if(d!==r&&d.form===r.form){var v=d[Ye]||null;if(!v)throw Error(i(90));Qp(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<c.length;a++)d=c[a],d.form===r.form&&vb(d)}break e;case"textarea":bb(r,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&no(r,!!c.multiple,a,!1)}}}var nm=!1;function Tb(r,a,c){if(nm)return r(a,c);nm=!0;try{var d=r(a);return d}finally{if(nm=!1,(ro!==null||so!==null)&&(fh(),ro&&(a=ro,r=so,so=ro=null,Sb(a),r)))for(a=0;a<r.length;a++)Sb(r[a])}}function Xl(r,a){var c=r.stateNode;if(c===null)return null;var d=c[Ye]||null;if(d===null)return null;c=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),im=!1;if(wr)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){im=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{im=!1}var ss=null,rm=null,Af=null;function Eb(){if(Af)return Af;var r,a=rm,c=a.length,d,v="value"in ss?ss.value:ss.textContent,b=v.length;for(r=0;r<c&&a[r]===v[r];r++);var A=c-r;for(d=1;d<=A&&a[c-d]===v[b-d];d++);return Af=v.slice(r,1<d?1-d:void 0)}function Rf(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Cf(){return!0}function Ab(){return!1}function jn(r){function a(c,d,v,b,A){this._reactName=c,this._targetInst=v,this.type=d,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var L in r)r.hasOwnProperty(L)&&(c=r[L],this[L]=c?c(b):b[L]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Cf:Ab,this.isPropagationStopped=Ab,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),a}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=jn(Ks),Zl=m({},Ks,{view:0,detail:0}),LC=jn(Zl),sm,am,Jl,Df=m({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lm,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jl&&(Jl&&r.type==="mousemove"?(sm=r.screenX-Jl.screenX,am=r.screenY-Jl.screenY):am=sm=0,Jl=r),sm)},movementY:function(r){return"movementY"in r?r.movementY:am}}),Rb=jn(Df),DC=m({},Df,{dataTransfer:0}),NC=jn(DC),OC=m({},Zl,{relatedTarget:0}),om=jn(OC),PC=m({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),BC=jn(PC),zC=m({},Ks,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),UC=jn(zC),FC=m({},Ks,{data:0}),Cb=jn(FC),IC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GC(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=VC[r])?!!a[r]:!1}function lm(){return GC}var kC=m({},Zl,{key:function(r){if(r.key){var a=IC[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Rf(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?HC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lm,charCode:function(r){return r.type==="keypress"?Rf(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Rf(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),jC=jn(kC),WC=m({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lb=jn(WC),qC=m({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lm}),XC=jn(qC),YC=m({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZC=jn(YC),JC=m({},Df,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),QC=jn(JC),KC=m({},Ks,{newState:0,oldState:0}),$C=jn(KC),eL=[9,13,27,32],cm=wr&&"CompositionEvent"in window,Ql=null;wr&&"documentMode"in document&&(Ql=document.documentMode);var tL=wr&&"TextEvent"in window&&!Ql,Db=wr&&(!cm||Ql&&8<Ql&&11>=Ql),Nb=" ",Ob=!1;function Pb(r,a){switch(r){case"keyup":return eL.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ao=!1;function nL(r,a){switch(r){case"compositionend":return Bb(a);case"keypress":return a.which!==32?null:(Ob=!0,Nb);case"textInput":return r=a.data,r===Nb&&Ob?null:r;default:return null}}function iL(r,a){if(ao)return r==="compositionend"||!cm&&Pb(r,a)?(r=Eb(),Af=rm=ss=null,ao=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Db&&a.locale!=="ko"?null:a.data;default:return null}}var rL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zb(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!rL[r.type]:a==="textarea"}function Ub(r,a,c,d){ro?so?so.push(d):so=[d]:ro=d,a=yh(a,"onChange"),0<a.length&&(c=new Lf("onChange","change",null,c,d),r.push({event:c,listeners:a}))}var Kl=null,$l=null;function sL(r){yw(r,0)}function Nf(r){var a=Kn(r);if(vb(a))return r}function Fb(r,a){if(r==="change")return a}var Ib=!1;if(wr){var um;if(wr){var fm="oninput"in document;if(!fm){var Hb=document.createElement("div");Hb.setAttribute("oninput","return;"),fm=typeof Hb.oninput=="function"}um=fm}else um=!1;Ib=um&&(!document.documentMode||9<document.documentMode)}function Vb(){Kl&&(Kl.detachEvent("onpropertychange",Gb),$l=Kl=null)}function Gb(r){if(r.propertyName==="value"&&Nf($l)){var a=[];Ub(a,$l,r,tm(r)),Tb(sL,a)}}function aL(r,a,c){r==="focusin"?(Vb(),Kl=a,$l=c,Kl.attachEvent("onpropertychange",Gb)):r==="focusout"&&Vb()}function oL(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Nf($l)}function lL(r,a){if(r==="click")return Nf(a)}function cL(r,a){if(r==="input"||r==="change")return Nf(a)}function uL(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var $n=typeof Object.is=="function"?Object.is:uL;function ec(r,a){if($n(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),d=Object.keys(a);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var v=c[d];if(!he.call(a,v)||!$n(r[v],a[v]))return!1}return!0}function kb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jb(r,a){var c=kb(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=a&&d>=a)return{node:c,offset:a-r};r=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=kb(c)}}function Wb(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Wb(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function qb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Tf(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=Tf(r.document)}return a}function hm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var fL=wr&&"documentMode"in document&&11>=document.documentMode,oo=null,dm=null,tc=null,pm=!1;function Xb(r,a,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;pm||oo==null||oo!==Tf(d)||(d=oo,"selectionStart"in d&&hm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),tc&&ec(tc,d)||(tc=d,d=yh(dm,"onSelect"),0<d.length&&(a=new Lf("onSelect","select",null,a,c),r.push({event:a,listeners:d}),a.target=oo)))}function $s(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var lo={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},mm={},Yb={};wr&&(Yb=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ea(r){if(mm[r])return mm[r];if(!lo[r])return r;var a=lo[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in Yb)return mm[r]=a[c];return r}var Zb=ea("animationend"),Jb=ea("animationiteration"),Qb=ea("animationstart"),hL=ea("transitionrun"),dL=ea("transitionstart"),pL=ea("transitioncancel"),Kb=ea("transitionend"),$b=new Map,gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gm.push("scrollEnd");function Pi(r,a){$b.set(r,a),kn(a,[r])}var e1=new WeakMap;function vi(r,a){if(typeof r=="object"&&r!==null){var c=e1.get(r);return c!==void 0?c:(a={value:r,source:a,stack:gb(a)},e1.set(r,a),a)}return{value:r,source:a,stack:gb(a)}}var xi=[],co=0,ym=0;function Of(){for(var r=co,a=ym=co=0;a<r;){var c=xi[a];xi[a++]=null;var d=xi[a];xi[a++]=null;var v=xi[a];xi[a++]=null;var b=xi[a];if(xi[a++]=null,d!==null&&v!==null){var A=d.pending;A===null?v.next=v:(v.next=A.next,A.next=v),d.pending=v}b!==0&&t1(c,v,b)}}function Pf(r,a,c,d){xi[co++]=r,xi[co++]=a,xi[co++]=c,xi[co++]=d,ym|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function vm(r,a,c,d){return Pf(r,a,c,d),Bf(r)}function uo(r,a){return Pf(r,null,null,a),Bf(r)}function t1(r,a,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var v=!1,b=r.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(v=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,v&&a!==null&&(v=31-Be(c),r=b.hiddenUpdates,d=r[v],d===null?r[v]=[a]:d.push(a),a.lane=c|536870912),b):null}function Bf(r){if(50<Ec)throw Ec=0,Sg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var fo={};function mL(r,a,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(r,a,c,d){return new mL(r,a,c,d)}function xm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Mr(r,a){var c=r.alternate;return c===null?(c=ei(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function n1(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function zf(r,a,c,d,v,b){var A=0;if(d=r,typeof r=="function")xm(r)&&(A=1);else if(typeof r=="string")A=yD(r,c,fe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case j:return r=ei(31,c,a,v),r.elementType=j,r.lanes=b,r;case x:return ta(c.children,v,b,a);case M:A=8,v|=24;break;case S:return r=ei(12,c,a,v|2),r.elementType=S,r.lanes=b,r;case R:return r=ei(13,c,a,v),r.elementType=R,r.lanes=b,r;case E:return r=ei(19,c,a,v),r.elementType=E,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case T:A=10;break e;case w:A=9;break e;case C:A=11;break e;case N:A=14;break e;case P:A=16,d=null;break e}A=29,c=Error(i(130,r===null?"null":typeof r,"")),d=null}return a=ei(A,c,a,v),a.elementType=r,a.type=d,a.lanes=b,a}function ta(r,a,c,d){return r=ei(7,r,d,a),r.lanes=c,r}function bm(r,a,c){return r=ei(6,r,null,a),r.lanes=c,r}function _m(r,a,c){return a=ei(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var ho=[],po=0,Uf=null,Ff=0,bi=[],_i=0,na=null,Sr=1,Tr="";function ia(r,a){ho[po++]=Ff,ho[po++]=Uf,Uf=r,Ff=a}function i1(r,a,c){bi[_i++]=Sr,bi[_i++]=Tr,bi[_i++]=na,na=r;var d=Sr;r=Tr;var v=32-Be(d)-1;d&=~(1<<v),c+=1;var b=32-Be(a)+v;if(30<b){var A=v-v%5;b=(d&(1<<A)-1).toString(32),d>>=A,v-=A,Sr=1<<32-Be(a)+v|c<<v|d,Tr=b+r}else Sr=1<<b|c<<v|d,Tr=r}function wm(r){r.return!==null&&(ia(r,1),i1(r,1,0))}function Mm(r){for(;r===Uf;)Uf=ho[--po],ho[po]=null,Ff=ho[--po],ho[po]=null;for(;r===na;)na=bi[--_i],bi[_i]=null,Tr=bi[--_i],bi[_i]=null,Sr=bi[--_i],bi[_i]=null}var Bn=null,Zt=null,vt=!1,ra=null,Qi=!1,Sm=Error(i(519));function sa(r){var a=Error(i(418,""));throw rc(vi(a,r)),Sm}function r1(r){var a=r.stateNode,c=r.type,d=r.memoizedProps;switch(a[Ae]=r,a[Ye]=d,c){case"dialog":pt("cancel",a),pt("close",a);break;case"iframe":case"object":case"embed":pt("load",a);break;case"video":case"audio":for(c=0;c<Rc.length;c++)pt(Rc[c],a);break;case"source":pt("error",a);break;case"img":case"image":case"link":pt("error",a),pt("load",a);break;case"details":pt("toggle",a);break;case"input":pt("invalid",a),xb(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Sf(a);break;case"select":pt("invalid",a);break;case"textarea":pt("invalid",a),_b(a,d.value,d.defaultValue,d.children),Sf(a)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||d.suppressHydrationWarning===!0||_w(a.textContent,c)?(d.popover!=null&&(pt("beforetoggle",a),pt("toggle",a)),d.onScroll!=null&&pt("scroll",a),d.onScrollEnd!=null&&pt("scrollend",a),d.onClick!=null&&(a.onclick=vh),a=!0):a=!1,a||sa(r)}function s1(r){for(Bn=r.return;Bn;)switch(Bn.tag){case 5:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Bn=Bn.return}}function nc(r){if(r!==Bn)return!1;if(!vt)return s1(r),vt=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Hg(r.type,r.memoizedProps)),c=!c),c&&Zt&&sa(r),s1(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){Zt=zi(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}Zt=null}}else a===27?(a=Zt,_s(r.type)?(r=jg,jg=null,Zt=r):Zt=a):Zt=Bn?zi(r.stateNode.nextSibling):null;return!0}function ic(){Zt=Bn=null,vt=!1}function a1(){var r=ra;return r!==null&&(Xn===null?Xn=r:Xn.push.apply(Xn,r),ra=null),r}function rc(r){ra===null?ra=[r]:ra.push(r)}var Tm=V(null),aa=null,Er=null;function as(r,a,c){te(Tm,a._currentValue),a._currentValue=c}function Ar(r){r._currentValue=Tm.current,ee(Tm)}function Em(r,a,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===c)break;r=r.return}}function Am(r,a,c,d){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var b=v.dependencies;if(b!==null){var A=v.child;b=b.firstContext;e:for(;b!==null;){var L=b;b=v;for(var G=0;G<a.length;G++)if(L.context===a[G]){b.lanes|=c,L=b.alternate,L!==null&&(L.lanes|=c),Em(b.return,c,r),d||(A=null);break e}b=L.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(i(341));A.lanes|=c,b=A.alternate,b!==null&&(b.lanes|=c),Em(A,c,r),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===r){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function sc(r,a,c,d){r=null;for(var v=a,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var L=v.type;$n(v.pendingProps.value,A.value)||(r!==null?r.push(L):r=[L])}}else if(v===be.current){if(A=v.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Pc):r=[Pc])}v=v.return}r!==null&&Am(a,r,c,d),a.flags|=262144}function If(r){for(r=r.firstContext;r!==null;){if(!$n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function oa(r){aa=r,Er=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function En(r){return o1(aa,r)}function Hf(r,a){return aa===null&&oa(r),o1(r,a)}function o1(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Er===null){if(r===null)throw Error(i(308));Er=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Er=Er.next=a;return c}var gL=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},yL=t.unstable_scheduleCallback,vL=t.unstable_NormalPriority,on={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new gL,data:new Map,refCount:0}}function ac(r){r.refCount--,r.refCount===0&&yL(vL,function(){r.controller.abort()})}var oc=null,Cm=0,mo=0,go=null;function xL(r,a){if(oc===null){var c=oc=[];Cm=0,mo=Dg(),go={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Cm++,a.then(l1,l1),a}function l1(){if(--Cm===0&&oc!==null){go!==null&&(go.status="fulfilled");var r=oc;oc=null,mo=0,go=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function bL(r,a){var c=[],d={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var v=0;v<c.length;v++)(0,c[v])(a)},function(v){for(d.status="rejected",d.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),d}var c1=H.S;H.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&xL(r,a),c1!==null&&c1(r,a)};var la=V(null);function Lm(){var r=la.current;return r!==null?r:Lt.pooledCache}function Vf(r,a){a===null?te(la,la.current):te(la,a.pool)}function u1(){var r=Lm();return r===null?null:{parent:on._currentValue,pool:r}}var lc=Error(i(460)),f1=Error(i(474)),Gf=Error(i(542)),Dm={then:function(){}};function h1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function kf(){}function d1(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(kf,kf),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,m1(r),r;default:if(typeof a.status=="string")a.then(kf,kf);else{if(r=Lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=d}},function(d){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,m1(r),r}throw cc=a,lc}}var cc=null;function p1(){if(cc===null)throw Error(i(459));var r=cc;return cc=null,r}function m1(r){if(r===lc||r===Gf)throw Error(i(483))}var os=!1;function Nm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ls(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function cs(r,a,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(bt&2)!==0){var v=d.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),d.pending=a,a=Bf(r),t1(r,null,c),a}return Pf(r,d,a,c),Bf(r)}function uc(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var d=a.lanes;d&=r.pendingLanes,c|=d,a.lanes=c,_f(r,c)}}function Pm(r,a){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var v=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?v=b=A:b=b.next=A,c=c.next}while(c!==null);b===null?v=b=a:b=b.next=a}else v=b=a;c={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var Bm=!1;function fc(){if(Bm){var r=go;if(r!==null)throw r}}function hc(r,a,c,d){Bm=!1;var v=r.updateQueue;os=!1;var b=v.firstBaseUpdate,A=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var G=L,re=G.next;G.next=null,A===null?b=re:A.next=re,A=G;var pe=r.alternate;pe!==null&&(pe=pe.updateQueue,L=pe.lastBaseUpdate,L!==A&&(L===null?pe.firstBaseUpdate=re:L.next=re,pe.lastBaseUpdate=G))}if(b!==null){var ve=v.baseState;A=0,pe=re=G=null,L=b;do{var oe=L.lane&-536870913,le=oe!==L.lane;if(le?(mt&oe)===oe:(d&oe)===oe){oe!==0&&oe===mo&&(Bm=!0),pe!==null&&(pe=pe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var et=r,Ze=L;oe=a;var Tt=c;switch(Ze.tag){case 1:if(et=Ze.payload,typeof et=="function"){ve=et.call(Tt,ve,oe);break e}ve=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=Ze.payload,oe=typeof et=="function"?et.call(Tt,ve,oe):et,oe==null)break e;ve=m({},ve,oe);break e;case 2:os=!0}}oe=L.callback,oe!==null&&(r.flags|=64,le&&(r.flags|=8192),le=v.callbacks,le===null?v.callbacks=[oe]:le.push(oe))}else le={lane:oe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},pe===null?(re=pe=le,G=ve):pe=pe.next=le,A|=oe;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;le=L,L=le.next,le.next=null,v.lastBaseUpdate=le,v.shared.pending=null}}while(!0);pe===null&&(G=ve),v.baseState=G,v.firstBaseUpdate=re,v.lastBaseUpdate=pe,b===null&&(v.shared.lanes=0),ys|=A,r.lanes=A,r.memoizedState=ve}}function g1(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function y1(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)g1(c[r],a)}var yo=V(null),jf=V(0);function v1(r,a){r=Pr,te(jf,r),te(yo,a),Pr=r|a.baseLanes}function zm(){te(jf,Pr),te(yo,yo.current)}function Um(){Pr=jf.current,ee(yo),ee(jf)}var us=0,ut=null,Mt=null,rn=null,Wf=!1,vo=!1,ca=!1,qf=0,dc=0,xo=null,_L=0;function $t(){throw Error(i(321))}function Fm(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!$n(r[c],a[c]))return!1;return!0}function Im(r,a,c,d,v,b){return us=b,ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=r===null||r.memoizedState===null?t_:n_,ca=!1,b=c(d,v),ca=!1,vo&&(b=b1(a,c,d,v)),x1(r),b}function x1(r){H.H=Kf;var a=Mt!==null&&Mt.next!==null;if(us=0,rn=Mt=ut=null,Wf=!1,dc=0,xo=null,a)throw Error(i(300));r===null||fn||(r=r.dependencies,r!==null&&If(r)&&(fn=!0))}function b1(r,a,c,d){ut=r;var v=0;do{if(vo&&(xo=null),dc=0,vo=!1,25<=v)throw Error(i(301));if(v+=1,rn=Mt=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}H.H=RL,b=a(c,d)}while(vo);return b}function wL(){var r=H.H,a=r.useState()[0];return a=typeof a.then=="function"?pc(a):a,r=r.useState()[0],(Mt!==null?Mt.memoizedState:null)!==r&&(ut.flags|=1024),a}function Hm(){var r=qf!==0;return qf=0,r}function Vm(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function Gm(r){if(Wf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Wf=!1}us=0,rn=Mt=ut=null,vo=!1,dc=qf=0,xo=null}function Wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?ut.memoizedState=rn=r:rn=rn.next=r,rn}function sn(){if(Mt===null){var r=ut.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var a=rn===null?ut.memoizedState:rn.next;if(a!==null)rn=a,Mt=r;else{if(r===null)throw ut.alternate===null?Error(i(467)):Error(i(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},rn===null?ut.memoizedState=rn=r:rn=rn.next=r}return rn}function km(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pc(r){var a=dc;return dc+=1,xo===null&&(xo=[]),r=d1(xo,r,a),a=ut,(rn===null?a.memoizedState:rn.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?t_:n_),r}function Xf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return pc(r);if(r.$$typeof===T)return En(r)}throw Error(i(438,String(r)))}function jm(r){var a=null,c=ut.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var d=ut.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=km(),ut.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),d=0;d<r;d++)c[d]=se;return a.index++,c}function Rr(r,a){return typeof a=="function"?a(r):a}function Yf(r){var a=sn();return Wm(a,Mt,r)}function Wm(r,a,c){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var v=r.baseQueue,b=d.pending;if(b!==null){if(v!==null){var A=v.next;v.next=b.next,b.next=A}a.baseQueue=v=b,d.pending=null}if(b=r.baseState,v===null)r.memoizedState=b;else{a=v.next;var L=A=null,G=null,re=a,pe=!1;do{var ve=re.lane&-536870913;if(ve!==re.lane?(mt&ve)===ve:(us&ve)===ve){var oe=re.revertLane;if(oe===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ve===mo&&(pe=!0);else if((us&oe)===oe){re=re.next,oe===mo&&(pe=!0);continue}else ve={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(L=G=ve,A=b):G=G.next=ve,ut.lanes|=oe,ys|=oe;ve=re.action,ca&&c(b,ve),b=re.hasEagerState?re.eagerState:c(b,ve)}else oe={lane:ve,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(L=G=oe,A=b):G=G.next=oe,ut.lanes|=ve,ys|=ve;re=re.next}while(re!==null&&re!==a);if(G===null?A=b:G.next=L,!$n(b,r.memoizedState)&&(fn=!0,pe&&(c=go,c!==null)))throw c;r.memoizedState=b,r.baseState=A,r.baseQueue=G,d.lastRenderedState=b}return v===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function qm(r){var a=sn(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var d=c.dispatch,v=c.pending,b=a.memoizedState;if(v!==null){c.pending=null;var A=v=v.next;do b=r(b,A.action),A=A.next;while(A!==v);$n(b,a.memoizedState)||(fn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,d]}function _1(r,a,c){var d=ut,v=sn(),b=vt;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=a();var A=!$n((Mt||v).memoizedState,c);A&&(v.memoizedState=c,fn=!0),v=v.queue;var L=S1.bind(null,d,v,r);if(mc(2048,8,L,[r]),v.getSnapshot!==a||A||rn!==null&&rn.memoizedState.tag&1){if(d.flags|=2048,bo(9,Zf(),M1.bind(null,d,v,c,a),null),Lt===null)throw Error(i(349));b||(us&124)!==0||w1(d,a,c)}return c}function w1(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=ut.updateQueue,a===null?(a=km(),ut.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function M1(r,a,c,d){a.value=c,a.getSnapshot=d,T1(a)&&E1(r)}function S1(r,a,c){return c(function(){T1(a)&&E1(r)})}function T1(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!$n(r,c)}catch{return!0}}function E1(r){var a=uo(r,2);a!==null&&si(a,r,2)}function Xm(r){var a=Wn();if(typeof r=="function"){var c=r;if(r=c(),ca){Je(!0);try{c()}finally{Je(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:r},a}function A1(r,a,c,d){return r.baseState=c,Wm(r,Mt,typeof d=="function"?d:Rr)}function ML(r,a,c,d,v){if(Qf(r))throw Error(i(485));if(r=a.action,r!==null){var b={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};H.T!==null?c(!0):b.isTransition=!1,d(b),c=a.pending,c===null?(b.next=a.pending=b,R1(a,b)):(b.next=c.next,a.pending=c.next=b)}}function R1(r,a){var c=a.action,d=a.payload,v=r.state;if(a.isTransition){var b=H.T,A={};H.T=A;try{var L=c(v,d),G=H.S;G!==null&&G(A,L),C1(r,a,L)}catch(re){Ym(r,a,re)}finally{H.T=b}}else try{b=c(v,d),C1(r,a,b)}catch(re){Ym(r,a,re)}}function C1(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){L1(r,a,d)},function(d){return Ym(r,a,d)}):L1(r,a,c)}function L1(r,a,c){a.status="fulfilled",a.value=c,D1(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,R1(r,c)))}function Ym(r,a,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=c,D1(a),a=a.next;while(a!==d)}r.action=null}function D1(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function N1(r,a){return a}function O1(r,a){if(vt){var c=Lt.formState;if(c!==null){e:{var d=ut;if(vt){if(Zt){t:{for(var v=Zt,b=Qi;v.nodeType!==8;){if(!b){v=null;break t}if(v=zi(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Zt=zi(v.nextSibling),d=v.data==="F!";break e}}sa(d)}d=!1}d&&(a=c[0])}}return c=Wn(),c.memoizedState=c.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N1,lastRenderedState:a},c.queue=d,c=K1.bind(null,ut,d),d.dispatch=c,d=Xm(!1),b=$m.bind(null,ut,!1,d.queue),d=Wn(),v={state:a,dispatch:null,action:r,pending:null},d.queue=v,c=ML.bind(null,ut,v,b,c),v.dispatch=c,d.memoizedState=r,[a,c,!1]}function P1(r){var a=sn();return B1(a,Mt,r)}function B1(r,a,c){if(a=Wm(r,a,N1)[0],r=Yf(Rr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=pc(a)}catch(A){throw A===lc?Gf:A}else d=a;a=sn();var v=a.queue,b=v.dispatch;return c!==a.memoizedState&&(ut.flags|=2048,bo(9,Zf(),SL.bind(null,v,c),null)),[d,b,r]}function SL(r,a){r.action=a}function z1(r){var a=sn(),c=Mt;if(c!==null)return B1(a,c,r);sn(),a=a.memoizedState,c=sn();var d=c.queue.dispatch;return c.memoizedState=r,[a,d,!1]}function bo(r,a,c,d){return r={tag:r,create:c,deps:d,inst:a,next:null},a=ut.updateQueue,a===null&&(a=km(),ut.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,a.lastEffect=r),r}function Zf(){return{destroy:void 0,resource:void 0}}function U1(){return sn().memoizedState}function Jf(r,a,c,d){var v=Wn();d=d===void 0?null:d,ut.flags|=r,v.memoizedState=bo(1|a,Zf(),c,d)}function mc(r,a,c,d){var v=sn();d=d===void 0?null:d;var b=v.memoizedState.inst;Mt!==null&&d!==null&&Fm(d,Mt.memoizedState.deps)?v.memoizedState=bo(a,b,c,d):(ut.flags|=r,v.memoizedState=bo(1|a,b,c,d))}function F1(r,a){Jf(8390656,8,r,a)}function I1(r,a){mc(2048,8,r,a)}function H1(r,a){return mc(4,2,r,a)}function V1(r,a){return mc(4,4,r,a)}function G1(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function k1(r,a,c){c=c!=null?c.concat([r]):null,mc(4,4,G1.bind(null,a,r),c)}function Zm(){}function j1(r,a){var c=sn();a=a===void 0?null:a;var d=c.memoizedState;return a!==null&&Fm(a,d[1])?d[0]:(c.memoizedState=[r,a],r)}function W1(r,a){var c=sn();a=a===void 0?null:a;var d=c.memoizedState;if(a!==null&&Fm(a,d[1]))return d[0];if(d=r(),ca){Je(!0);try{r()}finally{Je(!1)}}return c.memoizedState=[d,a],d}function Jm(r,a,c){return c===void 0||(us&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=Y_(),ut.lanes|=r,ys|=r,c)}function q1(r,a,c,d){return $n(c,a)?c:yo.current!==null?(r=Jm(r,c,d),$n(r,a)||(fn=!0),r):(us&42)===0?(fn=!0,r.memoizedState=c):(r=Y_(),ut.lanes|=r,ys|=r,a)}function X1(r,a,c,d,v){var b=z.p;z.p=b!==0&&8>b?b:8;var A=H.T,L={};H.T=L,$m(r,!1,a,c);try{var G=v(),re=H.S;if(re!==null&&re(L,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=bL(G,d);gc(r,a,pe,ri(r))}else gc(r,a,d,ri(r))}catch(ve){gc(r,a,{then:function(){},status:"rejected",reason:ve},ri())}finally{z.p=b,H.T=A}}function TL(){}function Qm(r,a,c,d){if(r.tag!==5)throw Error(i(476));var v=Y1(r).queue;X1(r,v,a,k,c===null?TL:function(){return Z1(r),c(d)})}function Y1(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:k},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Z1(r){var a=Y1(r).next.queue;gc(r,a,{},ri())}function Km(){return En(Pc)}function J1(){return sn().memoizedState}function Q1(){return sn().memoizedState}function EL(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=ri();r=ls(c);var d=cs(a,r,c);d!==null&&(si(d,a,c),uc(d,a,c)),a={cache:Rm()},r.payload=a;return}a=a.return}}function AL(r,a,c){var d=ri();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Qf(r)?$1(a,c):(c=vm(r,a,c,d),c!==null&&(si(c,r,d),e_(c,a,d)))}function K1(r,a,c){var d=ri();gc(r,a,c,d)}function gc(r,a,c,d){var v={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Qf(r))$1(a,v);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var A=a.lastRenderedState,L=b(A,c);if(v.hasEagerState=!0,v.eagerState=L,$n(L,A))return Pf(r,a,v,0),Lt===null&&Of(),!1}catch{}finally{}if(c=vm(r,a,v,d),c!==null)return si(c,r,d),e_(c,a,d),!0}return!1}function $m(r,a,c,d){if(d={lane:2,revertLane:Dg(),action:d,hasEagerState:!1,eagerState:null,next:null},Qf(r)){if(a)throw Error(i(479))}else a=vm(r,c,d,2),a!==null&&si(a,r,2)}function Qf(r){var a=r.alternate;return r===ut||a!==null&&a===ut}function $1(r,a){vo=Wf=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function e_(r,a,c){if((c&4194048)!==0){var d=a.lanes;d&=r.pendingLanes,c|=d,a.lanes=c,_f(r,c)}}var Kf={readContext:En,use:Xf,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},t_={readContext:En,use:Xf,useCallback:function(r,a){return Wn().memoizedState=[r,a===void 0?null:a],r},useContext:En,useEffect:F1,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Jf(4194308,4,G1.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Jf(4194308,4,r,a)},useInsertionEffect:function(r,a){Jf(4,2,r,a)},useMemo:function(r,a){var c=Wn();a=a===void 0?null:a;var d=r();if(ca){Je(!0);try{r()}finally{Je(!1)}}return c.memoizedState=[d,a],d},useReducer:function(r,a,c){var d=Wn();if(c!==void 0){var v=c(a);if(ca){Je(!0);try{c(a)}finally{Je(!1)}}}else v=a;return d.memoizedState=d.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},d.queue=r,r=r.dispatch=AL.bind(null,ut,r),[d.memoizedState,r]},useRef:function(r){var a=Wn();return r={current:r},a.memoizedState=r},useState:function(r){r=Xm(r);var a=r.queue,c=K1.bind(null,ut,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:Zm,useDeferredValue:function(r,a){var c=Wn();return Jm(c,r,a)},useTransition:function(){var r=Xm(!1);return r=X1.bind(null,ut,r.queue,!0,!1),Wn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var d=ut,v=Wn();if(vt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),Lt===null)throw Error(i(349));(mt&124)!==0||w1(d,a,c)}v.memoizedState=c;var b={value:c,getSnapshot:a};return v.queue=b,F1(S1.bind(null,d,b,r),[r]),d.flags|=2048,bo(9,Zf(),M1.bind(null,d,b,c,a),null),c},useId:function(){var r=Wn(),a=Lt.identifierPrefix;if(vt){var c=Tr,d=Sr;c=(d&~(1<<32-Be(d)-1)).toString(32)+c,a=""+a+"R"+c,c=qf++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=_L++,a=""+a+"r"+c.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:Km,useFormState:O1,useActionState:O1,useOptimistic:function(r){var a=Wn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=$m.bind(null,ut,!0,c),c.dispatch=a,[r,a]},useMemoCache:jm,useCacheRefresh:function(){return Wn().memoizedState=EL.bind(null,ut)}},n_={readContext:En,use:Xf,useCallback:j1,useContext:En,useEffect:I1,useImperativeHandle:k1,useInsertionEffect:H1,useLayoutEffect:V1,useMemo:W1,useReducer:Yf,useRef:U1,useState:function(){return Yf(Rr)},useDebugValue:Zm,useDeferredValue:function(r,a){var c=sn();return q1(c,Mt.memoizedState,r,a)},useTransition:function(){var r=Yf(Rr)[0],a=sn().memoizedState;return[typeof r=="boolean"?r:pc(r),a]},useSyncExternalStore:_1,useId:J1,useHostTransitionStatus:Km,useFormState:P1,useActionState:P1,useOptimistic:function(r,a){var c=sn();return A1(c,Mt,r,a)},useMemoCache:jm,useCacheRefresh:Q1},RL={readContext:En,use:Xf,useCallback:j1,useContext:En,useEffect:I1,useImperativeHandle:k1,useInsertionEffect:H1,useLayoutEffect:V1,useMemo:W1,useReducer:qm,useRef:U1,useState:function(){return qm(Rr)},useDebugValue:Zm,useDeferredValue:function(r,a){var c=sn();return Mt===null?Jm(c,r,a):q1(c,Mt.memoizedState,r,a)},useTransition:function(){var r=qm(Rr)[0],a=sn().memoizedState;return[typeof r=="boolean"?r:pc(r),a]},useSyncExternalStore:_1,useId:J1,useHostTransitionStatus:Km,useFormState:z1,useActionState:z1,useOptimistic:function(r,a){var c=sn();return Mt!==null?A1(c,Mt,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:jm,useCacheRefresh:Q1},_o=null,yc=0;function $f(r){var a=yc;return yc+=1,_o===null&&(_o=[]),d1(_o,r,a)}function vc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function eh(r,a){throw a.$$typeof===p?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function i_(r){var a=r._init;return a(r._payload)}function r_(r){function a($,q){if(r){var ie=$.deletions;ie===null?($.deletions=[q],$.flags|=16):ie.push(q)}}function c($,q){if(!r)return null;for(;q!==null;)a($,q),q=q.sibling;return null}function d($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function v($,q){return $=Mr($,q),$.index=0,$.sibling=null,$}function b($,q,ie){return $.index=ie,r?(ie=$.alternate,ie!==null?(ie=ie.index,ie<q?($.flags|=67108866,q):ie):($.flags|=67108866,q)):($.flags|=1048576,q)}function A($){return r&&$.alternate===null&&($.flags|=67108866),$}function L($,q,ie,ge){return q===null||q.tag!==6?(q=bm(ie,$.mode,ge),q.return=$,q):(q=v(q,ie),q.return=$,q)}function G($,q,ie,ge){var Ve=ie.type;return Ve===x?pe($,q,ie.props.children,ge,ie.key):q!==null&&(q.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===P&&i_(Ve)===q.type)?(q=v(q,ie.props),vc(q,ie),q.return=$,q):(q=zf(ie.type,ie.key,ie.props,null,$.mode,ge),vc(q,ie),q.return=$,q)}function re($,q,ie,ge){return q===null||q.tag!==4||q.stateNode.containerInfo!==ie.containerInfo||q.stateNode.implementation!==ie.implementation?(q=_m(ie,$.mode,ge),q.return=$,q):(q=v(q,ie.children||[]),q.return=$,q)}function pe($,q,ie,ge,Ve){return q===null||q.tag!==7?(q=ta(ie,$.mode,ge,Ve),q.return=$,q):(q=v(q,ie),q.return=$,q)}function ve($,q,ie){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=bm(""+q,$.mode,ie),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case g:return ie=zf(q.type,q.key,q.props,null,$.mode,ie),vc(ie,q),ie.return=$,ie;case y:return q=_m(q,$.mode,ie),q.return=$,q;case P:var ge=q._init;return q=ge(q._payload),ve($,q,ie)}if(X(q)||K(q))return q=ta(q,$.mode,ie,null),q.return=$,q;if(typeof q.then=="function")return ve($,$f(q),ie);if(q.$$typeof===T)return ve($,Hf($,q),ie);eh($,q)}return null}function oe($,q,ie,ge){var Ve=q!==null?q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ve!==null?null:L($,q,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case g:return ie.key===Ve?G($,q,ie,ge):null;case y:return ie.key===Ve?re($,q,ie,ge):null;case P:return Ve=ie._init,ie=Ve(ie._payload),oe($,q,ie,ge)}if(X(ie)||K(ie))return Ve!==null?null:pe($,q,ie,ge,null);if(typeof ie.then=="function")return oe($,q,$f(ie),ge);if(ie.$$typeof===T)return oe($,q,Hf($,ie),ge);eh($,ie)}return null}function le($,q,ie,ge,Ve){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return $=$.get(ie)||null,L(q,$,""+ge,Ve);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case g:return $=$.get(ge.key===null?ie:ge.key)||null,G(q,$,ge,Ve);case y:return $=$.get(ge.key===null?ie:ge.key)||null,re(q,$,ge,Ve);case P:var ft=ge._init;return ge=ft(ge._payload),le($,q,ie,ge,Ve)}if(X(ge)||K(ge))return $=$.get(ie)||null,pe(q,$,ge,Ve,null);if(typeof ge.then=="function")return le($,q,ie,$f(ge),Ve);if(ge.$$typeof===T)return le($,q,ie,Hf(q,ge),Ve);eh(q,ge)}return null}function et($,q,ie,ge){for(var Ve=null,ft=null,je=q,Qe=q=0,dn=null;je!==null&&Qe<ie.length;Qe++){je.index>Qe?(dn=je,je=null):dn=je.sibling;var yt=oe($,je,ie[Qe],ge);if(yt===null){je===null&&(je=dn);break}r&&je&&yt.alternate===null&&a($,je),q=b(yt,q,Qe),ft===null?Ve=yt:ft.sibling=yt,ft=yt,je=dn}if(Qe===ie.length)return c($,je),vt&&ia($,Qe),Ve;if(je===null){for(;Qe<ie.length;Qe++)je=ve($,ie[Qe],ge),je!==null&&(q=b(je,q,Qe),ft===null?Ve=je:ft.sibling=je,ft=je);return vt&&ia($,Qe),Ve}for(je=d(je);Qe<ie.length;Qe++)dn=le(je,$,Qe,ie[Qe],ge),dn!==null&&(r&&dn.alternate!==null&&je.delete(dn.key===null?Qe:dn.key),q=b(dn,q,Qe),ft===null?Ve=dn:ft.sibling=dn,ft=dn);return r&&je.forEach(function(Es){return a($,Es)}),vt&&ia($,Qe),Ve}function Ze($,q,ie,ge){if(ie==null)throw Error(i(151));for(var Ve=null,ft=null,je=q,Qe=q=0,dn=null,yt=ie.next();je!==null&&!yt.done;Qe++,yt=ie.next()){je.index>Qe?(dn=je,je=null):dn=je.sibling;var Es=oe($,je,yt.value,ge);if(Es===null){je===null&&(je=dn);break}r&&je&&Es.alternate===null&&a($,je),q=b(Es,q,Qe),ft===null?Ve=Es:ft.sibling=Es,ft=Es,je=dn}if(yt.done)return c($,je),vt&&ia($,Qe),Ve;if(je===null){for(;!yt.done;Qe++,yt=ie.next())yt=ve($,yt.value,ge),yt!==null&&(q=b(yt,q,Qe),ft===null?Ve=yt:ft.sibling=yt,ft=yt);return vt&&ia($,Qe),Ve}for(je=d(je);!yt.done;Qe++,yt=ie.next())yt=le(je,$,Qe,yt.value,ge),yt!==null&&(r&&yt.alternate!==null&&je.delete(yt.key===null?Qe:yt.key),q=b(yt,q,Qe),ft===null?Ve=yt:ft.sibling=yt,ft=yt);return r&&je.forEach(function(CD){return a($,CD)}),vt&&ia($,Qe),Ve}function Tt($,q,ie,ge){if(typeof ie=="object"&&ie!==null&&ie.type===x&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case g:e:{for(var Ve=ie.key;q!==null;){if(q.key===Ve){if(Ve=ie.type,Ve===x){if(q.tag===7){c($,q.sibling),ge=v(q,ie.props.children),ge.return=$,$=ge;break e}}else if(q.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===P&&i_(Ve)===q.type){c($,q.sibling),ge=v(q,ie.props),vc(ge,ie),ge.return=$,$=ge;break e}c($,q);break}else a($,q);q=q.sibling}ie.type===x?(ge=ta(ie.props.children,$.mode,ge,ie.key),ge.return=$,$=ge):(ge=zf(ie.type,ie.key,ie.props,null,$.mode,ge),vc(ge,ie),ge.return=$,$=ge)}return A($);case y:e:{for(Ve=ie.key;q!==null;){if(q.key===Ve)if(q.tag===4&&q.stateNode.containerInfo===ie.containerInfo&&q.stateNode.implementation===ie.implementation){c($,q.sibling),ge=v(q,ie.children||[]),ge.return=$,$=ge;break e}else{c($,q);break}else a($,q);q=q.sibling}ge=_m(ie,$.mode,ge),ge.return=$,$=ge}return A($);case P:return Ve=ie._init,ie=Ve(ie._payload),Tt($,q,ie,ge)}if(X(ie))return et($,q,ie,ge);if(K(ie)){if(Ve=K(ie),typeof Ve!="function")throw Error(i(150));return ie=Ve.call(ie),Ze($,q,ie,ge)}if(typeof ie.then=="function")return Tt($,q,$f(ie),ge);if(ie.$$typeof===T)return Tt($,q,Hf($,ie),ge);eh($,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,q!==null&&q.tag===6?(c($,q.sibling),ge=v(q,ie),ge.return=$,$=ge):(c($,q),ge=bm(ie,$.mode,ge),ge.return=$,$=ge),A($)):c($,q)}return function($,q,ie,ge){try{yc=0;var Ve=Tt($,q,ie,ge);return _o=null,Ve}catch(je){if(je===lc||je===Gf)throw je;var ft=ei(29,je,null,$.mode);return ft.lanes=ge,ft.return=$,ft}finally{}}}var wo=r_(!0),s_=r_(!1),wi=V(null),Ki=null;function fs(r){var a=r.alternate;te(ln,ln.current&1),te(wi,r),Ki===null&&(a===null||yo.current!==null||a.memoizedState!==null)&&(Ki=r)}function a_(r){if(r.tag===22){if(te(ln,ln.current),te(wi,r),Ki===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Ki=r)}}else hs()}function hs(){te(ln,ln.current),te(wi,wi.current)}function Cr(r){ee(wi),Ki===r&&(Ki=null),ee(ln)}var ln=V(0);function th(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||kg(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function eg(r,a,c,d){a=r.memoizedState,c=c(d,a),c=c==null?a:m({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var tg={enqueueSetState:function(r,a,c){r=r._reactInternals;var d=ri(),v=ls(d);v.payload=a,c!=null&&(v.callback=c),a=cs(r,v,d),a!==null&&(si(a,r,d),uc(a,r,d))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var d=ri(),v=ls(d);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=cs(r,v,d),a!==null&&(si(a,r,d),uc(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=ri(),d=ls(c);d.tag=2,a!=null&&(d.callback=a),a=cs(r,d,c),a!==null&&(si(a,r,c),uc(a,r,c))}};function o_(r,a,c,d,v,b,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,A):a.prototype&&a.prototype.isPureReactComponent?!ec(c,d)||!ec(v,b):!0}function l_(r,a,c,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,d),a.state!==r&&tg.enqueueReplaceState(a,a.state,null)}function ua(r,a){var c=a;if("ref"in a){c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}if(r=r.defaultProps){c===a&&(c=m({},c));for(var v in r)c[v]===void 0&&(c[v]=r[v])}return c}var nh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function c_(r){nh(r)}function u_(r){console.error(r)}function f_(r){nh(r)}function ih(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function h_(r,a,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ng(r,a,c){return c=ls(c),c.tag=3,c.payload={element:null},c.callback=function(){ih(r,a)},c}function d_(r){return r=ls(r),r.tag=3,r}function p_(r,a,c,d){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var b=d.value;r.payload=function(){return v(b)},r.callback=function(){h_(a,c,d)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){h_(a,c,d),typeof v!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var L=d.stack;this.componentDidCatch(d.value,{componentStack:L!==null?L:""})})}function CL(r,a,c,d,v){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=c.alternate,a!==null&&sc(a,c,v,!0),c=wi.current,c!==null){switch(c.tag){case 13:return Ki===null?Eg():c.alternate===null&&Jt===0&&(Jt=3),c.flags&=-257,c.flags|=65536,c.lanes=v,d===Dm?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([d]):a.add(d),Rg(r,d,v)),!1;case 22:return c.flags|=65536,d===Dm?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([d]):c.add(d)),Rg(r,d,v)),!1}throw Error(i(435,c.tag))}return Rg(r,d,v),Eg(),!1}if(vt)return a=wi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,d!==Sm&&(r=Error(i(422),{cause:d}),rc(vi(r,c)))):(d!==Sm&&(a=Error(i(423),{cause:d}),rc(vi(a,c))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,d=vi(d,c),v=ng(r.stateNode,d,v),Pm(r,v),Jt!==4&&(Jt=2)),!1;var b=Error(i(520),{cause:d});if(b=vi(b,c),Tc===null?Tc=[b]:Tc.push(b),Jt!==4&&(Jt=2),a===null)return!0;d=vi(d,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=v&-v,c.lanes|=r,r=ng(c.stateNode,d,r),Pm(c,r),!1;case 1:if(a=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(vs===null||!vs.has(b))))return c.flags|=65536,v&=-v,c.lanes|=v,v=d_(v),p_(v,r,c,d),Pm(c,v),!1}c=c.return}while(c!==null);return!1}var m_=Error(i(461)),fn=!1;function yn(r,a,c,d){a.child=r===null?s_(a,null,c,d):wo(a,r.child,c,d)}function g_(r,a,c,d,v){c=c.render;var b=a.ref;if("ref"in d){var A={};for(var L in d)L!=="ref"&&(A[L]=d[L])}else A=d;return oa(a),d=Im(r,a,c,A,b,v),L=Hm(),r!==null&&!fn?(Vm(r,a,v),Lr(r,a,v)):(vt&&L&&wm(a),a.flags|=1,yn(r,a,d,v),a.child)}function y_(r,a,c,d,v){if(r===null){var b=c.type;return typeof b=="function"&&!xm(b)&&b.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=b,v_(r,a,b,d,v)):(r=zf(c.type,null,d,a,a.mode,v),r.ref=a.ref,r.return=a,a.child=r)}if(b=r.child,!ug(r,v)){var A=b.memoizedProps;if(c=c.compare,c=c!==null?c:ec,c(A,d)&&r.ref===a.ref)return Lr(r,a,v)}return a.flags|=1,r=Mr(b,d),r.ref=a.ref,r.return=a,a.child=r}function v_(r,a,c,d,v){if(r!==null){var b=r.memoizedProps;if(ec(b,d)&&r.ref===a.ref)if(fn=!1,a.pendingProps=d=b,ug(r,v))(r.flags&131072)!==0&&(fn=!0);else return a.lanes=r.lanes,Lr(r,a,v)}return ig(r,a,c,d,v)}function x_(r,a,c){var d=a.pendingProps,v=d.children,b=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=b!==null?b.baseLanes|c:c,r!==null){for(v=a.child=r.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;a.childLanes=b&~d}else a.childLanes=0,a.child=null;return b_(r,a,d,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vf(a,b!==null?b.cachePool:null),b!==null?v1(a,b):zm(),a_(a);else return a.lanes=a.childLanes=536870912,b_(r,a,b!==null?b.baseLanes|c:c,c)}else b!==null?(Vf(a,b.cachePool),v1(a,b),hs(),a.memoizedState=null):(r!==null&&Vf(a,null),zm(),hs());return yn(r,a,v,c),a.child}function b_(r,a,c,d){var v=Lm();return v=v===null?null:{parent:on._currentValue,pool:v},a.memoizedState={baseLanes:c,cachePool:v},r!==null&&Vf(a,null),zm(),a_(a),r!==null&&sc(r,a,d,!0),null}function rh(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function ig(r,a,c,d,v){return oa(a),c=Im(r,a,c,d,void 0,v),d=Hm(),r!==null&&!fn?(Vm(r,a,v),Lr(r,a,v)):(vt&&d&&wm(a),a.flags|=1,yn(r,a,c,v),a.child)}function __(r,a,c,d,v,b){return oa(a),a.updateQueue=null,c=b1(a,d,c,v),x1(r),d=Hm(),r!==null&&!fn?(Vm(r,a,b),Lr(r,a,b)):(vt&&d&&wm(a),a.flags|=1,yn(r,a,c,b),a.child)}function w_(r,a,c,d,v){if(oa(a),a.stateNode===null){var b=fo,A=c.contextType;typeof A=="object"&&A!==null&&(b=En(A)),b=new c(d,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=tg,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=d,b.state=a.memoizedState,b.refs={},Nm(a),A=c.contextType,b.context=typeof A=="object"&&A!==null?En(A):fo,b.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(eg(a,c,A,d),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&tg.enqueueReplaceState(b,b.state,null),hc(a,d,b,v),fc(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){b=a.stateNode;var L=a.memoizedProps,G=ua(c,L);b.props=G;var re=b.context,pe=c.contextType;A=fo,typeof pe=="object"&&pe!==null&&(A=En(pe));var ve=c.getDerivedStateFromProps;pe=typeof ve=="function"||typeof b.getSnapshotBeforeUpdate=="function",L=a.pendingProps!==L,pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L||re!==A)&&l_(a,b,d,A),os=!1;var oe=a.memoizedState;b.state=oe,hc(a,d,b,v),fc(),re=a.memoizedState,L||oe!==re||os?(typeof ve=="function"&&(eg(a,c,ve,d),re=a.memoizedState),(G=os||o_(a,c,G,d,oe,re,A))?(pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=re),b.props=d,b.state=re,b.context=A,d=G):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{b=a.stateNode,Om(r,a),A=a.memoizedProps,pe=ua(c,A),b.props=pe,ve=a.pendingProps,oe=b.context,re=c.contextType,G=fo,typeof re=="object"&&re!==null&&(G=En(re)),L=c.getDerivedStateFromProps,(re=typeof L=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==ve||oe!==G)&&l_(a,b,d,G),os=!1,oe=a.memoizedState,b.state=oe,hc(a,d,b,v),fc();var le=a.memoizedState;A!==ve||oe!==le||os||r!==null&&r.dependencies!==null&&If(r.dependencies)?(typeof L=="function"&&(eg(a,c,L,d),le=a.memoizedState),(pe=os||o_(a,c,pe,d,oe,le,G)||r!==null&&r.dependencies!==null&&If(r.dependencies))?(re||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,le,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,le,G)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&oe===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&oe===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=le),b.props=d,b.state=le,b.context=G,d=pe):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&oe===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&oe===r.memoizedState||(a.flags|=1024),d=!1)}return b=d,rh(r,a),d=(a.flags&128)!==0,b||d?(b=a.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,r!==null&&d?(a.child=wo(a,r.child,null,v),a.child=wo(a,null,c,v)):yn(r,a,c,v),a.memoizedState=b.state,r=a.child):r=Lr(r,a,v),r}function M_(r,a,c,d){return ic(),a.flags|=256,yn(r,a,c,d),a.child}var rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sg(r){return{baseLanes:r,cachePool:u1()}}function ag(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=Mi),r}function S_(r,a,c){var d=a.pendingProps,v=!1,b=(a.flags&128)!==0,A;if((A=b)||(A=r!==null&&r.memoizedState===null?!1:(ln.current&2)!==0),A&&(v=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,r===null){if(vt){if(v?fs(a):hs(),vt){var L=Zt,G;if(G=L){e:{for(G=L,L=Qi;G.nodeType!==8;){if(!L){L=null;break e}if(G=zi(G.nextSibling),G===null){L=null;break e}}L=G}L!==null?(a.memoizedState={dehydrated:L,treeContext:na!==null?{id:Sr,overflow:Tr}:null,retryLane:536870912,hydrationErrors:null},G=ei(18,null,null,0),G.stateNode=L,G.return=a,a.child=G,Bn=a,Zt=null,G=!0):G=!1}G||sa(a)}if(L=a.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return kg(L)?a.lanes=32:a.lanes=536870912,null;Cr(a)}return L=d.children,d=d.fallback,v?(hs(),v=a.mode,L=sh({mode:"hidden",children:L},v),d=ta(d,v,c,null),L.return=a,d.return=a,L.sibling=d,a.child=L,v=a.child,v.memoizedState=sg(c),v.childLanes=ag(r,A,c),a.memoizedState=rg,d):(fs(a),og(a,L))}if(G=r.memoizedState,G!==null&&(L=G.dehydrated,L!==null)){if(b)a.flags&256?(fs(a),a.flags&=-257,a=lg(r,a,c)):a.memoizedState!==null?(hs(),a.child=r.child,a.flags|=128,a=null):(hs(),v=d.fallback,L=a.mode,d=sh({mode:"visible",children:d.children},L),v=ta(v,L,c,null),v.flags|=2,d.return=a,v.return=a,d.sibling=v,a.child=d,wo(a,r.child,null,c),d=a.child,d.memoizedState=sg(c),d.childLanes=ag(r,A,c),a.memoizedState=rg,a=v);else if(fs(a),kg(L)){if(A=L.nextSibling&&L.nextSibling.dataset,A)var re=A.dgst;A=re,d=Error(i(419)),d.stack="",d.digest=A,rc({value:d,source:null,stack:null}),a=lg(r,a,c)}else if(fn||sc(r,a,c,!1),A=(c&r.childLanes)!==0,fn||A){if(A=Lt,A!==null&&(d=c&-c,d=(d&42)!==0?1:ql(d),d=(d&(A.suspendedLanes|c))!==0?0:d,d!==0&&d!==G.retryLane))throw G.retryLane=d,uo(r,d),si(A,r,d),m_;L.data==="$?"||Eg(),a=lg(r,a,c)}else L.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=G.treeContext,Zt=zi(L.nextSibling),Bn=a,vt=!0,ra=null,Qi=!1,r!==null&&(bi[_i++]=Sr,bi[_i++]=Tr,bi[_i++]=na,Sr=r.id,Tr=r.overflow,na=a),a=og(a,d.children),a.flags|=4096);return a}return v?(hs(),v=d.fallback,L=a.mode,G=r.child,re=G.sibling,d=Mr(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,re!==null?v=Mr(re,v):(v=ta(v,L,c,null),v.flags|=2),v.return=a,d.return=a,d.sibling=v,a.child=d,d=v,v=a.child,L=r.child.memoizedState,L===null?L=sg(c):(G=L.cachePool,G!==null?(re=on._currentValue,G=G.parent!==re?{parent:re,pool:re}:G):G=u1(),L={baseLanes:L.baseLanes|c,cachePool:G}),v.memoizedState=L,v.childLanes=ag(r,A,c),a.memoizedState=rg,d):(fs(a),c=r.child,r=c.sibling,c=Mr(c,{mode:"visible",children:d.children}),c.return=a,c.sibling=null,r!==null&&(A=a.deletions,A===null?(a.deletions=[r],a.flags|=16):A.push(r)),a.child=c,a.memoizedState=null,c)}function og(r,a){return a=sh({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function sh(r,a){return r=ei(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function lg(r,a,c){return wo(a,r.child,null,c),r=og(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function T_(r,a,c){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Em(r.return,a,c)}function cg(r,a,c,d,v){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:v}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=c,b.tailMode=v)}function E_(r,a,c){var d=a.pendingProps,v=d.revealOrder,b=d.tail;if(yn(r,a,d.children,c),d=ln.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&T_(r,c,a);else if(r.tag===19)T_(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(te(ln,d),v){case"forwards":for(c=a.child,v=null;c!==null;)r=c.alternate,r!==null&&th(r)===null&&(v=c),c=c.sibling;c=v,c===null?(v=a.child,a.child=null):(v=c.sibling,c.sibling=null),cg(a,!1,v,c,b);break;case"backwards":for(c=null,v=a.child,a.child=null;v!==null;){if(r=v.alternate,r!==null&&th(r)===null){a.child=v;break}r=v.sibling,v.sibling=c,c=v,v=r}cg(a,!0,c,null,b);break;case"together":cg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Lr(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),ys|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(sc(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=Mr(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=Mr(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function ug(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&If(r)))}function LL(r,a,c){switch(a.tag){case 3:Se(a,a.stateNode.containerInfo),as(a,on,r.memoizedState.cache),ic();break;case 27:case 5:Te(a);break;case 4:Se(a,a.stateNode.containerInfo);break;case 10:as(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(fs(a),a.flags|=128,null):(c&a.child.childLanes)!==0?S_(r,a,c):(fs(a),r=Lr(r,a,c),r!==null?r.sibling:null);fs(a);break;case 19:var v=(r.flags&128)!==0;if(d=(c&a.childLanes)!==0,d||(sc(r,a,c,!1),d=(c&a.childLanes)!==0),v){if(d)return E_(r,a,c);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),te(ln,ln.current),d)break;return null;case 22:case 23:return a.lanes=0,x_(r,a,c);case 24:as(a,on,r.memoizedState.cache)}return Lr(r,a,c)}function A_(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)fn=!0;else{if(!ug(r,c)&&(a.flags&128)===0)return fn=!1,LL(r,a,c);fn=(r.flags&131072)!==0}else fn=!1,vt&&(a.flags&1048576)!==0&&i1(a,Ff,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var d=a.elementType,v=d._init;if(d=v(d._payload),a.type=d,typeof d=="function")xm(d)?(r=ua(d,r),a.tag=1,a=w_(null,a,d,r,c)):(a.tag=0,a=ig(null,a,d,r,c));else{if(d!=null){if(v=d.$$typeof,v===C){a.tag=11,a=g_(null,a,d,r,c);break e}else if(v===N){a.tag=14,a=y_(null,a,d,r,c);break e}}throw a=Q(d)||d,Error(i(306,a,""))}}return a;case 0:return ig(r,a,a.type,a.pendingProps,c);case 1:return d=a.type,v=ua(d,a.pendingProps),w_(r,a,d,v,c);case 3:e:{if(Se(a,a.stateNode.containerInfo),r===null)throw Error(i(387));d=a.pendingProps;var b=a.memoizedState;v=b.element,Om(r,a),hc(a,d,null,c);var A=a.memoizedState;if(d=A.cache,as(a,on,d),d!==b.cache&&Am(a,[on],c,!0),fc(),d=A.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=M_(r,a,d,c);break e}else if(d!==v){v=vi(Error(i(424)),a),rc(v),a=M_(r,a,d,c);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Zt=zi(r.firstChild),Bn=a,vt=!0,ra=null,Qi=!0,c=s_(a,null,d,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ic(),d===v){a=Lr(r,a,c);break e}yn(r,a,d,c)}a=a.child}return a;case 26:return rh(r,a),r===null?(c=Dw(a.type,null,a.pendingProps,null))?a.memoizedState=c:vt||(c=a.type,r=a.pendingProps,d=xh(Ce.current).createElement(c),d[Ae]=a,d[Ye]=r,xn(d,c,r),Yt(d),a.stateNode=d):a.memoizedState=Dw(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Te(a),r===null&&vt&&(d=a.stateNode=Rw(a.type,a.pendingProps,Ce.current),Bn=a,Qi=!0,v=Zt,_s(a.type)?(jg=v,Zt=zi(d.firstChild)):Zt=v),yn(r,a,a.pendingProps.children,c),rh(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&vt&&((v=d=Zt)&&(d=rD(d,a.type,a.pendingProps,Qi),d!==null?(a.stateNode=d,Bn=a,Zt=zi(d.firstChild),Qi=!1,v=!0):v=!1),v||sa(a)),Te(a),v=a.type,b=a.pendingProps,A=r!==null?r.memoizedProps:null,d=b.children,Hg(v,b)?d=null:A!==null&&Hg(v,A)&&(a.flags|=32),a.memoizedState!==null&&(v=Im(r,a,wL,null,null,c),Pc._currentValue=v),rh(r,a),yn(r,a,d,c),a.child;case 6:return r===null&&vt&&((r=c=Zt)&&(c=sD(c,a.pendingProps,Qi),c!==null?(a.stateNode=c,Bn=a,Zt=null,r=!0):r=!1),r||sa(a)),null;case 13:return S_(r,a,c);case 4:return Se(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=wo(a,null,d,c):yn(r,a,d,c),a.child;case 11:return g_(r,a,a.type,a.pendingProps,c);case 7:return yn(r,a,a.pendingProps,c),a.child;case 8:return yn(r,a,a.pendingProps.children,c),a.child;case 12:return yn(r,a,a.pendingProps.children,c),a.child;case 10:return d=a.pendingProps,as(a,a.type,d.value),yn(r,a,d.children,c),a.child;case 9:return v=a.type._context,d=a.pendingProps.children,oa(a),v=En(v),d=d(v),a.flags|=1,yn(r,a,d,c),a.child;case 14:return y_(r,a,a.type,a.pendingProps,c);case 15:return v_(r,a,a.type,a.pendingProps,c);case 19:return E_(r,a,c);case 31:return d=a.pendingProps,c=a.mode,d={mode:d.mode,children:d.children},r===null?(c=sh(d,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=Mr(r.child,d),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return x_(r,a,c);case 24:return oa(a),d=En(on),r===null?(v=Lm(),v===null&&(v=Lt,b=Rm(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=c),v=b),a.memoizedState={parent:d,cache:v},Nm(a),as(a,on,v)):((r.lanes&c)!==0&&(Om(r,a),hc(a,null,null,c),fc()),v=r.memoizedState,b=a.memoizedState,v.parent!==d?(v={parent:d,cache:d},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),as(a,on,d)):(d=b.cache,as(a,on,d),d!==v.cache&&Am(a,[on],c,!0))),yn(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Dr(r){r.flags|=4}function R_(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!zw(a)){if(a=wi.current,a!==null&&((mt&4194048)===mt?Ki!==null:(mt&62914560)!==mt&&(mt&536870912)===0||a!==Ki))throw cc=Dm,f1;r.flags|=8192}}function ah(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?jl():536870912,r.lanes|=a,Eo|=a)}function xc(r,a){if(!vt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Gt(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(a)for(var v=r.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=d,r.childLanes=c,a}function DL(r,a,c){var d=a.pendingProps;switch(Mm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(a),null;case 1:return Gt(a),null;case 3:return c=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Ar(on),ye(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(nc(a)?Dr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,a1())),Gt(a),null;case 26:return c=a.memoizedState,r===null?(Dr(a),c!==null?(Gt(a),R_(a,c)):(Gt(a),a.flags&=-16777217)):c?c!==r.memoizedState?(Dr(a),Gt(a),R_(a,c)):(Gt(a),a.flags&=-16777217):(r.memoizedProps!==d&&Dr(a),Gt(a),a.flags&=-16777217),null;case 27:Le(a),c=Ce.current;var v=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Dr(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Gt(a),null}r=fe.current,nc(a)?r1(a):(r=Rw(v,d,c),a.stateNode=r,Dr(a))}return Gt(a),null;case 5:if(Le(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Dr(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Gt(a),null}if(r=fe.current,nc(a))r1(a);else{switch(v=xh(Ce.current),r){case 1:r=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?v.createElement(c,{is:d.is}):v.createElement(c)}}r[Ae]=a,r[Ye]=d;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)r.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=r;e:switch(xn(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Dr(a)}}return Gt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&Dr(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ce.current,nc(a)){if(r=a.stateNode,c=a.memoizedProps,d=null,v=Bn,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}r[Ae]=a,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||_w(r.nodeValue,c)),r||sa(a)}else r=xh(r).createTextNode(d),r[Ae]=a,a.stateNode=r}return Gt(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=nc(a),d!==null&&d.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Ae]=a}else ic(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Gt(a),v=!1}else v=a1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Cr(a),a):(Cr(a),null)}if(Cr(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=a.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),ah(a,a.updateQueue),Gt(a),null;case 4:return ye(),r===null&&Bg(a.stateNode.containerInfo),Gt(a),null;case 10:return Ar(a.type),Gt(a),null;case 19:if(ee(ln),v=a.memoizedState,v===null)return Gt(a),null;if(d=(a.flags&128)!==0,b=v.rendering,b===null)if(d)xc(v,!1);else{if(Jt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(b=th(r),b!==null){for(a.flags|=128,xc(v,!1),r=b.updateQueue,a.updateQueue=r,ah(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)n1(c,r),c=c.sibling;return te(ln,ln.current&1|2),a.child}r=r.sibling}v.tail!==null&&I()>ch&&(a.flags|=128,d=!0,xc(v,!1),a.lanes=4194304)}else{if(!d)if(r=th(b),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,ah(a,r),xc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!vt)return Gt(a),null}else 2*I()-v.renderingStartTime>ch&&c!==536870912&&(a.flags|=128,d=!0,xc(v,!1),a.lanes=4194304);v.isBackwards?(b.sibling=a.child,a.child=b):(r=v.last,r!==null?r.sibling=b:a.child=b,v.last=b)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=I(),a.sibling=null,r=ln.current,te(ln,d?r&1|2:r&1),a):(Gt(a),null);case 22:case 23:return Cr(a),Um(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(c&536870912)!==0&&(a.flags&128)===0&&(Gt(a),a.subtreeFlags&6&&(a.flags|=8192)):Gt(a),c=a.updateQueue,c!==null&&ah(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==c&&(a.flags|=2048),r!==null&&ee(la),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ar(on),Gt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function NL(r,a){switch(Mm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ar(on),ye(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Le(a),null;case 13:if(Cr(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ic()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ee(ln),null;case 4:return ye(),null;case 10:return Ar(a.type),null;case 22:case 23:return Cr(a),Um(),r!==null&&ee(la),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ar(on),null;case 25:return null;default:return null}}function C_(r,a){switch(Mm(a),a.tag){case 3:Ar(on),ye();break;case 26:case 27:case 5:Le(a);break;case 4:ye();break;case 13:Cr(a);break;case 19:ee(ln);break;case 10:Ar(a.type);break;case 22:case 23:Cr(a),Um(),r!==null&&ee(la);break;case 24:Ar(on)}}function bc(r,a){try{var c=a.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var v=d.next;c=v;do{if((c.tag&r)===r){d=void 0;var b=c.create,A=c.inst;d=b(),A.destroy=d}c=c.next}while(c!==v)}}catch(L){Ct(a,a.return,L)}}function ds(r,a,c){try{var d=a.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var b=v.next;d=b;do{if((d.tag&r)===r){var A=d.inst,L=A.destroy;if(L!==void 0){A.destroy=void 0,v=a;var G=c,re=L;try{re()}catch(pe){Ct(v,G,pe)}}}d=d.next}while(d!==b)}}catch(pe){Ct(a,a.return,pe)}}function L_(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{y1(a,c)}catch(d){Ct(r,r.return,d)}}}function D_(r,a,c){c.props=ua(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){Ct(r,a,d)}}function _c(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(v){Ct(r,a,v)}}function $i(r,a){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(v){Ct(r,a,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Ct(r,a,v)}else c.current=null}function N_(r){var a=r.type,c=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(v){Ct(r,r.return,v)}}function fg(r,a,c){try{var d=r.stateNode;$L(d,r.type,c,a),d[Ye]=a}catch(v){Ct(r,r.return,v)}}function O_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_s(r.type)||r.tag===4}function hg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||O_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_s(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dg(r,a,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=vh));else if(d!==4&&(d===27&&_s(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(dg(r,a,c),r=r.sibling;r!==null;)dg(r,a,c),r=r.sibling}function oh(r,a,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(d!==4&&(d===27&&_s(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(oh(r,a,c),r=r.sibling;r!==null;)oh(r,a,c),r=r.sibling}function P_(r){var a=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);xn(a,d,c),a[Ae]=r,a[Ye]=c}catch(b){Ct(r,r.return,b)}}var Nr=!1,en=!1,pg=!1,B_=typeof WeakSet=="function"?WeakSet:Set,hn=null;function OL(r,a){if(r=r.containerInfo,Fg=Th,r=qb(r),hm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var v=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var A=0,L=-1,G=-1,re=0,pe=0,ve=r,oe=null;t:for(;;){for(var le;ve!==c||v!==0&&ve.nodeType!==3||(L=A+v),ve!==b||d!==0&&ve.nodeType!==3||(G=A+d),ve.nodeType===3&&(A+=ve.nodeValue.length),(le=ve.firstChild)!==null;)oe=ve,ve=le;for(;;){if(ve===r)break t;if(oe===c&&++re===v&&(L=A),oe===b&&++pe===d&&(G=A),(le=ve.nextSibling)!==null)break;ve=oe,oe=ve.parentNode}ve=le}c=L===-1||G===-1?null:{start:L,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ig={focusedElem:r,selectionRange:c},Th=!1,hn=a;hn!==null;)if(a=hn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,hn=r;else for(;hn!==null;){switch(a=hn,b=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,c=a,v=b.memoizedProps,b=b.memoizedState,d=c.stateNode;try{var et=ua(c.type,v,c.elementType===c.type);r=d.getSnapshotBeforeUpdate(et,b),d.__reactInternalSnapshotBeforeUpdate=r}catch(Ze){Ct(c,c.return,Ze)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)Gg(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Gg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,hn=r;break}hn=a.return}}function z_(r,a,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:ps(r,c),d&4&&bc(5,c);break;case 1:if(ps(r,c),d&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(A){Ct(c,c.return,A)}else{var v=ua(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(v,a,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Ct(c,c.return,A)}}d&64&&L_(c),d&512&&_c(c,c.return);break;case 3:if(ps(r,c),d&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{y1(r,a)}catch(A){Ct(c,c.return,A)}}break;case 27:a===null&&d&4&&P_(c);case 26:case 5:ps(r,c),a===null&&d&4&&N_(c),d&512&&_c(c,c.return);break;case 12:ps(r,c);break;case 13:ps(r,c),d&4&&I_(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=GL.bind(null,c),aD(r,c))));break;case 22:if(d=c.memoizedState!==null||Nr,!d){a=a!==null&&a.memoizedState!==null||en,v=Nr;var b=en;Nr=d,(en=a)&&!b?ms(r,c,(c.subtreeFlags&8772)!==0):ps(r,c),Nr=v,en=b}break;case 30:break;default:ps(r,c)}}function U_(r){var a=r.alternate;a!==null&&(r.alternate=null,U_(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&xt(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var It=null,qn=!1;function Or(r,a,c){for(c=c.child;c!==null;)F_(r,a,c),c=c.sibling}function F_(r,a,c){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(He,c)}catch{}switch(c.tag){case 26:en||$i(c,a),Or(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:en||$i(c,a);var d=It,v=qn;_s(c.type)&&(It=c.stateNode,qn=!1),Or(r,a,c),Lc(c.stateNode),It=d,qn=v;break;case 5:en||$i(c,a);case 6:if(d=It,v=qn,It=null,Or(r,a,c),It=d,qn=v,It!==null)if(qn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(c.stateNode)}catch(b){Ct(c,a,b)}else try{It.removeChild(c.stateNode)}catch(b){Ct(c,a,b)}break;case 18:It!==null&&(qn?(r=It,Ew(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Fc(r)):Ew(It,c.stateNode));break;case 4:d=It,v=qn,It=c.stateNode.containerInfo,qn=!0,Or(r,a,c),It=d,qn=v;break;case 0:case 11:case 14:case 15:en||ds(2,c,a),en||ds(4,c,a),Or(r,a,c);break;case 1:en||($i(c,a),d=c.stateNode,typeof d.componentWillUnmount=="function"&&D_(c,a,d)),Or(r,a,c);break;case 21:Or(r,a,c);break;case 22:en=(d=en)||c.memoizedState!==null,Or(r,a,c),en=d;break;default:Or(r,a,c)}}function I_(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Fc(r)}catch(c){Ct(a,a.return,c)}}function PL(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new B_),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new B_),a;default:throw Error(i(435,r.tag))}}function mg(r,a){var c=PL(r);a.forEach(function(d){var v=kL.bind(null,r,d);c.has(d)||(c.add(d),d.then(v,v))})}function ti(r,a){var c=a.deletions;if(c!==null)for(var d=0;d<c.length;d++){var v=c[d],b=r,A=a,L=A;e:for(;L!==null;){switch(L.tag){case 27:if(_s(L.type)){It=L.stateNode,qn=!1;break e}break;case 5:It=L.stateNode,qn=!1;break e;case 3:case 4:It=L.stateNode.containerInfo,qn=!0;break e}L=L.return}if(It===null)throw Error(i(160));F_(b,A,v),It=null,qn=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)H_(a,r),a=a.sibling}var Bi=null;function H_(r,a){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ti(a,r),ni(r),d&4&&(ds(3,r,r.return),bc(3,r),ds(5,r,r.return));break;case 1:ti(a,r),ni(r),d&512&&(en||c===null||$i(c,c.return)),d&64&&Nr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var v=Bi;if(ti(a,r),ni(r),d&512&&(en||c===null||$i(c,c.return)),d&4){var b=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){e:{d=r.type,c=r.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":b=v.getElementsByTagName("title")[0],(!b||b[nt]||b[Ae]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(d),v.head.insertBefore(b,v.querySelector("head > title"))),xn(b,d,c),b[Ae]=r,Yt(b),d=b;break e;case"link":var A=Pw("link","href",v).get(d+(c.href||""));if(A){for(var L=0;L<A.length;L++)if(b=A[L],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(L,1);break t}}b=v.createElement(d),xn(b,d,c),v.head.appendChild(b);break;case"meta":if(A=Pw("meta","content",v).get(d+(c.content||""))){for(L=0;L<A.length;L++)if(b=A[L],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(L,1);break t}}b=v.createElement(d),xn(b,d,c),v.head.appendChild(b);break;default:throw Error(i(468,d))}b[Ae]=r,Yt(b),d=b}r.stateNode=d}else Bw(v,r.type,r.stateNode);else r.stateNode=Ow(v,d,r.memoizedProps);else b!==d?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,d===null?Bw(v,r.type,r.stateNode):Ow(v,d,r.memoizedProps)):d===null&&r.stateNode!==null&&fg(r,r.memoizedProps,c.memoizedProps)}break;case 27:ti(a,r),ni(r),d&512&&(en||c===null||$i(c,c.return)),c!==null&&d&4&&fg(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ti(a,r),ni(r),d&512&&(en||c===null||$i(c,c.return)),r.flags&32){v=r.stateNode;try{io(v,"")}catch(le){Ct(r,r.return,le)}}d&4&&r.stateNode!=null&&(v=r.memoizedProps,fg(r,v,c!==null?c.memoizedProps:v)),d&1024&&(pg=!0);break;case 6:if(ti(a,r),ni(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(le){Ct(r,r.return,le)}}break;case 3:if(wh=null,v=Bi,Bi=bh(a.containerInfo),ti(a,r),Bi=v,ni(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Fc(a.containerInfo)}catch(le){Ct(r,r.return,le)}pg&&(pg=!1,V_(r));break;case 4:d=Bi,Bi=bh(r.stateNode.containerInfo),ti(a,r),ni(r),Bi=d;break;case 12:ti(a,r),ni(r);break;case 13:ti(a,r),ni(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(_g=I()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,mg(r,d)));break;case 22:v=r.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,re=Nr,pe=en;if(Nr=re||v,en=pe||G,ti(a,r),en=pe,Nr=re,ni(r),d&8192)e:for(a=r.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(c===null||G||Nr||en||fa(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){G=c=a;try{if(b=G.stateNode,v)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{L=G.stateNode;var ve=G.memoizedProps.style,oe=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;L.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(le){Ct(G,G.return,le)}}}else if(a.tag===6){if(c===null){G=a;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(le){Ct(G,G.return,le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,mg(r,c))));break;case 19:ti(a,r),ni(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,mg(r,d)));break;case 30:break;case 21:break;default:ti(a,r),ni(r)}}function ni(r){var a=r.flags;if(a&2){try{for(var c,d=r.return;d!==null;){if(O_(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var v=c.stateNode,b=hg(r);oh(r,b,v);break;case 5:var A=c.stateNode;c.flags&32&&(io(A,""),c.flags&=-33);var L=hg(r);oh(r,L,A);break;case 3:case 4:var G=c.stateNode.containerInfo,re=hg(r);dg(r,re,G);break;default:throw Error(i(161))}}catch(pe){Ct(r,r.return,pe)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function V_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;V_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ps(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)z_(r,a.alternate,a),a=a.sibling}function fa(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ds(4,a,a.return),fa(a);break;case 1:$i(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&D_(a,a.return,c),fa(a);break;case 27:Lc(a.stateNode);case 26:case 5:$i(a,a.return),fa(a);break;case 22:a.memoizedState===null&&fa(a);break;case 30:fa(a);break;default:fa(a)}r=r.sibling}}function ms(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,v=r,b=a,A=b.flags;switch(b.tag){case 0:case 11:case 15:ms(v,b,c),bc(4,b);break;case 1:if(ms(v,b,c),d=b,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(re){Ct(d,d.return,re)}if(d=b,v=d.updateQueue,v!==null){var L=d.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)g1(G[v],L)}catch(re){Ct(d,d.return,re)}}c&&A&64&&L_(b),_c(b,b.return);break;case 27:P_(b);case 26:case 5:ms(v,b,c),c&&d===null&&A&4&&N_(b),_c(b,b.return);break;case 12:ms(v,b,c);break;case 13:ms(v,b,c),c&&A&4&&I_(v,b);break;case 22:b.memoizedState===null&&ms(v,b,c),_c(b,b.return);break;case 30:break;default:ms(v,b,c)}a=a.sibling}}function gg(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&ac(c))}function yg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ac(r))}function er(r,a,c,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)G_(r,a,c,d),a=a.sibling}function G_(r,a,c,d){var v=a.flags;switch(a.tag){case 0:case 11:case 15:er(r,a,c,d),v&2048&&bc(9,a);break;case 1:er(r,a,c,d);break;case 3:er(r,a,c,d),v&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ac(r)));break;case 12:if(v&2048){er(r,a,c,d),r=a.stateNode;try{var b=a.memoizedProps,A=b.id,L=b.onPostCommit;typeof L=="function"&&L(A,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(G){Ct(a,a.return,G)}}else er(r,a,c,d);break;case 13:er(r,a,c,d);break;case 23:break;case 22:b=a.stateNode,A=a.alternate,a.memoizedState!==null?b._visibility&2?er(r,a,c,d):wc(r,a):b._visibility&2?er(r,a,c,d):(b._visibility|=2,Mo(r,a,c,d,(a.subtreeFlags&10256)!==0)),v&2048&&gg(A,a);break;case 24:er(r,a,c,d),v&2048&&yg(a.alternate,a);break;default:er(r,a,c,d)}}function Mo(r,a,c,d,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=r,A=a,L=c,G=d,re=A.flags;switch(A.tag){case 0:case 11:case 15:Mo(b,A,L,G,v),bc(8,A);break;case 23:break;case 22:var pe=A.stateNode;A.memoizedState!==null?pe._visibility&2?Mo(b,A,L,G,v):wc(b,A):(pe._visibility|=2,Mo(b,A,L,G,v)),v&&re&2048&&gg(A.alternate,A);break;case 24:Mo(b,A,L,G,v),v&&re&2048&&yg(A.alternate,A);break;default:Mo(b,A,L,G,v)}a=a.sibling}}function wc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,d=a,v=d.flags;switch(d.tag){case 22:wc(c,d),v&2048&&gg(d.alternate,d);break;case 24:wc(c,d),v&2048&&yg(d.alternate,d);break;default:wc(c,d)}a=a.sibling}}var Mc=8192;function So(r){if(r.subtreeFlags&Mc)for(r=r.child;r!==null;)k_(r),r=r.sibling}function k_(r){switch(r.tag){case 26:So(r),r.flags&Mc&&r.memoizedState!==null&&xD(Bi,r.memoizedState,r.memoizedProps);break;case 5:So(r);break;case 3:case 4:var a=Bi;Bi=bh(r.stateNode.containerInfo),So(r),Bi=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Mc,Mc=16777216,So(r),Mc=a):So(r));break;default:So(r)}}function j_(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Sc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];hn=d,q_(d,r)}j_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)W_(r),r=r.sibling}function W_(r){switch(r.tag){case 0:case 11:case 15:Sc(r),r.flags&2048&&ds(9,r,r.return);break;case 3:Sc(r);break;case 12:Sc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,lh(r)):Sc(r);break;default:Sc(r)}}function lh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];hn=d,q_(d,r)}j_(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ds(8,a,a.return),lh(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,lh(a));break;default:lh(a)}r=r.sibling}}function q_(r,a){for(;hn!==null;){var c=hn;switch(c.tag){case 0:case 11:case 15:ds(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ac(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,hn=d;else e:for(c=r;hn!==null;){d=hn;var v=d.sibling,b=d.return;if(U_(d),d===c){hn=null;break e}if(v!==null){v.return=b,hn=v;break e}hn=b}}}var BL={getCacheForType:function(r){var a=En(on),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},zL=typeof WeakMap=="function"?WeakMap:Map,bt=0,Lt=null,dt=null,mt=0,_t=0,ii=null,gs=!1,To=!1,vg=!1,Pr=0,Jt=0,ys=0,ha=0,xg=0,Mi=0,Eo=0,Tc=null,Xn=null,bg=!1,_g=0,ch=1/0,uh=null,vs=null,vn=0,xs=null,Ao=null,Ro=0,wg=0,Mg=null,X_=null,Ec=0,Sg=null;function ri(){if((bt&2)!==0&&mt!==0)return mt&-mt;if(H.T!==null){var r=mo;return r!==0?r:Dg()}return de()}function Y_(){Mi===0&&(Mi=(mt&536870912)===0||vt?ns():536870912);var r=wi.current;return r!==null&&(r.flags|=32),Mi}function si(r,a,c){(r===Lt&&(_t===2||_t===9)||r.cancelPendingCommit!==null)&&(Co(r,0),bs(r,mt,Mi,!1)),is(r,c),((bt&2)===0||r!==Lt)&&(r===Lt&&((bt&2)===0&&(ha|=c),Jt===4&&bs(r,mt,Mi,!1)),tr(r))}function Z_(r,a,c){if((bt&6)!==0)throw Error(i(327));var d=!c&&(a&124)===0&&(a&r.expiredLanes)===0||br(r,a),v=d?IL(r,a):Ag(r,a,!0),b=d;do{if(v===0){To&&!d&&bs(r,a,0,!1);break}else{if(c=r.current.alternate,b&&!UL(c)){v=Ag(r,a,!1),b=!1;continue}if(v===2){if(b=a,r.errorRecoveryDisabledLanes&b)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var L=r;v=Tc;var G=L.current.memoizedState.isDehydrated;if(G&&(Co(L,A).flags|=256),A=Ag(L,A,!1),A!==2){if(vg&&!G){L.errorRecoveryDisabledLanes|=b,ha|=b,v=4;break e}b=Xn,Xn=v,b!==null&&(Xn===null?Xn=b:Xn.push.apply(Xn,b))}v=A}if(b=!1,v!==2)continue}}if(v===1){Co(r,0),bs(r,a,0,!0);break}e:{switch(d=r,b=v,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:bs(d,a,Mi,!gs);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(v=_g+300-I(),10<v)){if(bs(d,a,Mi,!gs),$a(d,0,!0)!==0)break e;d.timeoutHandle=Sw(J_.bind(null,d,c,Xn,uh,bg,a,Mi,ha,Eo,gs,b,2,-0,0),v);break e}J_(d,c,Xn,uh,bg,a,Mi,ha,Eo,gs,b,0,-0,0)}}break}while(!0);tr(r)}function J_(r,a,c,d,v,b,A,L,G,re,pe,ve,oe,le){if(r.timeoutHandle=-1,ve=a.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(Oc={stylesheets:null,count:0,unsuspend:vD},k_(a),ve=bD(),ve!==null)){r.cancelPendingCommit=ve(iw.bind(null,r,a,b,c,d,v,A,L,G,pe,1,oe,le)),bs(r,b,A,!re);return}iw(r,a,b,c,d,v,A,L,G)}function UL(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var v=c[d],b=v.getSnapshot;v=v.value;try{if(!$n(b(),v))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function bs(r,a,c,d){a&=~xg,a&=~ha,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var v=a;0<v;){var b=31-Be(v),A=1<<b;d[b]=-1,v&=~A}c!==0&&Wl(r,c,a)}function fh(){return(bt&6)===0?(Ac(0),!1):!0}function Tg(){if(dt!==null){if(_t===0)var r=dt.return;else r=dt,Er=aa=null,Gm(r),_o=null,yc=0,r=dt;for(;r!==null;)C_(r.alternate,r),r=r.return;dt=null}}function Co(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,tD(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Tg(),Lt=r,dt=c=Mr(r.current,null),mt=a,_t=0,ii=null,gs=!1,To=br(r,a),vg=!1,Eo=Mi=xg=ha=ys=Jt=0,Xn=Tc=null,bg=!1,(a&8)!==0&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var v=31-Be(d),b=1<<v;a|=r[v],d&=~b}return Pr=a,Of(),c}function Q_(r,a){ut=null,H.H=Kf,a===lc||a===Gf?(a=p1(),_t=3):a===f1?(a=p1(),_t=4):_t=a===m_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ii=a,dt===null&&(Jt=1,ih(r,vi(a,r.current)))}function K_(){var r=H.H;return H.H=Kf,r===null?Kf:r}function $_(){var r=H.A;return H.A=BL,r}function Eg(){Jt=4,gs||(mt&4194048)!==mt&&wi.current!==null||(To=!0),(ys&134217727)===0&&(ha&134217727)===0||Lt===null||bs(Lt,mt,Mi,!1)}function Ag(r,a,c){var d=bt;bt|=2;var v=K_(),b=$_();(Lt!==r||mt!==a)&&(uh=null,Co(r,a)),a=!1;var A=Jt;e:do try{if(_t!==0&&dt!==null){var L=dt,G=ii;switch(_t){case 8:Tg(),A=6;break e;case 3:case 2:case 9:case 6:wi.current===null&&(a=!0);var re=_t;if(_t=0,ii=null,Lo(r,L,G,re),c&&To){A=0;break e}break;default:re=_t,_t=0,ii=null,Lo(r,L,G,re)}}FL(),A=Jt;break}catch(pe){Q_(r,pe)}while(!0);return a&&r.shellSuspendCounter++,Er=aa=null,bt=d,H.H=v,H.A=b,dt===null&&(Lt=null,mt=0,Of()),A}function FL(){for(;dt!==null;)ew(dt)}function IL(r,a){var c=bt;bt|=2;var d=K_(),v=$_();Lt!==r||mt!==a?(uh=null,ch=I()+500,Co(r,a)):To=br(r,a);e:do try{if(_t!==0&&dt!==null){a=dt;var b=ii;t:switch(_t){case 1:_t=0,ii=null,Lo(r,a,b,1);break;case 2:case 9:if(h1(b)){_t=0,ii=null,tw(a);break}a=function(){_t!==2&&_t!==9||Lt!==r||(_t=7),tr(r)},b.then(a,a);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:h1(b)?(_t=0,ii=null,tw(a)):(_t=0,ii=null,Lo(r,a,b,7));break;case 5:var A=null;switch(dt.tag){case 26:A=dt.memoizedState;case 5:case 27:var L=dt;if(!A||zw(A)){_t=0,ii=null;var G=L.sibling;if(G!==null)dt=G;else{var re=L.return;re!==null?(dt=re,hh(re)):dt=null}break t}}_t=0,ii=null,Lo(r,a,b,5);break;case 6:_t=0,ii=null,Lo(r,a,b,6);break;case 8:Tg(),Jt=6;break e;default:throw Error(i(462))}}HL();break}catch(pe){Q_(r,pe)}while(!0);return Er=aa=null,H.H=d,H.A=v,bt=c,dt!==null?0:(Lt=null,mt=0,Of(),Jt)}function HL(){for(;dt!==null&&!Fe();)ew(dt)}function ew(r){var a=A_(r.alternate,r,Pr);r.memoizedProps=r.pendingProps,a===null?hh(r):dt=a}function tw(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=__(c,a,a.pendingProps,a.type,void 0,mt);break;case 11:a=__(c,a,a.pendingProps,a.type.render,a.ref,mt);break;case 5:Gm(a);default:C_(c,a),a=dt=n1(a,Pr),a=A_(c,a,Pr)}r.memoizedProps=r.pendingProps,a===null?hh(r):dt=a}function Lo(r,a,c,d){Er=aa=null,Gm(a),_o=null,yc=0;var v=a.return;try{if(CL(r,v,a,c,mt)){Jt=1,ih(r,vi(c,r.current)),dt=null;return}}catch(b){if(v!==null)throw dt=v,b;Jt=1,ih(r,vi(c,r.current)),dt=null;return}a.flags&32768?(vt||d===1?r=!0:To||(mt&536870912)!==0?r=!1:(gs=r=!0,(d===2||d===9||d===3||d===6)&&(d=wi.current,d!==null&&d.tag===13&&(d.flags|=16384))),nw(a,r)):hh(a)}function hh(r){var a=r;do{if((a.flags&32768)!==0){nw(a,gs);return}r=a.return;var c=DL(a.alternate,a,Pr);if(c!==null){dt=c;return}if(a=a.sibling,a!==null){dt=a;return}dt=a=r}while(a!==null);Jt===0&&(Jt=5)}function nw(r,a){do{var c=NL(r.alternate,r);if(c!==null){c.flags&=32767,dt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){dt=r;return}dt=r=c}while(r!==null);Jt=6,dt=null}function iw(r,a,c,d,v,b,A,L,G){r.cancelPendingCommit=null;do dh();while(vn!==0);if((bt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=ym,Oi(r,c,b,A,L,G),r===Lt&&(dt=Lt=null,mt=0),Ao=a,xs=r,Ro=c,wg=b,Mg=v,X_=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,jL(Z,function(){return lw(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=H.T,H.T=null,v=z.p,z.p=2,A=bt,bt|=4;try{OL(r,a,c)}finally{bt=A,z.p=v,H.T=d}}vn=1,rw(),sw(),aw()}}function rw(){if(vn===1){vn=0;var r=xs,a=Ao,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=H.T,H.T=null;var d=z.p;z.p=2;var v=bt;bt|=4;try{H_(a,r);var b=Ig,A=qb(r.containerInfo),L=b.focusedElem,G=b.selectionRange;if(A!==L&&L&&L.ownerDocument&&Wb(L.ownerDocument.documentElement,L)){if(G!==null&&hm(L)){var re=G.start,pe=G.end;if(pe===void 0&&(pe=re),"selectionStart"in L)L.selectionStart=re,L.selectionEnd=Math.min(pe,L.value.length);else{var ve=L.ownerDocument||document,oe=ve&&ve.defaultView||window;if(oe.getSelection){var le=oe.getSelection(),et=L.textContent.length,Ze=Math.min(G.start,et),Tt=G.end===void 0?Ze:Math.min(G.end,et);!le.extend&&Ze>Tt&&(A=Tt,Tt=Ze,Ze=A);var $=jb(L,Ze),q=jb(L,Tt);if($&&q&&(le.rangeCount!==1||le.anchorNode!==$.node||le.anchorOffset!==$.offset||le.focusNode!==q.node||le.focusOffset!==q.offset)){var ie=ve.createRange();ie.setStart($.node,$.offset),le.removeAllRanges(),Ze>Tt?(le.addRange(ie),le.extend(q.node,q.offset)):(ie.setEnd(q.node,q.offset),le.addRange(ie))}}}}for(ve=[],le=L;le=le.parentNode;)le.nodeType===1&&ve.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ve.length;L++){var ge=ve[L];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Th=!!Fg,Ig=Fg=null}finally{bt=v,z.p=d,H.T=c}}r.current=a,vn=2}}function sw(){if(vn===2){vn=0;var r=xs,a=Ao,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=H.T,H.T=null;var d=z.p;z.p=2;var v=bt;bt|=4;try{z_(r,a.alternate,a)}finally{bt=v,z.p=d,H.T=c}}vn=3}}function aw(){if(vn===4||vn===3){vn=0,De();var r=xs,a=Ao,c=Ro,d=X_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vn=5:(vn=0,Ao=xs=null,ow(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(vs=null),F(c),a=a.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(He,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=H.T,v=z.p,z.p=2,H.T=null;try{for(var b=r.onRecoverableError,A=0;A<d.length;A++){var L=d[A];b(L.value,{componentStack:L.stack})}}finally{H.T=a,z.p=v}}(Ro&3)!==0&&dh(),tr(r),v=r.pendingLanes,(c&4194090)!==0&&(v&42)!==0?r===Sg?Ec++:(Ec=0,Sg=r):Ec=0,Ac(0)}}function ow(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,ac(a)))}function dh(r){return rw(),sw(),aw(),lw()}function lw(){if(vn!==5)return!1;var r=xs,a=wg;wg=0;var c=F(Ro),d=H.T,v=z.p;try{z.p=32>c?32:c,H.T=null,c=Mg,Mg=null;var b=xs,A=Ro;if(vn=0,Ao=xs=null,Ro=0,(bt&6)!==0)throw Error(i(331));var L=bt;if(bt|=4,W_(b.current),G_(b,b.current,A,c),bt=L,Ac(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(He,b)}catch{}return!0}finally{z.p=v,H.T=d,ow(r,a)}}function cw(r,a,c){a=vi(c,a),a=ng(r.stateNode,a,2),r=cs(r,a,2),r!==null&&(is(r,2),tr(r))}function Ct(r,a,c){if(r.tag===3)cw(r,r,c);else for(;a!==null;){if(a.tag===3){cw(a,r,c);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(vs===null||!vs.has(d))){r=vi(c,r),c=d_(2),d=cs(a,c,2),d!==null&&(p_(c,d,a,r),is(d,2),tr(d));break}}a=a.return}}function Rg(r,a,c){var d=r.pingCache;if(d===null){d=r.pingCache=new zL;var v=new Set;d.set(a,v)}else v=d.get(a),v===void 0&&(v=new Set,d.set(a,v));v.has(c)||(vg=!0,v.add(c),r=VL.bind(null,r,a,c),a.then(r,r))}function VL(r,a,c){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Lt===r&&(mt&c)===c&&(Jt===4||Jt===3&&(mt&62914560)===mt&&300>I()-_g?(bt&2)===0&&Co(r,0):xg|=c,Eo===mt&&(Eo=0)),tr(r)}function uw(r,a){a===0&&(a=jl()),r=uo(r,a),r!==null&&(is(r,a),tr(r))}function GL(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),uw(r,c)}function kL(r,a){var c=0;switch(r.tag){case 13:var d=r.stateNode,v=r.memoizedState;v!==null&&(c=v.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),uw(r,c)}function jL(r,a){return xe(r,a)}var ph=null,Do=null,Cg=!1,mh=!1,Lg=!1,da=0;function tr(r){r!==Do&&r.next===null&&(Do===null?ph=Do=r:Do=Do.next=r),mh=!0,Cg||(Cg=!0,qL())}function Ac(r,a){if(!Lg&&mh){Lg=!0;do for(var c=!1,d=ph;d!==null;){if(r!==0){var v=d.pendingLanes;if(v===0)var b=0;else{var A=d.suspendedLanes,L=d.pingedLanes;b=(1<<31-Be(42|r)+1)-1,b&=v&~(A&~L),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,pw(d,b))}else b=mt,b=$a(d,d===Lt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||br(d,b)||(c=!0,pw(d,b));d=d.next}while(c);Lg=!1}}function WL(){fw()}function fw(){mh=Cg=!1;var r=0;da!==0&&(eD()&&(r=da),da=0);for(var a=I(),c=null,d=ph;d!==null;){var v=d.next,b=hw(d,a);b===0?(d.next=null,c===null?ph=v:c.next=v,v===null&&(Do=c)):(c=d,(r!==0||(b&3)!==0)&&(mh=!0)),d=v}Ac(r)}function hw(r,a){for(var c=r.suspendedLanes,d=r.pingedLanes,v=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var A=31-Be(b),L=1<<A,G=v[A];G===-1?((L&c)===0||(L&d)!==0)&&(v[A]=Xp(L,a)):G<=a&&(r.expiredLanes|=L),b&=~L}if(a=Lt,c=mt,c=$a(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===a&&(_t===2||_t===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&we(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||br(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(d!==null&&we(d),F(c)){case 2:case 8:c=Me;break;case 32:c=Z;break;case 268435456:c=Pe;break;default:c=Z}return d=dw.bind(null,r),c=xe(c,d),r.callbackPriority=a,r.callbackNode=c,a}return d!==null&&d!==null&&we(d),r.callbackPriority=2,r.callbackNode=null,2}function dw(r,a){if(vn!==0&&vn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(dh()&&r.callbackNode!==c)return null;var d=mt;return d=$a(r,r===Lt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Z_(r,d,a),hw(r,I()),r.callbackNode!=null&&r.callbackNode===c?dw.bind(null,r):null)}function pw(r,a){if(dh())return null;Z_(r,a,!0)}function qL(){nD(function(){(bt&6)!==0?xe(Ee,WL):fw()})}function Dg(){return da===0&&(da=ns()),da}function mw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ef(""+r)}function gw(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function XL(r,a,c,d,v){if(a==="submit"&&c&&c.stateNode===v){var b=mw((v[Ye]||null).action),A=d.submitter;A&&(a=(a=A[Ye]||null)?mw(a.formAction):A.getAttribute("formAction"),a!==null&&(b=a,A=null));var L=new Lf("action","action",null,d,v);r.push({event:L,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(da!==0){var G=A?gw(v,A):new FormData(v);Qm(c,{pending:!0,data:G,method:v.method,action:b},null,G)}}else typeof b=="function"&&(L.preventDefault(),G=A?gw(v,A):new FormData(v),Qm(c,{pending:!0,data:G,method:v.method,action:b},b,G))},currentTarget:v}]})}}for(var Ng=0;Ng<gm.length;Ng++){var Og=gm[Ng],YL=Og.toLowerCase(),ZL=Og[0].toUpperCase()+Og.slice(1);Pi(YL,"on"+ZL)}Pi(Zb,"onAnimationEnd"),Pi(Jb,"onAnimationIteration"),Pi(Qb,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(hL,"onTransitionRun"),Pi(dL,"onTransitionStart"),Pi(pL,"onTransitionCancel"),Pi(Kb,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function yw(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],v=d.event;d=d.listeners;e:{var b=void 0;if(a)for(var A=d.length-1;0<=A;A--){var L=d[A],G=L.instance,re=L.currentTarget;if(L=L.listener,G!==b&&v.isPropagationStopped())break e;b=L,v.currentTarget=re;try{b(v)}catch(pe){nh(pe)}v.currentTarget=null,b=G}else for(A=0;A<d.length;A++){if(L=d[A],G=L.instance,re=L.currentTarget,L=L.listener,G!==b&&v.isPropagationStopped())break e;b=L,v.currentTarget=re;try{b(v)}catch(pe){nh(pe)}v.currentTarget=null,b=G}}}}function pt(r,a){var c=a[ct];c===void 0&&(c=a[ct]=new Set);var d=r+"__bubble";c.has(d)||(vw(a,r,2,!1),c.add(d))}function Pg(r,a,c){var d=0;a&&(d|=4),vw(c,r,d,a)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Bg(r){if(!r[gh]){r[gh]=!0,gn.forEach(function(c){c!=="selectionchange"&&(JL.has(c)||Pg(c,!1,r),Pg(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[gh]||(a[gh]=!0,Pg("selectionchange",!1,a))}}function vw(r,a,c,d){switch(Gw(a)){case 2:var v=MD;break;case 8:v=SD;break;default:v=Zg}c=v.bind(null,a,c,r),v=void 0,!im||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),d?v!==void 0?r.addEventListener(a,c,{capture:!0,passive:v}):r.addEventListener(a,c,!0):v!==void 0?r.addEventListener(a,c,{passive:v}):r.addEventListener(a,c,!1)}function zg(r,a,c,d,v){var b=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var L=d.stateNode.containerInfo;if(L===v)break;if(A===4)for(A=d.return;A!==null;){var G=A.tag;if((G===3||G===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;L!==null;){if(A=Tn(L),A===null)return;if(G=A.tag,G===5||G===6||G===26||G===27){d=b=A;continue e}L=L.parentNode}}d=d.return}Tb(function(){var re=b,pe=tm(c),ve=[];e:{var oe=$b.get(r);if(oe!==void 0){var le=Lf,et=r;switch(r){case"keypress":if(Rf(c)===0)break e;case"keydown":case"keyup":le=jC;break;case"focusin":et="focus",le=om;break;case"focusout":et="blur",le=om;break;case"beforeblur":case"afterblur":le=om;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Rb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=NC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=XC;break;case Zb:case Jb:case Qb:le=BC;break;case Kb:le=ZC;break;case"scroll":case"scrollend":le=LC;break;case"wheel":le=QC;break;case"copy":case"cut":case"paste":le=UC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Lb;break;case"toggle":case"beforetoggle":le=$C}var Ze=(a&4)!==0,Tt=!Ze&&(r==="scroll"||r==="scrollend"),$=Ze?oe!==null?oe+"Capture":null:oe;Ze=[];for(var q=re,ie;q!==null;){var ge=q;if(ie=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ie===null||$===null||(ge=Xl(q,$),ge!=null&&Ze.push(Cc(q,ge,ie))),Tt)break;q=q.return}0<Ze.length&&(oe=new le(oe,et,null,c,pe),ve.push({event:oe,listeners:Ze}))}}if((a&7)===0){e:{if(oe=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",oe&&c!==em&&(et=c.relatedTarget||c.fromElement)&&(Tn(et)||et[rt]))break e;if((le||oe)&&(oe=pe.window===pe?pe:(oe=pe.ownerDocument)?oe.defaultView||oe.parentWindow:window,le?(et=c.relatedTarget||c.toElement,le=re,et=et?Tn(et):null,et!==null&&(Tt=o(et),Ze=et.tag,et!==Tt||Ze!==5&&Ze!==27&&Ze!==6)&&(et=null)):(le=null,et=re),le!==et)){if(Ze=Rb,ge="onMouseLeave",$="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Ze=Lb,ge="onPointerLeave",$="onPointerEnter",q="pointer"),Tt=le==null?oe:Kn(le),ie=et==null?oe:Kn(et),oe=new Ze(ge,q+"leave",le,c,pe),oe.target=Tt,oe.relatedTarget=ie,ge=null,Tn(pe)===re&&(Ze=new Ze($,q+"enter",et,c,pe),Ze.target=ie,Ze.relatedTarget=Tt,ge=Ze),Tt=ge,le&&et)t:{for(Ze=le,$=et,q=0,ie=Ze;ie;ie=No(ie))q++;for(ie=0,ge=$;ge;ge=No(ge))ie++;for(;0<q-ie;)Ze=No(Ze),q--;for(;0<ie-q;)$=No($),ie--;for(;q--;){if(Ze===$||$!==null&&Ze===$.alternate)break t;Ze=No(Ze),$=No($)}Ze=null}else Ze=null;le!==null&&xw(ve,oe,le,Ze,!1),et!==null&&Tt!==null&&xw(ve,Tt,et,Ze,!0)}}e:{if(oe=re?Kn(re):window,le=oe.nodeName&&oe.nodeName.toLowerCase(),le==="select"||le==="input"&&oe.type==="file")var Ve=Fb;else if(zb(oe))if(Ib)Ve=cL;else{Ve=oL;var ft=aL}else le=oe.nodeName,!le||le.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?re&&$p(re.elementType)&&(Ve=Fb):Ve=lL;if(Ve&&(Ve=Ve(r,re))){Ub(ve,Ve,c,pe);break e}ft&&ft(r,oe,re),r==="focusout"&&re&&oe.type==="number"&&re.memoizedProps.value!=null&&Kp(oe,"number",oe.value)}switch(ft=re?Kn(re):window,r){case"focusin":(zb(ft)||ft.contentEditable==="true")&&(oo=ft,dm=re,tc=null);break;case"focusout":tc=dm=oo=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,Xb(ve,c,pe);break;case"selectionchange":if(fL)break;case"keydown":case"keyup":Xb(ve,c,pe)}var je;if(cm)e:{switch(r){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else ao?Pb(r,c)&&(Qe="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Qe="onCompositionStart");Qe&&(Db&&c.locale!=="ko"&&(ao||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&ao&&(je=Eb()):(ss=pe,rm="value"in ss?ss.value:ss.textContent,ao=!0)),ft=yh(re,Qe),0<ft.length&&(Qe=new Cb(Qe,r,null,c,pe),ve.push({event:Qe,listeners:ft}),je?Qe.data=je:(je=Bb(c),je!==null&&(Qe.data=je)))),(je=tL?nL(r,c):iL(r,c))&&(Qe=yh(re,"onBeforeInput"),0<Qe.length&&(ft=new Cb("onBeforeInput","beforeinput",null,c,pe),ve.push({event:ft,listeners:Qe}),ft.data=je)),XL(ve,r,re,c,pe)}yw(ve,a)})}function Cc(r,a,c){return{instance:r,listener:a,currentTarget:c}}function yh(r,a){for(var c=a+"Capture",d=[];r!==null;){var v=r,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Xl(r,c),v!=null&&d.unshift(Cc(r,v,b)),v=Xl(r,a),v!=null&&d.push(Cc(r,v,b))),r.tag===3)return d;r=r.return}return[]}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function xw(r,a,c,d,v){for(var b=a._reactName,A=[];c!==null&&c!==d;){var L=c,G=L.alternate,re=L.stateNode;if(L=L.tag,G!==null&&G===d)break;L!==5&&L!==26&&L!==27||re===null||(G=re,v?(re=Xl(c,b),re!=null&&A.unshift(Cc(c,re,G))):v||(re=Xl(c,b),re!=null&&A.push(Cc(c,re,G)))),c=c.return}A.length!==0&&r.push({event:a,listeners:A})}var QL=/\r\n?/g,KL=/\u0000|\uFFFD/g;function bw(r){return(typeof r=="string"?r:""+r).replace(QL,`
`).replace(KL,"")}function _w(r,a){return a=bw(a),bw(r)===a}function vh(){}function St(r,a,c,d,v,b){switch(c){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||io(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&io(r,""+d);break;case"className":Mf(r,"class",d);break;case"tabIndex":Mf(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Mf(r,c,d);break;case"style":Mb(r,d,b);break;case"data":if(a!=="object"){Mf(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=Ef(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(a!=="input"&&St(r,a,"name",v.name,v,null),St(r,a,"formEncType",v.formEncType,v,null),St(r,a,"formMethod",v.formMethod,v,null),St(r,a,"formTarget",v.formTarget,v,null)):(St(r,a,"encType",v.encType,v,null),St(r,a,"method",v.method,v,null),St(r,a,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=Ef(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=vh);break;case"onScroll":d!=null&&pt("scroll",r);break;case"onScrollEnd":d!=null&&pt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=Ef(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":pt("beforetoggle",r),pt("toggle",r),wf(r,"popover",d);break;case"xlinkActuate":_r(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":_r(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":_r(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":_r(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":_r(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":_r(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":_r(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":_r(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":_r(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":wf(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=RC.get(c)||c,wf(r,c,d))}}function Ug(r,a,c,d,v,b){switch(c){case"style":Mb(r,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof d=="string"?io(r,d):(typeof d=="number"||typeof d=="bigint")&&io(r,""+d);break;case"onScroll":d!=null&&pt("scroll",r);break;case"onScrollEnd":d!=null&&pt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=vh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rs.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),a=c.slice(2,v?c.length-7:void 0),b=r[Ye]||null,b=b!=null?b[c]:null,typeof b=="function"&&r.removeEventListener(a,b,v),typeof d=="function")){typeof b!="function"&&b!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,d,v);break e}c in r?r[c]=d:d===!0?r.setAttribute(c,""):wf(r,c,d)}}}function xn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",r),pt("load",r);var d=!1,v=!1,b;for(b in c)if(c.hasOwnProperty(b)){var A=c[b];if(A!=null)switch(b){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:St(r,a,b,A,c,null)}}v&&St(r,a,"srcSet",c.srcSet,c,null),d&&St(r,a,"src",c.src,c,null);return;case"input":pt("invalid",r);var L=b=A=v=null,G=null,re=null;for(d in c)if(c.hasOwnProperty(d)){var pe=c[d];if(pe!=null)switch(d){case"name":v=pe;break;case"type":A=pe;break;case"checked":G=pe;break;case"defaultChecked":re=pe;break;case"value":b=pe;break;case"defaultValue":L=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(i(137,a));break;default:St(r,a,d,pe,c,null)}}xb(r,b,L,G,re,A,v,!1),Sf(r);return;case"select":pt("invalid",r),d=A=b=null;for(v in c)if(c.hasOwnProperty(v)&&(L=c[v],L!=null))switch(v){case"value":b=L;break;case"defaultValue":A=L;break;case"multiple":d=L;default:St(r,a,v,L,c,null)}a=b,c=A,r.multiple=!!d,a!=null?no(r,!!d,a,!1):c!=null&&no(r,!!d,c,!0);return;case"textarea":pt("invalid",r),b=v=d=null;for(A in c)if(c.hasOwnProperty(A)&&(L=c[A],L!=null))switch(A){case"value":d=L;break;case"defaultValue":v=L;break;case"children":b=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:St(r,a,A,L,c,null)}_b(r,d,v,b),Sf(r);return;case"option":for(G in c)if(c.hasOwnProperty(G)&&(d=c[G],d!=null))switch(G){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:St(r,a,G,d,c,null)}return;case"dialog":pt("beforetoggle",r),pt("toggle",r),pt("cancel",r),pt("close",r);break;case"iframe":case"object":pt("load",r);break;case"video":case"audio":for(d=0;d<Rc.length;d++)pt(Rc[d],r);break;case"image":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"embed":case"source":case"link":pt("error",r),pt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in c)if(c.hasOwnProperty(re)&&(d=c[re],d!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:St(r,a,re,d,c,null)}return;default:if($p(a)){for(pe in c)c.hasOwnProperty(pe)&&(d=c[pe],d!==void 0&&Ug(r,a,pe,d,c,void 0));return}}for(L in c)c.hasOwnProperty(L)&&(d=c[L],d!=null&&St(r,a,L,d,c,null))}function $L(r,a,c,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,A=null,L=null,G=null,re=null,pe=null;for(le in c){var ve=c[le];if(c.hasOwnProperty(le)&&ve!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":G=ve;default:d.hasOwnProperty(le)||St(r,a,le,null,d,ve)}}for(var oe in d){var le=d[oe];if(ve=c[oe],d.hasOwnProperty(oe)&&(le!=null||ve!=null))switch(oe){case"type":b=le;break;case"name":v=le;break;case"checked":re=le;break;case"defaultChecked":pe=le;break;case"value":A=le;break;case"defaultValue":L=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,a));break;default:le!==ve&&St(r,a,oe,le,d,ve)}}Qp(r,A,L,G,re,pe,b,v);return;case"select":le=A=L=oe=null;for(b in c)if(G=c[b],c.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":le=G;default:d.hasOwnProperty(b)||St(r,a,b,null,d,G)}for(v in d)if(b=d[v],G=c[v],d.hasOwnProperty(v)&&(b!=null||G!=null))switch(v){case"value":oe=b;break;case"defaultValue":L=b;break;case"multiple":A=b;default:b!==G&&St(r,a,v,b,d,G)}a=L,c=A,d=le,oe!=null?no(r,!!c,oe,!1):!!d!=!!c&&(a!=null?no(r,!!c,a,!0):no(r,!!c,c?[]:"",!1));return;case"textarea":le=oe=null;for(L in c)if(v=c[L],c.hasOwnProperty(L)&&v!=null&&!d.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:St(r,a,L,null,d,v)}for(A in d)if(v=d[A],b=c[A],d.hasOwnProperty(A)&&(v!=null||b!=null))switch(A){case"value":oe=v;break;case"defaultValue":le=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==b&&St(r,a,A,v,d,b)}bb(r,oe,le);return;case"option":for(var et in c)if(oe=c[et],c.hasOwnProperty(et)&&oe!=null&&!d.hasOwnProperty(et))switch(et){case"selected":r.selected=!1;break;default:St(r,a,et,null,d,oe)}for(G in d)if(oe=d[G],le=c[G],d.hasOwnProperty(G)&&oe!==le&&(oe!=null||le!=null))switch(G){case"selected":r.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:St(r,a,G,oe,d,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in c)oe=c[Ze],c.hasOwnProperty(Ze)&&oe!=null&&!d.hasOwnProperty(Ze)&&St(r,a,Ze,null,d,oe);for(re in d)if(oe=d[re],le=c[re],d.hasOwnProperty(re)&&oe!==le&&(oe!=null||le!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,a));break;default:St(r,a,re,oe,d,le)}return;default:if($p(a)){for(var Tt in c)oe=c[Tt],c.hasOwnProperty(Tt)&&oe!==void 0&&!d.hasOwnProperty(Tt)&&Ug(r,a,Tt,void 0,d,oe);for(pe in d)oe=d[pe],le=c[pe],!d.hasOwnProperty(pe)||oe===le||oe===void 0&&le===void 0||Ug(r,a,pe,oe,d,le);return}}for(var $ in c)oe=c[$],c.hasOwnProperty($)&&oe!=null&&!d.hasOwnProperty($)&&St(r,a,$,null,d,oe);for(ve in d)oe=d[ve],le=c[ve],!d.hasOwnProperty(ve)||oe===le||oe==null&&le==null||St(r,a,ve,oe,d,le)}var Fg=null,Ig=null;function xh(r){return r.nodeType===9?r:r.ownerDocument}function ww(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mw(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Hg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Vg=null;function eD(){var r=window.event;return r&&r.type==="popstate"?r===Vg?!1:(Vg=r,!0):(Vg=null,!1)}var Sw=typeof setTimeout=="function"?setTimeout:void 0,tD=typeof clearTimeout=="function"?clearTimeout:void 0,Tw=typeof Promise=="function"?Promise:void 0,nD=typeof queueMicrotask=="function"?queueMicrotask:typeof Tw<"u"?function(r){return Tw.resolve(null).then(r).catch(iD)}:Sw;function iD(r){setTimeout(function(){throw r})}function _s(r){return r==="head"}function Ew(r,a){var c=a,d=0,v=0;do{var b=c.nextSibling;if(r.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<d&&8>d){c=d;var A=r.ownerDocument;if(c&1&&Lc(A.documentElement),c&2&&Lc(A.body),c&4)for(c=A.head,Lc(c),A=c.firstChild;A;){var L=A.nextSibling,G=A.nodeName;A[nt]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=L}}if(v===0){r.removeChild(b),Fc(a);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:d=c.charCodeAt(0)-48;else d=0;c=b}while(c);Fc(a)}function Gg(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Gg(c),xt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function rD(r,a,c,d){for(;r.nodeType===1;){var v=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[nt])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=zi(r.nextSibling),r===null)break}return null}function sD(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=zi(r.nextSibling),r===null))return null;return r}function kg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function aD(r,a){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")a();else{var d=function(){a(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function zi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var jg=null;function Aw(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function Rw(r,a,c){switch(a=xh(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Lc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);xt(r)}var Si=new Map,Cw=new Set;function bh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Br=z.d;z.d={f:oD,r:lD,D:cD,C:uD,L:fD,m:hD,X:pD,S:dD,M:mD};function oD(){var r=Br.f(),a=fh();return r||a}function lD(r){var a=gt(r);a!==null&&a.tag===5&&a.type==="form"?Z1(a):Br.r(r)}var Oo=typeof document>"u"?null:document;function Lw(r,a,c){var d=Oo;if(d&&typeof a=="string"&&a){var v=yi(a);v='link[rel="'+r+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),Cw.has(v)||(Cw.add(v),r={rel:r,crossOrigin:c,href:a},d.querySelector(v)===null&&(a=d.createElement("link"),xn(a,"link",r),Yt(a),d.head.appendChild(a)))}}function cD(r){Br.D(r),Lw("dns-prefetch",r,null)}function uD(r,a){Br.C(r,a),Lw("preconnect",r,a)}function fD(r,a,c){Br.L(r,a,c);var d=Oo;if(d&&r&&a){var v='link[rel="preload"][as="'+yi(a)+'"]';a==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+yi(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+yi(c.imageSizes)+'"]')):v+='[href="'+yi(r)+'"]';var b=v;switch(a){case"style":b=Po(r);break;case"script":b=Bo(r)}Si.has(b)||(r=m({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),Si.set(b,r),d.querySelector(v)!==null||a==="style"&&d.querySelector(Dc(b))||a==="script"&&d.querySelector(Nc(b))||(a=d.createElement("link"),xn(a,"link",r),Yt(a),d.head.appendChild(a)))}}function hD(r,a){Br.m(r,a);var c=Oo;if(c&&r){var d=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+yi(d)+'"][href="'+yi(r)+'"]',b=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Bo(r)}if(!Si.has(b)&&(r=m({rel:"modulepreload",href:r},a),Si.set(b,r),c.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Nc(b)))return}d=c.createElement("link"),xn(d,"link",r),Yt(d),c.head.appendChild(d)}}}function dD(r,a,c){Br.S(r,a,c);var d=Oo;if(d&&r){var v=Bt(d).hoistableStyles,b=Po(r);a=a||"default";var A=v.get(b);if(!A){var L={loading:0,preload:null};if(A=d.querySelector(Dc(b)))L.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":a},c),(c=Si.get(b))&&Wg(r,c);var G=A=d.createElement("link");Yt(G),xn(G,"link",r),G._p=new Promise(function(re,pe){G.onload=re,G.onerror=pe}),G.addEventListener("load",function(){L.loading|=1}),G.addEventListener("error",function(){L.loading|=2}),L.loading|=4,_h(A,a,d)}A={type:"stylesheet",instance:A,count:1,state:L},v.set(b,A)}}}function pD(r,a){Br.X(r,a);var c=Oo;if(c&&r){var d=Bt(c).hoistableScripts,v=Bo(r),b=d.get(v);b||(b=c.querySelector(Nc(v)),b||(r=m({src:r,async:!0},a),(a=Si.get(v))&&qg(r,a),b=c.createElement("script"),Yt(b),xn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function mD(r,a){Br.M(r,a);var c=Oo;if(c&&r){var d=Bt(c).hoistableScripts,v=Bo(r),b=d.get(v);b||(b=c.querySelector(Nc(v)),b||(r=m({src:r,async:!0,type:"module"},a),(a=Si.get(v))&&qg(r,a),b=c.createElement("script"),Yt(b),xn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function Dw(r,a,c,d){var v=(v=Ce.current)?bh(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Po(c.href),c=Bt(v).hoistableStyles,d=c.get(a),d||(d={type:"style",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Po(c.href);var b=Bt(v).hoistableStyles,A=b.get(r);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,A),(b=v.querySelector(Dc(r)))&&!b._p&&(A.instance=b,A.state.loading=5),Si.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Si.set(r,c),b||gD(v,r,c,A.state))),a&&d===null)throw Error(i(528,""));return A}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bo(c),c=Bt(v).hoistableScripts,d=c.get(a),d||(d={type:"script",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Po(r){return'href="'+yi(r)+'"'}function Dc(r){return'link[rel="stylesheet"]['+r+"]"}function Nw(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function gD(r,a,c,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),xn(a,"link",c),Yt(a),r.head.appendChild(a))}function Bo(r){return'[src="'+yi(r)+'"]'}function Nc(r){return"script[async]"+r}function Ow(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+yi(c.href)+'"]');if(d)return a.instance=d,Yt(d),d;var v=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Yt(d),xn(d,"style",v),_h(d,c.precedence,r),a.instance=d;case"stylesheet":v=Po(c.href);var b=r.querySelector(Dc(v));if(b)return a.state.loading|=4,a.instance=b,Yt(b),b;d=Nw(c),(v=Si.get(v))&&Wg(d,v),b=(r.ownerDocument||r).createElement("link"),Yt(b);var A=b;return A._p=new Promise(function(L,G){A.onload=L,A.onerror=G}),xn(b,"link",d),a.state.loading|=4,_h(b,c.precedence,r),a.instance=b;case"script":return b=Bo(c.src),(v=r.querySelector(Nc(b)))?(a.instance=v,Yt(v),v):(d=c,(v=Si.get(b))&&(d=m({},c),qg(d,v)),r=r.ownerDocument||r,v=r.createElement("script"),Yt(v),xn(v,"link",d),r.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,_h(d,c.precedence,r));return a.instance}function _h(r,a,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,b=v,A=0;A<d.length;A++){var L=d[A];if(L.dataset.precedence===a)b=L;else if(b!==v)break}b?b.parentNode.insertBefore(r,b.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function Wg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function qg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var wh=null;function Pw(r,a,c){if(wh===null){var d=new Map,v=wh=new Map;v.set(c,d)}else v=wh,d=v.get(c),d||(d=new Map,v.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),v=0;v<c.length;v++){var b=c[v];if(!(b[nt]||b[Ae]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(a)||"";A=r+A;var L=d.get(A);L?L.push(b):d.set(A,[b])}}return d}function Bw(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function yD(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function zw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Oc=null;function vD(){}function xD(r,a,c){if(Oc===null)throw Error(i(475));var d=Oc;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=Po(c.href),b=r.querySelector(Dc(v));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Mh.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=b,Yt(b);return}b=r.ownerDocument||r,c=Nw(c),(v=Si.get(v))&&Wg(c,v),b=b.createElement("link"),Yt(b);var A=b;A._p=new Promise(function(L,G){A.onload=L,A.onerror=G}),xn(b,"link",c),a.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=Mh.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function bD(){if(Oc===null)throw Error(i(475));var r=Oc;return r.stylesheets&&r.count===0&&Xg(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&Xg(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function Mh(){if(this.count--,this.count===0){if(this.stylesheets)Xg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Sh=null;function Xg(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Sh=new Map,a.forEach(_D,r),Sh=null,Mh.call(r))}function _D(r,a){if(!(a.state.loading&4)){var c=Sh.get(r);if(c)var d=c.get(null);else{c=new Map,Sh.set(r,c);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var A=v[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),d=A)}d&&c.set(null,d)}v=a.instance,A=v.getAttribute("data-precedence"),b=c.get(A)||d,b===d&&c.set(null,v),c.set(A,v),this.count++,d=Mh.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),b?b.parentNode.insertBefore(v,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),a.state.loading|=4}}var Pc={$$typeof:T,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function wD(r,a,c,d,v,b,A,L){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.hiddenUpdates=eo(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Uw(r,a,c,d,v,b,A,L,G,re,pe,ve){return r=new wD(r,a,c,A,L,G,re,ve),a=1,b===!0&&(a|=24),b=ei(3,null,null,a),r.current=b,b.stateNode=r,a=Rm(),a.refCount++,r.pooledCache=a,a.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:a},Nm(b),r}function Fw(r){return r?(r=fo,r):fo}function Iw(r,a,c,d,v,b){v=Fw(v),d.context===null?d.context=v:d.pendingContext=v,d=ls(a),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=cs(r,d,a),c!==null&&(si(c,r,a),uc(c,r,a))}function Hw(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function Yg(r,a){Hw(r,a),(r=r.alternate)&&Hw(r,a)}function Vw(r){if(r.tag===13){var a=uo(r,67108864);a!==null&&si(a,r,67108864),Yg(r,67108864)}}var Th=!0;function MD(r,a,c,d){var v=H.T;H.T=null;var b=z.p;try{z.p=2,Zg(r,a,c,d)}finally{z.p=b,H.T=v}}function SD(r,a,c,d){var v=H.T;H.T=null;var b=z.p;try{z.p=8,Zg(r,a,c,d)}finally{z.p=b,H.T=v}}function Zg(r,a,c,d){if(Th){var v=Jg(d);if(v===null)zg(r,a,d,Eh,c),kw(r,d);else if(ED(v,r,a,c,d))d.stopPropagation();else if(kw(r,d),a&4&&-1<TD.indexOf(r)){for(;v!==null;){var b=gt(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Ji(b.pendingLanes);if(A!==0){var L=b;for(L.pendingLanes|=2,L.entangledLanes|=2;A;){var G=1<<31-Be(A);L.entanglements[1]|=G,A&=~G}tr(b),(bt&6)===0&&(ch=I()+500,Ac(0))}}break;case 13:L=uo(b,2),L!==null&&si(L,b,2),fh(),Yg(b,2)}if(b=Jg(d),b===null&&zg(r,a,d,Eh,c),b===v)break;v=b}v!==null&&d.stopPropagation()}else zg(r,a,d,null,c)}}function Jg(r){return r=tm(r),Qg(r)}var Eh=null;function Qg(r){if(Eh=null,r=Tn(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=l(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Eh=r,null}function Gw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(U()){case Ee:return 2;case Me:return 8;case Z:case Re:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var Kg=!1,ws=null,Ms=null,Ss=null,Bc=new Map,zc=new Map,Ts=[],TD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kw(r,a){switch(r){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Bc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(a.pointerId)}}function Uc(r,a,c,d,v,b){return r===null||r.nativeEvent!==b?(r={blockedOn:a,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[v]},a!==null&&(a=gt(a),a!==null&&Vw(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),r)}function ED(r,a,c,d,v){switch(a){case"focusin":return ws=Uc(ws,r,a,c,d,v),!0;case"dragenter":return Ms=Uc(Ms,r,a,c,d,v),!0;case"mouseover":return Ss=Uc(Ss,r,a,c,d,v),!0;case"pointerover":var b=v.pointerId;return Bc.set(b,Uc(Bc.get(b)||null,r,a,c,d,v)),!0;case"gotpointercapture":return b=v.pointerId,zc.set(b,Uc(zc.get(b)||null,r,a,c,d,v)),!0}return!1}function jw(r){var a=Tn(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){r.blockedOn=a,ue(r.priority,function(){if(c.tag===13){var d=ri();d=ql(d);var v=uo(c,d);v!==null&&si(v,c,d),Yg(c,d)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ah(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Jg(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);em=d,c.target.dispatchEvent(d),em=null}else return a=gt(c),a!==null&&Vw(a),r.blockedOn=c,!1;a.shift()}return!0}function Ww(r,a,c){Ah(r)&&c.delete(a)}function AD(){Kg=!1,ws!==null&&Ah(ws)&&(ws=null),Ms!==null&&Ah(Ms)&&(Ms=null),Ss!==null&&Ah(Ss)&&(Ss=null),Bc.forEach(Ww),zc.forEach(Ww)}function Rh(r,a){r.blockedOn===a&&(r.blockedOn=null,Kg||(Kg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,AD)))}var Ch=null;function qw(r){Ch!==r&&(Ch=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ch===r&&(Ch=null);for(var a=0;a<r.length;a+=3){var c=r[a],d=r[a+1],v=r[a+2];if(typeof d!="function"){if(Qg(d||c)===null)continue;break}var b=gt(c);b!==null&&(r.splice(a,3),a-=3,Qm(b,{pending:!0,data:v,method:c.method,action:d},d,v))}}))}function Fc(r){function a(G){return Rh(G,r)}ws!==null&&Rh(ws,r),Ms!==null&&Rh(Ms,r),Ss!==null&&Rh(Ss,r),Bc.forEach(a),zc.forEach(a);for(var c=0;c<Ts.length;c++){var d=Ts[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Ts.length&&(c=Ts[0],c.blockedOn===null);)jw(c),c.blockedOn===null&&Ts.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var v=c[d],b=c[d+1],A=v[Ye]||null;if(typeof b=="function")A||qw(c);else if(A){var L=null;if(b&&b.hasAttribute("formAction")){if(v=b,A=b[Ye]||null)L=A.formAction;else if(Qg(v)!==null)continue}else L=A.action;typeof L=="function"?c[d+1]=L:(c.splice(d,3),d-=3),qw(c)}}}function $g(r){this._internalRoot=r}Lh.prototype.render=$g.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,d=ri();Iw(c,d,r,a,null,null)},Lh.prototype.unmount=$g.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Iw(r.current,2,null,r,null,null),fh(),a[rt]=null}};function Lh(r){this._internalRoot=r}Lh.prototype.unstable_scheduleHydration=function(r){if(r){var a=de();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Ts.length&&a!==0&&a<Ts[c].priority;c++);Ts.splice(c,0,r),c===0&&jw(r)}};var Xw=e.version;if(Xw!=="19.1.0")throw Error(i(527,Xw,"19.1.0"));z.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var RD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{He=Dh.inject(RD),Ie=Dh}catch{}}return Hc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,d="",v=c_,b=u_,A=f_,L=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(L=a.unstable_transitionCallbacks)),a=Uw(r,1,!1,null,null,c,d,v,b,A,L,null),r[rt]=a.current,Bg(r),new $g(a)},Hc.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var d=!1,v="",b=c_,A=u_,L=f_,G=null,re=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(G=c.unstable_transitionCallbacks),c.formState!==void 0&&(re=c.formState)),a=Uw(r,1,!0,a,c??null,d,v,b,A,L,G,re),a.context=Fw(null),c=a.current,d=ri(),d=ql(d),v=ls(d),v.callback=null,cs(c,v,d),c=d,a.current.lanes=c,is(a,c),tr(a),r[rt]=a.current,Bg(r),new Lh(a)},Hc.version="19.1.0",Hc}var iM;function UD(){if(iM)return ny.exports;iM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=zD(),ny.exports}var FD=UD();const Bv=W.createContext({});function zv(t){const e=W.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uv=typeof window<"u",wE=Uv?W.useLayoutEffect:W.useEffect,wp=W.createContext(null);function Fv(t,e){t.indexOf(e)===-1&&t.push(e)}function Iv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const qr=(t,e,n)=>n>e?e:n<t?t:n;let Hv=()=>{};const Xr={},ME=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function SE(t){return typeof t=="object"&&t!==null}const TE=t=>/^0[^.\s]+$/u.test(t);function Vv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ai=t=>t,ID=(t,e)=>n=>e(t(n)),$u=(...t)=>t.reduce(ID),mu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Gv{constructor(){this.subscriptions=[]}add(e){return Fv(this.subscriptions,e),()=>Iv(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lr=t=>t*1e3,cr=t=>t/1e3;function EE(t,e){return e?t*(1e3/e):0}const AE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,HD=1e-7,VD=12;function GD(t,e,n,i,s){let o,l,u=0;do l=e+(n-e)/2,o=AE(l,i,s)-t,o>0?n=l:e=l;while(Math.abs(o)>HD&&++u<VD);return l}function ef(t,e,n,i){if(t===e&&n===i)return Ai;const s=o=>GD(o,0,1,t,n);return o=>o===0||o===1?o:AE(s(o),e,i)}const RE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,CE=t=>e=>1-t(1-e),LE=ef(.33,1.53,.69,.99),kv=CE(LE),DE=RE(kv),NE=t=>(t*=2)<1?.5*kv(t):.5*(2-Math.pow(2,-10*(t-1))),jv=t=>1-Math.sin(Math.acos(t)),OE=CE(jv),PE=RE(jv),kD=ef(.42,0,1,1),jD=ef(0,0,.58,1),BE=ef(.42,0,.58,1),WD=t=>Array.isArray(t)&&typeof t[0]!="number",zE=t=>Array.isArray(t)&&typeof t[0]=="number",qD={linear:Ai,easeIn:kD,easeInOut:BE,easeOut:jD,circIn:jv,circInOut:PE,circOut:OE,backIn:kv,backInOut:DE,backOut:LE,anticipate:NE},XD=t=>typeof t=="string",rM=t=>{if(zE(t)){Hv(t.length===4);const[e,n,i,s]=t;return ef(e,n,i,s)}else if(XD(t))return qD[t];return t},Nh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],sM={value:null};function YD(t,e){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function f(p){l.has(p)&&(m.schedule(p),t()),h++,p(u)}const m={schedule:(p,g=!1,y=!1)=>{const M=y&&s?n:i;return g&&l.add(p),M.has(p)||M.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(u=p,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),e&&sM.value&&sM.value.frameloop[e].push(h),h=0,n.clear(),s=!1,o&&(o=!1,m.process(p))}};return m}const ZD=40;function UE(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Nh.reduce((T,C)=>(T[C]=YD(o,e?C:void 0),T),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:m,update:p,preRender:g,render:y,postRender:x}=l,M=()=>{const T=Xr.useManualTiming?s.timestamp:performance.now();n=!1,Xr.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(T-s.timestamp,ZD),1)),s.timestamp=T,s.isProcessing=!0,u.process(s),h.process(s),f.process(s),m.process(s),p.process(s),g.process(s),y.process(s),x.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(M))},S=()=>{n=!0,i=!0,s.isProcessing||t(M)};return{schedule:Nh.reduce((T,C)=>{const R=l[C];return T[C]=(E,N=!1,P=!1)=>(n||S(),R.schedule(E,N,P)),T},{}),cancel:T=>{for(let C=0;C<Nh.length;C++)l[Nh[C]].cancel(T)},state:s,steps:l}}const{schedule:Wt,cancel:Vs,state:_n,steps:ay}=UE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ai,!0);let Rd;function JD(){Rd=void 0}const Yn={now:()=>(Rd===void 0&&Yn.set(_n.isProcessing||Xr.useManualTiming?_n.timestamp:performance.now()),Rd),set:t=>{Rd=t,queueMicrotask(JD)}},FE=t=>e=>typeof e=="string"&&e.startsWith(t),Wv=FE("--"),QD=FE("var(--"),qv=t=>QD(t)?KD.test(t.split("/*")[0].trim()):!1,KD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gu={...Cl,transform:t=>qr(0,1,t)},Oh={...Cl,default:1},ru=t=>Math.round(t*1e5)/1e5,Xv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $D(t){return t==null}const eN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yv=(t,e)=>n=>!!(typeof n=="string"&&eN.test(n)&&n.startsWith(t)||e&&!$D(n)&&Object.prototype.hasOwnProperty.call(n,e)),IE=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,u]=i.match(Xv);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},tN=t=>qr(0,255,t),oy={...Cl,transform:t=>Math.round(tN(t))},Ea={test:Yv("rgb","red"),parse:IE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+oy.transform(t)+", "+oy.transform(e)+", "+oy.transform(n)+", "+ru(gu.transform(i))+")"};function nN(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const _0={test:Yv("#"),parse:nN,transform:Ea.transform},tf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bs=tf("deg"),ur=tf("%"),tt=tf("px"),iN=tf("vh"),rN=tf("vw"),aM={...ur,parse:t=>ur.parse(t)/100,transform:t=>ur.transform(t*100)},nl={test:Yv("hsl","hue"),parse:IE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ur.transform(ru(e))+", "+ur.transform(ru(n))+", "+ru(gu.transform(i))+")"},Cn={test:t=>Ea.test(t)||_0.test(t)||nl.test(t),parse:t=>Ea.test(t)?Ea.parse(t):nl.test(t)?nl.parse(t):_0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ea.transform(t):nl.transform(t)},sN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Xv))==null?void 0:e.length)||0)+(((n=t.match(sN))==null?void 0:n.length)||0)>0}const HE="number",VE="color",oN="var",lN="var(",oM="${}",cN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(cN,h=>(Cn.test(h)?(i.color.push(o),s.push(VE),n.push(Cn.parse(h))):h.startsWith(lN)?(i.var.push(o),s.push(oN),n.push(h)):(i.number.push(o),s.push(HE),n.push(parseFloat(h))),++o,oM)).split(oM);return{values:n,split:u,indexes:i,types:s}}function GE(t){return yu(t).values}function kE(t){const{split:e,types:n}=yu(t),i=e.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===HE?o+=ru(s[l]):u===VE?o+=Cn.transform(s[l]):o+=s[l]}return o}}const uN=t=>typeof t=="number"?0:t;function fN(t){const e=GE(t);return kE(t)(e.map(uN))}const Gs={test:aN,parse:GE,createTransformer:kE,getAnimatableNone:fN};function ly(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hN({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=ly(h,u,t+1/3),o=ly(h,u,t),l=ly(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Hd(t,e){return n=>n>0?e:t}const kt=(t,e,n)=>t+(e-t)*n,cy=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},dN=[_0,Ea,nl],pN=t=>dN.find(e=>e.test(t));function lM(t){const e=pN(t);if(!e)return!1;let n=e.parse(t);return e===nl&&(n=hN(n)),n}const cM=(t,e)=>{const n=lM(t),i=lM(e);if(!n||!i)return Hd(t,e);const s={...n};return o=>(s.red=cy(n.red,i.red,o),s.green=cy(n.green,i.green,o),s.blue=cy(n.blue,i.blue,o),s.alpha=kt(n.alpha,i.alpha,o),Ea.transform(s))},w0=new Set(["none","hidden"]);function mN(t,e){return w0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gN(t,e){return n=>kt(t,e,n)}function Zv(t){return typeof t=="number"?gN:typeof t=="string"?qv(t)?Hd:Cn.test(t)?cM:xN:Array.isArray(t)?jE:typeof t=="object"?Cn.test(t)?cM:yN:Hd}function jE(t,e){const n=[...t],i=n.length,s=t.map((o,l)=>Zv(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function yN(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=Zv(t[s])(t[s],e[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function vN(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][i[o]],u=t.values[l]??0;n[s]=u,i[o]++}return n}const xN=(t,e)=>{const n=Gs.createTransformer(e),i=yu(t),s=yu(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?w0.has(t)&&!s.values.length||w0.has(e)&&!i.values.length?mN(t,e):$u(jE(vN(i,s),s.values),n):Hd(t,e)};function WE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):Zv(t)(t,e)}const bN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Wt.update(e,n),stop:()=>Vs(e),now:()=>_n.isProcessing?_n.timestamp:Yn.now()}},qE=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)i+=t(o/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},Vd=2e4;function Jv(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Vd;)e+=n,i=t.next(e);return e>=Vd?1/0:e}function _N(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(Jv(i),Vd);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:cr(s)}}const wN=5;function XE(t,e,n){const i=Math.max(e-wN,0);return EE(n-t(i),e-i)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uM=.001;function MN({duration:t=Kt.duration,bounce:e=Kt.bounce,velocity:n=Kt.velocity,mass:i=Kt.mass}){let s,o,l=1-e;l=qr(Kt.minDamping,Kt.maxDamping,l),t=qr(Kt.minDuration,Kt.maxDuration,cr(t)),l<1?(s=f=>{const m=f*l,p=m*t,g=m-n,y=M0(f,l),x=Math.exp(-p);return uM-g/y*x},o=f=>{const p=f*l*t,g=p*n+n,y=Math.pow(l,2)*Math.pow(f,2)*t,x=Math.exp(-p),M=M0(Math.pow(f,2),l);return(-s(f)+uM>0?-1:1)*((g-y)*x)/M}):(s=f=>{const m=Math.exp(-f*t),p=(f-n)*t+1;return-.001+m*p},o=f=>{const m=Math.exp(-f*t),p=(n-f)*(t*t);return m*p});const u=5/t,h=TN(s,o,u);if(t=lr(t),isNaN(h))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:t};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:t}}}const SN=12;function TN(t,e,n){let i=n;for(let s=1;s<SN;s++)i=i-t(i)/e(i);return i}function M0(t,e){return t*Math.sqrt(1-e*e)}const EN=["duration","bounce"],AN=["stiffness","damping","mass"];function fM(t,e){return e.some(n=>t[n]!==void 0)}function RN(t){let e={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...t};if(!fM(t,AN)&&fM(t,EN))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*qr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Kt.mass,stiffness:s,damping:o}}else{const n=MN(t);e={...e,...n,mass:Kt.mass},e.isResolvedFromDuration=!0}return e}function Gd(t=Kt.visualDuration,e=Kt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:m,duration:p,velocity:g,isResolvedFromDuration:y}=RN({...n,velocity:-cr(n.velocity||0)}),x=g||0,M=f/(2*Math.sqrt(h*m)),S=l-o,_=cr(Math.sqrt(h/m)),w=Math.abs(S)<5;i||(i=w?Kt.restSpeed.granular:Kt.restSpeed.default),s||(s=w?Kt.restDelta.granular:Kt.restDelta.default);let T;if(M<1){const R=M0(_,M);T=E=>{const N=Math.exp(-M*_*E);return l-N*((x+M*_*S)/R*Math.sin(R*E)+S*Math.cos(R*E))}}else if(M===1)T=R=>l-Math.exp(-_*R)*(S+(x+_*S)*R);else{const R=_*Math.sqrt(M*M-1);T=E=>{const N=Math.exp(-M*_*E),P=Math.min(R*E,300);return l-N*((x+M*_*S)*Math.sinh(P)+R*S*Math.cosh(P))/R}}const C={calculatedDuration:y&&p||null,next:R=>{const E=T(R);if(y)u.done=R>=p;else{let N=R===0?x:0;M<1&&(N=R===0?lr(x):XE(T,R,E));const P=Math.abs(N)<=i,j=Math.abs(l-E)<=s;u.done=P&&j}return u.value=u.done?l:E,u},toString:()=>{const R=Math.min(Jv(C),Vd),E=qE(N=>C.next(R*N).value,R,30);return R+"ms "+E},toTransition:()=>{}};return C}Gd.applyToOptions=t=>{const e=_N(t,100,Gd);return t.ease=e.ease,t.duration=lr(e.duration),t.type="keyframes",t};function S0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:m}){const p=t[0],g={done:!1,value:p},y=P=>u!==void 0&&P<u||h!==void 0&&P>h,x=P=>u===void 0?h:h===void 0||Math.abs(u-P)<Math.abs(h-P)?u:h;let M=n*e;const S=p+M,_=l===void 0?S:l(S);_!==S&&(M=_-p);const w=P=>-M*Math.exp(-P/i),T=P=>_+w(P),C=P=>{const j=w(P),se=T(P);g.done=Math.abs(j)<=f,g.value=g.done?_:se};let R,E;const N=P=>{y(g.value)&&(R=P,E=Gd({keyframes:[g.value,x(g.value)],velocity:XE(T,P,g.value),damping:s,stiffness:o,restDelta:f,restSpeed:m}))};return N(0),{calculatedDuration:null,next:P=>{let j=!1;return!E&&R===void 0&&(j=!0,C(P),N(P)),R!==void 0&&P>=R?E.next(P-R):(!j&&C(P),g)}}}function CN(t,e,n){const i=[],s=n||Xr.mix||WE,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Ai:e;u=$u(h,u)}i.push(u)}return i}function LN(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const o=t.length;if(Hv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=CN(e,i,s),h=u.length,f=m=>{if(l&&m<t[0])return e[0];let p=0;if(h>1)for(;p<t.length-2&&!(m<t[p+1]);p++);const g=mu(t[p],t[p+1],m);return u[p](g)};return n?m=>f(qr(t[0],t[o-1],m)):f}function DN(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=mu(0,e,i);t.push(kt(n,1,s))}}function NN(t){const e=[0];return DN(e,t.length-1),e}function ON(t,e){return t.map(n=>n*e)}function PN(t,e){return t.map(()=>e||BE).splice(0,t.length-1)}function su({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=WD(i)?i.map(rM):rM(i),o={done:!1,value:e[0]},l=ON(n&&n.length===e.length?n:NN(e),t),u=LN(l,e,{ease:Array.isArray(s)?s:PN(e,s)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const BN=t=>t!==null;function Qv(t,{repeat:e,repeatType:n="loop"},i,s=1){const o=t.filter(BN),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const zN={decay:S0,inertia:S0,tween:su,keyframes:su,spring:Gd};function YE(t){typeof t.type=="string"&&(t.type=zN[t.type])}class Kv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const UN=t=>t/100;class $v extends Kv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Yn.now()&&this.tick(Yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;YE(e);const{type:n=su,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const h=n||su;h!==su&&typeof u[0]!="number"&&(this.mixKeyframes=$u(UN,WE(u[0],u[1])),u=[0,100]);const f=h({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Jv(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:m,repeat:p,repeatType:g,repeatDelay:y,type:x,onUpdate:M,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-f*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let T=this.currentTime,C=i;if(p){const P=Math.min(this.currentTime,s)/u;let j=Math.floor(P),se=P%1;!se&&P>=1&&(se=1),se===1&&j--,j=Math.min(j,p+1),!!(j%2)&&(g==="reverse"?(se=1-se,y&&(se-=y/u)):g==="mirror"&&(C=l)),T=qr(0,1,se)*u}const R=w?{done:!1,value:m[0]}:C.next(T);o&&(R.value=o(R.value));let{done:E}=R;!w&&h!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return N&&x!==S0&&(R.value=Qv(m,this.options,S,this.speed)),M&&M(R.value),N&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return cr(this.calculatedDuration)}get time(){return cr(this.currentTime)}set time(e){var n;e=lr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=cr(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=bN,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(o=(s=this.options).onPlay)==null||o.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function FN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Aa=t=>t*180/Math.PI,T0=t=>{const e=Aa(Math.atan2(t[1],t[0]));return E0(e)},IN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:T0,rotateZ:T0,skewX:t=>Aa(Math.atan(t[1])),skewY:t=>Aa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},E0=t=>(t=t%360,t<0&&(t+=360),t),hM=T0,dM=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pM=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),HN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dM,scaleY:pM,scale:t=>(dM(t)+pM(t))/2,rotateX:t=>E0(Aa(Math.atan2(t[6],t[5]))),rotateY:t=>E0(Aa(Math.atan2(-t[2],t[0]))),rotateZ:hM,rotate:hM,skewX:t=>Aa(Math.atan(t[4])),skewY:t=>Aa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function A0(t){return t.includes("scale")?1:0}function R0(t,e){if(!t||t==="none")return A0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=HN,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=IN,s=u}if(!s)return A0(e);const o=i[e],l=s[1].split(",").map(GN);return typeof o=="function"?o(l):l[o]}const VN=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return R0(n,e)};function GN(t){return parseFloat(t.trim())}const Ll=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dl=new Set(Ll),mM=t=>t===Cl||t===tt,kN=new Set(["x","y","z"]),jN=Ll.filter(t=>!kN.has(t));function WN(t){const e=[];return jN.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Da={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>R0(e,"x"),y:(t,{transform:e})=>R0(e,"y")};Da.translateX=Da.x;Da.translateY=Da.y;const Na=new Set;let C0=!1,L0=!1,D0=!1;function ZE(){if(L0){const t=Array.from(Na).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=WN(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{var u;(u=i.getValue(o))==null||u.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}L0=!1,C0=!1,Na.forEach(t=>t.complete(D0)),Na.clear()}function JE(){Na.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(L0=!0)})}function qN(){D0=!0,JE(),ZE(),D0=!1}class ex{constructor(e,n,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Na.add(this),C0||(C0=!0,Wt.read(JE),Wt.resolveKeyframes(ZE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const u=i.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}FN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Na.delete(this)}cancel(){this.state==="scheduled"&&(Na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XN=t=>t.startsWith("--");function YN(t,e,n){XN(e)?t.style.setProperty(e,n):t.style[e]=n}const ZN=Vv(()=>window.ScrollTimeline!==void 0),JN={};function QN(t,e){const n=Vv(t);return()=>JN[e]??n()}const QE=QN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,gM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tu([0,.65,.55,1]),circOut:tu([.55,0,1,.45]),backIn:tu([.31,.01,.66,-.59]),backOut:tu([.33,1.53,.69,.99])};function KE(t,e){if(t)return typeof t=="function"?QE()?qE(t,e):"ease-out":zE(t)?tu(t):Array.isArray(t)?t.map(n=>KE(n,e)||gM.easeOut):gM[t]}function KN(t,e,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:h}={},f=void 0){const m={[e]:n};h&&(m.offset=h);const p=KE(u,s);Array.isArray(p)&&(m.easing=p);const g={delay:i,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(m,g)}function $E(t){return typeof t=="function"&&"applyToOptions"in t}function $N({type:t,...e}){return $E(t)&&QE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eO extends Kv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,Hv(typeof e.type!="string");const f=$N(e);this.animation=KN(n,i,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=Qv(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):YN(n,i,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return cr(Number(e))}get time(){return cr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=lr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&ZN()?(this.animation.timeline=e,Ai):n(this)}}const eA={anticipate:NE,backInOut:DE,circInOut:PE};function tO(t){return t in eA}function nO(t){typeof t.ease=="string"&&tO(t.ease)&&(t.ease=eA[t.ease])}const yM=10;class iO extends eO{constructor(e){nO(e),YE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new $v({...l,autoplay:!1}),h=lr(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-yM).value,u.sample(h).value,yM),u.stop()}}const vM=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gs.test(t)||t==="0")&&!t.startsWith("url("));function rO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sO(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=vM(s,e),u=vM(o,e);return!l||!u?!1:rO(t)||(n==="spring"||$E(n))&&i}function tx(t){return SE(t)&&"offsetHeight"in t}const aO=new Set(["opacity","clipPath","filter","transform"]),oO=Vv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lO(t){var f;const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=t;if(!tx((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return oO()&&n&&aO.has(n)&&(n!=="transform"||!h)&&!u&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const cO=40;class uO extends Kv{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:h,motionValue:f,element:m,...p}){var x;super(),this.stop=()=>{var M,S;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Yn.now();const g={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,name:h,motionValue:f,element:m,...p},y=(m==null?void 0:m.KeyframeResolver)||ex;this.keyframeResolver=new y(u,(M,S,_)=>this.onKeyframesResolved(M,S,g,!_),h,f,m),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:h,isHandoff:f,onUpdate:m}=i;this.resolvedAt=Yn.now(),sO(e,o,l,u)||((Xr.instantAnimations||!h)&&(m==null||m(Qv(e,i,n))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>cO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},y=!f&&lO(g)?new iO({...g,element:g.motionValue.owner.current}):new $v(g);y.finished.then(()=>this.notifyFinished()).catch(Ai),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),qN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const fO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hO(t){const e=fO.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function tA(t,e,n=1){const[i,s]=hO(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return ME(l)?parseFloat(l):l}return qv(s)?tA(s,e,n+1):s}function nx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const nA=new Set(["width","height","top","left","right","bottom",...Ll]),dO={test:t=>t==="auto",parse:t=>t},iA=t=>e=>e.test(t),rA=[Cl,tt,ur,Bs,rN,iN,dO],xM=t=>rA.find(iA(t));function pO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TE(t):!0}const mO=new Set(["brightness","contrast","saturate","opacity"]);function gO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Xv)||[];if(!i)return t;const s=n.replace(i,"");let o=mO.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+s+")"}const yO=/\b([a-z-]*)\(.*?\)/gu,N0={...Gs,getAnimatableNone:t=>{const e=t.match(yO);return e?e.map(gO).join(" "):t}},bM={...Cl,transform:Math.round},vO={rotate:Bs,rotateX:Bs,rotateY:Bs,rotateZ:Bs,scale:Oh,scaleX:Oh,scaleY:Oh,scaleZ:Oh,skew:Bs,skewX:Bs,skewY:Bs,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:gu,originX:aM,originY:aM,originZ:tt},ix={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,radius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,backgroundPositionX:tt,backgroundPositionY:tt,...vO,zIndex:bM,fillOpacity:gu,strokeOpacity:gu,numOctaves:bM},xO={...ix,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:N0,WebkitFilter:N0},sA=t=>xO[t];function aA(t,e){let n=sA(t);return n!==N0&&(n=Gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bO=new Set(["auto","none","0"]);function _O(t,e,n){let i=0,s;for(;i<t.length&&!s;){const o=t[i];typeof o=="string"&&!bO.has(o)&&yu(o).values.length&&(s=t[i]),i++}if(s&&n)for(const o of e)t[o]=aA(n,s)}class wO extends ex{constructor(e,n,i,s,o){super(e,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),qv(f))){const m=tA(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!nA.has(i)||e.length!==2)return;const[s,o]=e,l=xM(s),u=xM(o);if(l!==u)if(mM(l)&&mM(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Da[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||pO(e[s]))&&i.push(s);i.length&&_O(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Da[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Da[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function MO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(n==null?void 0:n[t])??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const oA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,_M=30,SO=t=>!isNaN(parseFloat(t));class TO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var l,u;const o=Yn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gv);const i=this.events[e].add(n);return e==="change"?()=>{i(),Wt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_M)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_M);return EE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ml(t,e){return new TO(t,e)}const{schedule:rx}=UE(queueMicrotask,!1),Vi={x:!1,y:!1};function lA(){return Vi.x||Vi.y}function EO(t){return t==="x"||t==="y"?Vi[t]?null:(Vi[t]=!0,()=>{Vi[t]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function cA(t,e){const n=MO(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function wM(t){return!(t.pointerType==="touch"||lA())}function AO(t,e,n={}){const[i,s,o]=cA(t,n),l=u=>{if(!wM(u))return;const{target:h}=u,f=e(h,u);if(typeof f!="function"||!h)return;const m=p=>{wM(p)&&(f(p),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const uA=(t,e)=>e?t===e?!0:uA(t,e.parentElement):!1,sx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,RO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CO(t){return RO.has(t.tagName)||t.tabIndex!==-1}const Cd=new WeakSet;function MM(t){return e=>{e.key==="Enter"&&t(e)}}function uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LO=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=MM(()=>{if(Cd.has(n))return;uy(n,"down");const s=MM(()=>{uy(n,"up")}),o=()=>uy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function SM(t){return sx(t)&&!lA()}function DO(t,e,n={}){const[i,s,o]=cA(t,n),l=u=>{const h=u.currentTarget;if(!SM(u))return;Cd.add(h);const f=e(h,u),m=(y,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),Cd.has(h)&&Cd.delete(h),SM(y)&&typeof f=="function"&&f(y,{success:x})},p=y=>{m(y,h===window||h===document||n.useGlobalTarget||uA(h,y.target))},g=y=>{m(y,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",g,s)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),tx(u)&&(u.addEventListener("focus",f=>LO(f,s)),!CO(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function fA(t){return SE(t)&&"ownerSVGElement"in t}function NO(t){return fA(t)&&t.tagName==="svg"}const Dn=t=>!!(t&&t.getVelocity),OO=[...rA,Cn,Gs],PO=t=>OO.find(iA(t)),ax=W.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class BO extends W.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=tx(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zO({children:t,isPresent:e,anchorX:n}){const i=W.useId(),s=W.useRef(null),o=W.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=W.useContext(ax);return W.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:m,right:p}=o.current;if(e||!s.current||!u||!h)return;const g=n==="left"?`left: ${m}`:`right: ${p}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");return l&&(y.nonce=l),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),B.jsx(BO,{isPresent:e,childRef:s,sizeRef:o,children:W.cloneElement(t,{ref:s})})}const UO=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u})=>{const h=zv(FO),f=W.useId();let m=!0,p=W.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:s,onExitComplete:g=>{h.set(g,!0);for(const y of h.values())if(!y)return;i&&i()},register:g=>(h.set(g,!1),()=>h.delete(g))}),[n,h,i]);return o&&m&&(p={...p}),W.useMemo(()=>{h.forEach((g,y)=>h.set(y,!1))},[n]),W.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),l==="popLayout"&&(t=B.jsx(zO,{isPresent:n,anchorX:u,children:t})),B.jsx(wp.Provider,{value:p,children:t})};function FO(){return new Map}function hA(t=!0){const e=W.useContext(wp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,o=W.useId();W.useEffect(()=>{if(t)return s(o)},[t]);const l=W.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,l]:[!0]}const Ph=t=>t.key||"";function TM(t){const e=[];return W.Children.forEach(t,n=>{W.isValidElement(n)&&e.push(n)}),e}const dA=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left"})=>{const[h,f]=hA(l),m=W.useMemo(()=>TM(t),[t]),p=l&&!h?[]:m.map(Ph),g=W.useRef(!0),y=W.useRef(m),x=zv(()=>new Map),[M,S]=W.useState(m),[_,w]=W.useState(m);wE(()=>{g.current=!1,y.current=m;for(let R=0;R<_.length;R++){const E=Ph(_[R]);p.includes(E)?x.delete(E):x.get(E)!==!0&&x.set(E,!1)}},[_,p.length,p.join("-")]);const T=[];if(m!==M){let R=[...m];for(let E=0;E<_.length;E++){const N=_[E],P=Ph(N);p.includes(P)||(R.splice(E,0,N),T.push(N))}return o==="wait"&&T.length&&(R=T),w(TM(R)),S(m),null}const{forceRender:C}=W.useContext(Bv);return B.jsx(B.Fragment,{children:_.map(R=>{const E=Ph(R),N=l&&!h?!1:m===_||p.includes(E),P=()=>{if(x.has(E))x.set(E,!0);else return;let j=!0;x.forEach(se=>{se||(j=!1)}),j&&(C==null||C(),w(y.current),l&&(f==null||f()),i&&i())};return B.jsx(UO,{isPresent:N,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,onExitComplete:N?void 0:P,anchorX:u,children:R},E)})})},pA=W.createContext({strict:!1}),EM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gl={};for(const t in EM)gl[t]={isEnabled:e=>EM[t].some(n=>!!e[n])};function IO(t){for(const e in t)gl[e]={...gl[e],...t[e]}}const HO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||HO.has(t)}let mA=t=>!kd(t);function VO(t){t&&(mA=e=>e.startsWith("on")?!kd(e):t(e))}try{VO(require("@emotion/is-prop-valid").default)}catch{}function GO(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(mA(s)||n===!0&&kd(s)||!e&&!kd(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function kO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Mp=W.createContext({});function Sp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vu(t){return typeof t=="string"||Array.isArray(t)}const ox=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lx=["initial",...ox];function Tp(t){return Sp(t.animate)||lx.some(e=>vu(t[e]))}function gA(t){return!!(Tp(t)||t.variants)}function jO(t,e){if(Tp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||vu(n)?n:void 0,animate:vu(i)?i:void 0}}return t.inherit!==!1?e:{}}function WO(t){const{initial:e,animate:n}=jO(t,W.useContext(Mp));return W.useMemo(()=>({initial:e,animate:n}),[AM(e),AM(n)])}function AM(t){return Array.isArray(t)?t.join(" "):t}const qO=Symbol.for("motionComponentSymbol");function il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function XO(t,e,n){return W.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):il(n)&&(n.current=i))},[e])}const cx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YO="framerAppearId",yA="data-"+cx(YO),vA=W.createContext({});function ZO(t,e,n,i,s){var M,S;const{visualElement:o}=W.useContext(Mp),l=W.useContext(pA),u=W.useContext(wp),h=W.useContext(ax).reducedMotion,f=W.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,p=W.useContext(vA);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&JO(f.current,n,s,p);const g=W.useRef(!1);W.useInsertionEffect(()=>{m&&g.current&&m.update(n,u)});const y=n[yA],x=W.useRef(!!y&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return wE(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),rx.render(m.render),x.current&&m.animationState&&m.animationState.animateChanges())}),W.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,y)}),x.current=!1))}),m}function JO(t,e,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xA(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&il(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:h,layoutRoot:f})}function xA(t){if(t)return t.options.allowProjection!==!1?t.projection:xA(t.parent)}function QO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){t&&IO(t);function o(u,h){let f;const m={...W.useContext(ax),...u,layoutId:KO(u)},{isStatic:p}=m,g=WO(u),y=i(u,p);if(!p&&Uv){$O();const x=eP(m);f=x.MeasureLayout,g.visualElement=ZO(s,y,m,e,x.ProjectionNode)}return B.jsxs(Mp.Provider,{value:g,children:[f&&g.visualElement?B.jsx(f,{visualElement:g.visualElement,...m}):null,n(s,u,XO(y,g.visualElement,h),y,p,g.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=W.forwardRef(o);return l[qO]=s,l}function KO({layoutId:t}){const e=W.useContext(Bv).id;return e&&t!==void 0?e+"-"+t:t}function $O(t,e){W.useContext(pA).strict}function eP(t){const{drag:e,layout:n}=gl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const xu={};function tP(t){for(const e in t)xu[e]=t[e],Wv(e)&&(xu[e].isCSSVariable=!0)}function bA(t,{layout:e,layoutId:n}){return Dl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xu[t]||t==="opacity")}const nP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iP=Ll.length;function rP(t,e,n){let i="",s=!0;for(let o=0;o<iP;o++){const l=Ll[o],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=oA(u,ix[l]);if(!h){s=!1;const m=nP[l]||l;i+=`${m}(${f}) `}n&&(e[l]=f)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function ux(t,e,n){const{style:i,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const h in e){const f=e[h];if(Dl.has(h)){l=!0;continue}else if(Wv(h)){s[h]=f;continue}else{const m=oA(f,ix[h]);h.startsWith("origin")?(u=!0,o[h]=m):i[h]=m}}if(e.transform||(l||n?i.transform=rP(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;i.transformOrigin=`${h} ${f} ${m}`}}const fx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _A(t,e,n){for(const i in e)!Dn(e[i])&&!bA(i,n)&&(t[i]=e[i])}function sP({transformTemplate:t},e){return W.useMemo(()=>{const n=fx();return ux(n,e,t),Object.assign({},n.vars,n.style)},[e])}function aP(t,e){const n=t.style||{},i={};return _A(i,n,t),Object.assign(i,sP(t,e)),i}function oP(t,e){const n={},i=aP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const lP={offset:"stroke-dashoffset",array:"stroke-dasharray"},cP={offset:"strokeDashoffset",array:"strokeDasharray"};function uP(t,e,n=1,i=0,s=!0){t.pathLength=1;const o=s?lP:cP;t[o.offset]=tt.transform(-i);const l=tt.transform(e),u=tt.transform(n);t[o.array]=`${l} ${u}`}function wA(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},h,f,m){if(ux(t,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),s!==void 0&&uP(p,s,o,l,!1)}const MA=()=>({...fx(),attrs:{}}),SA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fP(t,e,n,i){const s=W.useMemo(()=>{const o=MA();return wA(o,e,SA(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};_A(o,t.style,t),s.style={...o,...s.style}}return s}const hP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hx(t){return typeof t!="string"||t.includes("-")?!1:!!(hP.indexOf(t)>-1||/[A-Z]/u.test(t))}function dP(t=!1){return(n,i,s,{latestValues:o},l)=>{const h=(hx(n)?fP:oP)(i,o,l,n),f=GO(i,typeof n=="string",t),m=n!==W.Fragment?{...f,...h,ref:s}:{},{children:p}=i,g=W.useMemo(()=>Dn(p)?p.get():p,[p]);return W.createElement(n,{...m,children:g})}}function RM(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function dx(t,e,n,i){if(typeof e=="function"){const[s,o]=RM(i);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=RM(i);e=e(n!==void 0?n:t.custom,s,o)}return e}function Ld(t){return Dn(t)?t.get():t}function pP({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:mP(n,i,s,t),renderState:e()}}const TA=t=>(e,n)=>{const i=W.useContext(Mp),s=W.useContext(wp),o=()=>pP(t,e,i,s);return n?o():zv(o)};function mP(t,e,n,i){const s={},o=i(t,{});for(const g in o)s[g]=Ld(o[g]);let{initial:l,animate:u}=t;const h=Tp(t),f=gA(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const p=m?u:l;if(p&&typeof p!="boolean"&&!Sp(p)){const g=Array.isArray(p)?p:[p];for(let y=0;y<g.length;y++){const x=dx(t,g[y]);if(x){const{transitionEnd:M,transition:S,..._}=x;for(const w in _){let T=_[w];if(Array.isArray(T)){const C=m?T.length-1:0;T=T[C]}T!==null&&(s[w]=T)}for(const w in M)s[w]=M[w]}}}return s}function px(t,e,n){var o;const{style:i}=t,s={};for(const l in i)(Dn(i[l])||e.style&&Dn(e.style[l])||bA(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const gP={useVisualState:TA({scrapeMotionValuesFromProps:px,createRenderState:fx})};function EA(t,e,n){const i=px(t,e,n);for(const s in t)if(Dn(t[s])||Dn(e[s])){const o=Ll.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=t[s]}return i}const yP={useVisualState:TA({scrapeMotionValuesFromProps:EA,createRenderState:MA})};function vP(t,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...hx(i)?yP:gP,preloadedFeatures:t,useRender:dP(s),createVisualElement:e,Component:i};return QO(l)}}function bu(t,e,n){const i=t.getProps();return dx(i,e,n!==void 0?n:i.custom,t)}const O0=t=>Array.isArray(t);function xP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ml(n))}function bP(t){return O0(t)?t[t.length-1]||0:t}function _P(t,e){const n=bu(t,e);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const u=bP(o[l]);xP(t,l,u)}}function wP(t){return!!(Dn(t)&&t.add)}function P0(t,e){const n=t.getValue("willChange");if(wP(n))return n.add(e);if(!n&&Xr.WillChange){const i=new Xr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function AA(t){return t.props[yA]}const MP=t=>t!==null;function SP(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(MP),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const TP={type:"spring",stiffness:500,damping:25,restSpeed:10},EP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),AP={type:"keyframes",duration:.8},RP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CP=(t,{keyframes:e})=>e.length>2?AP:Dl.has(t)?t.startsWith("scale")?EP(e[1]):TP:RP;function LP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const mx=(t,e,n,i={},s,o)=>l=>{const u=nx(i,t)||{},h=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-lr(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:g=>{e.set(g),u.onUpdate&&u.onUpdate(g)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};LP(u)||Object.assign(m,CP(t,m)),m.duration&&(m.duration=lr(m.duration)),m.repeatDelay&&(m.repeatDelay=lr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(p=!0)),(Xr.instantAnimations||Xr.skipAnimations)&&(p=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,p&&!o&&e.get()!==void 0){const g=SP(m.keyframes,u);if(g!==void 0){Wt.update(()=>{m.onUpdate(g),m.onComplete()});return}}return u.isSync?new $v(m):new uO(m)};function DP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function RA(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(o=i);const h=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const p=t.getValue(m,t.latestValues[m]??null),g=u[m];if(g===void 0||f&&DP(f,m))continue;const y={delay:n,...nx(o||{},m)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===x&&!y.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const _=AA(t);if(_){const w=window.MotionHandoffAnimation(_,m,Wt);w!==null&&(y.startTime=w,M=!0)}}P0(t,m),p.start(mx(m,p,g,t.shouldReduceMotion&&nA.has(m)?{type:!1}:y,t,M));const S=p.animation;S&&h.push(S)}return l&&Promise.all(h).then(()=>{Wt.update(()=>{l&&_P(t,l)})}),h}function B0(t,e,n={}){var h;const i=bu(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(RA(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:g}=s;return NP(t,e,m+f,p,g,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,m]=u==="beforeChildren"?[o,l]:[l,o];return f().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function NP(t,e,n=0,i=0,s=1,o){const l=[],u=(t.variantChildren.size-1)*i,h=s===1?(f=0)=>f*i:(f=0)=>u-f*i;return Array.from(t.variantChildren).sort(OP).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(B0(f,e,{...o,delay:n+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function OP(t,e){return t.sortNodePosition(e)}function PP(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>B0(t,o,n));i=Promise.all(s)}else if(typeof e=="string")i=B0(t,e,n);else{const s=typeof e=="function"?bu(t,e,n.custom):e;i=Promise.all(RA(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function CA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const BP=lx.length;function LA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<BP;n++){const i=lx[n],s=t.props[i];(vu(s)||s===!1)&&(e[i]=s)}return e}const zP=[...ox].reverse(),UP=ox.length;function FP(t){return e=>Promise.all(e.map(({animation:n,options:i})=>PP(t,n,i)))}function IP(t){let e=FP(t),n=CM(),i=!0;const s=h=>(f,m)=>{var g;const p=bu(t,m,h==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:y,transitionEnd:x,...M}=p;f={...f,...M,...x}}return f};function o(h){e=h(t)}function l(h){const{props:f}=t,m=LA(t.parent)||{},p=[],g=new Set;let y={},x=1/0;for(let S=0;S<UP;S++){const _=zP[S],w=n[_],T=f[_]!==void 0?f[_]:m[_],C=vu(T),R=_===h?w.isActive:null;R===!1&&(x=S);let E=T===m[_]&&T!==f[_]&&C;if(E&&i&&t.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...y},!w.isActive&&R===null||!T&&!w.prevProp||Sp(T)||typeof T=="boolean")continue;const N=HP(w.prevProp,T);let P=N||_===h&&w.isActive&&!E&&C||S>x&&C,j=!1;const se=Array.isArray(T)?T:[T];let J=se.reduce(s(_),{});R===!1&&(J={});const{prevResolvedValues:K={}}=w,ae={...K,...J},Q=z=>{P=!0,g.has(z)&&(j=!0,g.delete(z)),w.needsAnimating[z]=!0;const k=t.getValue(z);k&&(k.liveStyle=!1)};for(const z in ae){const k=J[z],Y=K[z];if(y.hasOwnProperty(z))continue;let D=!1;O0(k)&&O0(Y)?D=!CA(k,Y):D=k!==Y,D?k!=null?Q(z):g.add(z):k!==void 0&&g.has(z)?Q(z):w.protectedKeys[z]=!0}w.prevProp=T,w.prevResolvedValues=J,w.isActive&&(y={...y,...J}),i&&t.blockInitialAnimation&&(P=!1),P&&(!(E&&N)||j)&&p.push(...se.map(z=>({animation:z,options:{type:_}})))}if(g.size){const S={};if(typeof f.initial!="boolean"){const _=bu(t,Array.isArray(f.initial)?f.initial[0]:f.initial);_&&_.transition&&(S.transition=_.transition)}g.forEach(_=>{const w=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),S[_]=w??null}),p.push({animation:S})}let M=!!p.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(p):Promise.resolve()}function u(h,f){var p;if(n[h].isActive===f)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var y;return(y=g.animationState)==null?void 0:y.setActive(h,f)}),n[h].isActive=f;const m=l(h);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=CM(),i=!0}}}function HP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CA(e,t):!1}function pa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CM(){return{animate:pa(!0),whileInView:pa(),whileHover:pa(),whileTap:pa(),whileDrag:pa(),whileFocus:pa(),exit:pa()}}class Js{constructor(e){this.isMounted=!1,this.node=e}update(){}}class VP extends Js{constructor(e){super(e),e.animationState||(e.animationState=IP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let GP=0;class kP extends Js{constructor(){super(...arguments),this.id=GP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jP={animation:{Feature:VP},exit:{Feature:kP}};function _u(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function nf(t){return{point:{x:t.pageX,y:t.pageY}}}const WP=t=>e=>sx(e)&&t(e,nf(e));function au(t,e,n,i){return _u(t,e,WP(n),i)}function DA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function qP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function XP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const NA=1e-4,YP=1-NA,ZP=1+NA,OA=.01,JP=0-OA,QP=0+OA;function Fn(t){return t.max-t.min}function KP(t,e,n){return Math.abs(t-e)<=n}function LM(t,e,n,i=.5){t.origin=i,t.originPoint=kt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=YP&&t.scale<=ZP||isNaN(t.scale))&&(t.scale=1),(t.translate>=JP&&t.translate<=QP||isNaN(t.translate))&&(t.translate=0)}function ou(t,e,n,i){LM(t.x,e.x,n.x,i?i.originX:void 0),LM(t.y,e.y,n.y,i?i.originY:void 0)}function DM(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function $P(t,e,n){DM(t.x,e.x,n.x),DM(t.y,e.y,n.y)}function NM(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function lu(t,e,n){NM(t.x,e.x,n.x),NM(t.y,e.y,n.y)}const OM=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:OM(),y:OM()}),PM=()=>({min:0,max:0}),nn=()=>({x:PM(),y:PM()});function Ei(t){return[t("x"),t("y")]}function fy(t){return t===void 0||t===1}function z0({scale:t,scaleX:e,scaleY:n}){return!fy(t)||!fy(e)||!fy(n)}function Ma(t){return z0(t)||PA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function PA(t){return BM(t.x)||BM(t.y)}function BM(t){return t&&t!=="0%"}function jd(t,e,n){const i=t-n,s=e*i;return n+s}function zM(t,e,n,i,s){return s!==void 0&&(t=jd(t,s,i)),jd(t,n,i)+e}function U0(t,e=0,n=1,i,s){t.min=zM(t.min,e,n,i,s),t.max=zM(t.max,e,n,i,s)}function BA(t,{x:e,y:n}){U0(t.x,e.translate,e.scale,e.originPoint),U0(t.y,n.translate,n.scale,n.originPoint)}const UM=.999999999999,FM=1.0000000000001;function e4(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&al(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,BA(t,l)),i&&Ma(o.latestValues)&&al(t,o.latestValues))}e.x<FM&&e.x>UM&&(e.x=1),e.y<FM&&e.y>UM&&(e.y=1)}function sl(t,e){t.min=t.min+e,t.max=t.max+e}function IM(t,e,n,i,s=.5){const o=kt(t.min,t.max,s);U0(t,e,n,o,i)}function al(t,e){IM(t.x,e.x,e.scaleX,e.scale,e.originX),IM(t.y,e.y,e.scaleY,e.scale,e.originY)}function zA(t,e){return DA(XP(t.getBoundingClientRect(),e))}function t4(t,e,n){const i=zA(t,n),{scroll:s}=e;return s&&(sl(i.x,s.offset.x),sl(i.y,s.offset.y)),i}const UA=({current:t})=>t?t.ownerDocument.defaultView:null,HM=(t,e)=>Math.abs(t-e);function n4(t,e){const n=HM(t.x,e.x),i=HM(t.y,e.y);return Math.sqrt(n**2+i**2)}class FA{constructor(e,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=dy(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=n4(p.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:x}=p,{timestamp:M}=_n;this.history.push({...x,timestamp:M});const{onStart:S,onMove:_}=this.handlers;g||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=hy(g,this.transformPagePoint),Wt.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=dy(p.type==="pointercancel"?this.lastMoveEventInfo:hy(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,S),x&&x(p,S)},!sx(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=nf(e),u=hy(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=_n;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,dy(u,this.history)),this.removeListeners=$u(au(this.contextWindow,"pointermove",this.handlePointerMove),au(this.contextWindow,"pointerup",this.handlePointerUp),au(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vs(this.updatePoint)}}function hy(t,e){return e?{point:e(t.point)}:t}function VM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dy({point:t},e){return{point:t,delta:VM(t,IA(e)),offset:VM(t,i4(e)),velocity:r4(e,.1)}}function i4(t){return t[0]}function IA(t){return t[t.length-1]}function r4(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=IA(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>lr(e)));)n--;if(!i)return{x:0,y:0};const o=cr(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function s4(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?kt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?kt(n,t,i.max):Math.min(t,n)),t}function GM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function a4(t,{top:e,left:n,bottom:i,right:s}){return{x:GM(t.x,n,s),y:GM(t.y,e,i)}}function kM(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function o4(t,e){return{x:kM(t.x,e.x),y:kM(t.y,e.y)}}function l4(t,e){let n=.5;const i=Fn(t),s=Fn(e);return s>i?n=mu(e.min,e.max-i,t.min):i>s&&(n=mu(t.min,t.max-s,e.min)),qr(0,1,n)}function c4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const F0=.35;function u4(t=F0){return t===!1?t=0:t===!0&&(t=F0),{x:jM(t,"left","right"),y:jM(t,"top","bottom")}}function jM(t,e,n){return{min:WM(t,e),max:WM(t,n)}}function WM(t,e){return typeof t=="number"?t:t[e]||0}const f4=new WeakMap;class h4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nf(m).point)},o=(m,p)=>{const{drag:g,dragPropagation:y,onDragStart:x}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EO(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ei(S=>{let _=this.getAxisMotionValue(S).get()||0;if(ur.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const T=w.layout.layoutBox[S];T&&(_=Fn(T)*(parseFloat(_)/100))}}this.originPoint[S]=_}),x&&Wt.postRender(()=>x(m,p)),P0(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},l=(m,p)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:x,onDrag:M}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:S}=p;if(y&&this.currentDirection===null){this.currentDirection=d4(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),M&&M(m,p)},u=(m,p)=>this.stop(m,p),h=()=>Ei(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new FA(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:UA(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Wt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Bh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=s4(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=a4(i.layoutBox,e):this.constraints=!1,this.elastic=u4(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ei(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=c4(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!il(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=t4(i,s.root,this.visualElement.getTransformPagePoint());let l=o4(s.layout.layoutBox,o);if(n){const u=n(qP(l));this.hasMutatedConstraints=!!u,u&&(l=DA(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=Ei(m=>{if(!Bh(m,n,this.currentDirection))return;let p=h&&h[m]||{};l&&(p={min:0,max:0});const g=s?200:1e6,y=s?40:1e7,x={type:"inertia",velocity:i?e[m]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(m,x)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return P0(this.visualElement,e),i.start(mx(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ei(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ei(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ei(n=>{const{drag:i}=this.getProps();if(!Bh(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-kt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!il(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ei(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=l4({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ei(l=>{if(!Bh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(kt(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;f4.set(this.visualElement,this);const e=this.visualElement.current,n=au(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();il(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Wt.read(i);const l=_u(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ei(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=h[m].translate,p.set(p.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=F0,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Bh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function d4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class p4 extends Js{constructor(e){super(e),this.removeGroupControls=Ai,this.removeListeners=Ai,this.controls=new h4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const qM=t=>(e,n)=>{t&&Wt.postRender(()=>t(e,n))};class m4 extends Js{constructor(){super(...arguments),this.removePointerDownListener=Ai}onPointerDown(e){this.session=new FA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:qM(e),onStart:qM(n),onMove:i,onEnd:(o,l)=>{delete this.session,s&&Wt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=au(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function XM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(tt.test(t))t=parseFloat(t);else return t;const n=XM(t,e.target.x),i=XM(t,e.target.y);return`${n}% ${i}%`}},g4={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=Gs.parse(t);if(s.length>5)return i;const o=Gs.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=h;const f=kt(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};class y4 extends W.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;tP(v4),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Wt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HA(t){const[e,n]=hA(),i=W.useContext(Bv);return B.jsx(y4,{...t,layoutGroup:i,switchLayoutGroup:W.useContext(vA),isPresent:e,safeToRemove:n})}const v4={borderRadius:{...Vc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vc,borderTopRightRadius:Vc,borderBottomLeftRadius:Vc,borderBottomRightRadius:Vc,boxShadow:g4};function x4(t,e,n){const i=Dn(t)?t:ml(t);return i.start(mx("",i,e,n)),i.animation}const b4=(t,e)=>t.depth-e.depth;class _4{constructor(){this.children=[],this.isDirty=!1}add(e){Fv(this.children,e),this.isDirty=!0}remove(e){Iv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b4),this.isDirty=!1,this.children.forEach(e)}}function w4(t,e){const n=Yn.now(),i=({timestamp:s})=>{const o=s-n;o>=e&&(Vs(i),t(o-e))};return Wt.setup(i,!0),()=>Vs(i)}const VA=["TopLeft","TopRight","BottomLeft","BottomRight"],M4=VA.length,YM=t=>typeof t=="string"?parseFloat(t):t,ZM=t=>typeof t=="number"||tt.test(t);function S4(t,e,n,i,s,o){s?(t.opacity=kt(0,n.opacity??1,T4(i)),t.opacityExit=kt(e.opacity??1,0,E4(i))):o&&(t.opacity=kt(e.opacity??1,n.opacity??1,i));for(let l=0;l<M4;l++){const u=`border${VA[l]}Radius`;let h=JM(e,u),f=JM(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||ZM(h)===ZM(f)?(t[u]=Math.max(kt(YM(h),YM(f),i),0),(ur.test(f)||ur.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,i))}function JM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const T4=GA(0,.5,OE),E4=GA(.5,.95,Ai);function GA(t,e,n){return i=>i<t?0:i>e?1:n(mu(t,e,i))}function QM(t,e){t.min=e.min,t.max=e.max}function Ti(t,e){QM(t.x,e.x),QM(t.y,e.y)}function KM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $M(t,e,n,i,s){return t-=e,t=jd(t,1/n,i),s!==void 0&&(t=jd(t,1/s,i)),t}function A4(t,e=0,n=1,i=.5,s,o=t,l=t){if(ur.test(e)&&(e=parseFloat(e),e=kt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=kt(o.min,o.max,i);t===o&&(u-=e),t.min=$M(t.min,e,n,u,s),t.max=$M(t.max,e,n,u,s)}function eS(t,e,[n,i,s],o,l){A4(t,e[n],e[i],e[s],e.scale,o,l)}const R4=["x","scaleX","originX"],C4=["y","scaleY","originY"];function tS(t,e,n,i){eS(t.x,e,R4,n?n.x:void 0,i?i.x:void 0),eS(t.y,e,C4,n?n.y:void 0,i?i.y:void 0)}function nS(t){return t.translate===0&&t.scale===1}function kA(t){return nS(t.x)&&nS(t.y)}function iS(t,e){return t.min===e.min&&t.max===e.max}function L4(t,e){return iS(t.x,e.x)&&iS(t.y,e.y)}function rS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jA(t,e){return rS(t.x,e.x)&&rS(t.y,e.y)}function sS(t){return Fn(t.x)/Fn(t.y)}function aS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class D4{constructor(){this.members=[]}add(e){Fv(this.members,e),e.scheduleRender()}remove(e){if(Iv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function N4(t,e,n){let i="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:p,rotateY:g,skewX:y,skewY:x}=n;f&&(i=`perspective(${f}px) ${i}`),m&&(i+=`rotate(${m}deg) `),p&&(i+=`rotateX(${p}deg) `),g&&(i+=`rotateY(${g}deg) `),y&&(i+=`skewX(${y}deg) `),x&&(i+=`skewY(${x}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const py=["","X","Y","Z"],O4={visibility:"hidden"},P4=1e3;let B4=0;function my(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function WA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=AA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Wt,!(s||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&WA(i)}function qA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=e==null?void 0:e()){this.id=B4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(F4),this.nodes.forEach(k4),this.nodes.forEach(j4),this.nodes.forEach(I4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new _4)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Gv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=fA(l)&&!NO(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let m;const p=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=w4(p,250),Dd.hasAnimatedSinceResize&&(Dd.hasAnimatedSinceResize=!1,this.nodes.forEach(lS))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||Z4,{onLayoutAnimationStart:M,onLayoutAnimationComplete:S}=f.getProps(),_=!this.targetLayout||!jA(this.targetLayout,y),w=!p&&g;if(this.options.layoutRoot||this.resumeFrom||w||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...nx(x,"layout"),onPlay:M,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(m,w)}else p||lS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(W4),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oS);return}this.isUpdating||this.nodes.forEach(V4),this.isUpdating=!1,this.nodes.forEach(G4),this.nodes.forEach(z4),this.nodes.forEach(U4),this.clearAllSnapshots();const u=Yn.now();_n.delta=qr(0,1e3/60,u-_n.timestamp),_n.timestamp=u,_n.isProcessing=!0,ay.update.process(_n),ay.preRender.process(_n),ay.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(H4),this.sharedNodes.forEach(q4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fn(this.snapshot.measuredBox.x)&&!Fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!kA(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||Ma(this.latestValues)||m)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),J4(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return nn();const u=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(Q4))){const{scroll:m}=this.root;m&&(sl(u.x,m.offset.x),sl(u.y,m.offset.y))}return u}removeElementScroll(l){var h;const u=nn();if(Ti(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:p,options:g}=m;m!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ti(u,l),sl(u.x,p.offset.x),sl(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const h=nn();Ti(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&al(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ma(m.latestValues)&&al(h,m.latestValues)}return Ma(this.latestValues)&&al(h,this.latestValues),h}removeTransform(l){const u=nn();Ti(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Ma(f.latestValues))continue;z0(f.latestValues)&&f.updateSnapshot();const m=nn(),p=f.measurePageBox();Ti(m,p),tS(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Ma(this.latestValues)&&tS(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var g;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),lu(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$P(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),BA(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),lu(this.relativeTargetOrigin,this.target,y.target),Ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||z0(this.parent.latestValues)||PA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Ti(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;e4(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nn());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KM(this.prevProjectionDelta.x,this.projectionDelta.x),KM(this.prevProjectionDelta.y,this.projectionDelta.y)),ou(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!aS(this.projectionDelta.x,this.prevProjectionDelta.x)||!aS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rl(),this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},p=rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const g=nn(),y=h?h.source:void 0,x=this.layout?this.layout.source:void 0,M=y!==x,S=this.getStack(),_=!S||S.members.length<=1,w=!!(M&&!_&&this.options.crossfade===!0&&!this.path.some(Y4));this.animationProgress=0;let T;this.mixTargetDelta=C=>{const R=C/1e3;cS(p.x,l.x,R),cS(p.y,l.y,R),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),X4(this.relativeTarget,this.relativeTargetOrigin,g,R),T&&L4(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=nn()),Ti(T,this.relativeTarget)),M&&(this.animationValues=m,S4(m,f,this.latestValues,R,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.update(()=>{Dd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ml(0)),this.currentAnimation=x4(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&XA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||nn();const p=Fn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+p;const g=Fn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+g}Ti(u,h),al(u,m),ou(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new D4),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&my("z",l,f,this.animationValues);for(let m=0;m<py.length;m++)my(`rotate${py[m]}`,l,f,this.animationValues),my(`skew${py[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return O4;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ld(l==null?void 0:l.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Ld(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ma(this.latestValues)&&(y.transform=h?h({},""):"none",this.hasProjected=!1),y}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=N4(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in xu){if(m[y]===void 0)continue;const{correct:x,applyTo:M,isCSSVariable:S}=xu[y],_=u.transform==="none"?m[y]:x(m[y],f);if(M){const w=M.length;for(let T=0;T<w;T++)u[M[T]]=_}else S?this.options.visualElement.renderState.vars[y]=_:u[y]=_}return this.options.layoutId&&(u.pointerEvents=f===this?Ld(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(oS),this.root.sharedNodes.clear()}}}function z4(t){t.updateLayout()}function U4(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Ei(p=>{const g=l?e.measuredBox[p]:e.layoutBox[p],y=Fn(g);g.min=i[p].min,g.max=g.min+y}):XA(o,e.layoutBox,i)&&Ei(p=>{const g=l?e.measuredBox[p]:e.layoutBox[p],y=Fn(i[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const u=rl();ou(u,i,e.layoutBox);const h=rl();l?ou(h,t.applyTransform(s,!0),e.measuredBox):ou(h,i,e.layoutBox);const f=!kA(u);let m=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const x=nn();lu(x,e.layoutBox,g.layoutBox);const M=nn();lu(M,i,y.layoutBox),jA(x,M)||(m=!0),p.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=x,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function F4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function I4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function H4(t){t.clearSnapshot()}function oS(t){t.clearMeasurements()}function V4(t){t.isLayoutDirty=!1}function G4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function lS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function k4(t){t.resolveTargetDelta()}function j4(t){t.calcProjection()}function W4(t){t.resetSkewAndRotation()}function q4(t){t.removeLeadSnapshot()}function cS(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function uS(t,e,n,i){t.min=kt(e.min,n.min,i),t.max=kt(e.max,n.max,i)}function X4(t,e,n,i){uS(t.x,e.x,n.x,i),uS(t.y,e.y,n.y,i)}function Y4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Z4={duration:.45,ease:[.4,0,.1,1]},fS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),hS=fS("applewebkit/")&&!fS("chrome/")?Math.round:Ai;function dS(t){t.min=hS(t.min),t.max=hS(t.max)}function J4(t){dS(t.x),dS(t.y)}function XA(t,e,n){return t==="position"||t==="preserve-aspect"&&!KP(sS(e),sS(n),.2)}function Q4(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const K4=qA({attachResizeListener:(t,e)=>_u(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gy={current:void 0},YA=qA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gy.current){const t=new K4({});t.mount(window),t.setOptions({layoutScroll:!0}),gy.current=t}return gy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$4={pan:{Feature:m4},drag:{Feature:p4,ProjectionNode:YA,MeasureLayout:HA}};function pS(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&Wt.postRender(()=>o(e,nf(e)))}class eB extends Js{mount(){const{current:e}=this.node;e&&(this.unmount=AO(e,(n,i)=>(pS(this.node,i,"Start"),s=>pS(this.node,s,"End"))))}unmount(){}}class tB extends Js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(_u(this.node.current,"focus",()=>this.onFocus()),_u(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mS(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&Wt.postRender(()=>o(e,nf(e)))}class nB extends Js{mount(){const{current:e}=this.node;e&&(this.unmount=DO(e,(n,i)=>(mS(this.node,i,"Start"),(s,{success:o})=>mS(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const I0=new WeakMap,yy=new WeakMap,iB=t=>{const e=I0.get(t.target);e&&e(t)},rB=t=>{t.forEach(iB)};function sB({root:t,...e}){const n=t||document;yy.has(n)||yy.set(n,{});const i=yy.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(rB,{root:t,...e})),i[s]}function aB(t,e,n){const i=sB(e);return I0.set(t,n),i.observe(t),()=>{I0.delete(t),i.unobserve(t)}}const oB={some:0,all:1};class lB extends Js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:oB[s]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),g=f?m:p;g&&g(h)};return aB(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cB(e,n))&&this.startObserver()}unmount(){}}function cB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uB={inView:{Feature:lB},tap:{Feature:nB},focus:{Feature:tB},hover:{Feature:eB}},fB={layout:{ProjectionNode:YA,MeasureLayout:HA}},H0={current:null},ZA={current:!1};function hB(){if(ZA.current=!0,!!Uv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>H0.current=t.matches;t.addListener(e),e()}else H0.current=!1}const dB=new WeakMap;function pB(t,e,n){for(const i in e){const s=e[i],o=n[i];if(Dn(s))t.addValue(i,s);else if(Dn(o))t.addValue(i,ml(s,{owner:t}));else if(o!==s)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,ml(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const gS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mB{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ex,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Yn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Wt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Tp(n),this.isVariantNode=gA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const y=p[g];h[g]!==void 0&&Dn(y)&&y.set(h[g],!1)}}mount(e){this.current=e,dB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),ZA.current||hB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:H0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vs(this.notifyUpdate),Vs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Dl.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Wt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gl){const n=gl[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<gS.length;i++){const s=gS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=pB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ml(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(ME(i)||TE(i))?i=parseFloat(i):!PO(i)&&Gs.test(n)&&(i=aA(e,n)),this.setBaseTarget(e,Dn(i)?i.get():i)),Dn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=dx(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Dn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class JA extends mB{constructor(){super(...arguments),this.KeyframeResolver=wO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QA(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}function gB(t){return window.getComputedStyle(t)}class yB extends JA{constructor(){super(...arguments),this.type="html",this.renderInstance=QA}readValueFromInstance(e,n){var i;if(Dl.has(n))return(i=this.projection)!=null&&i.isProjecting?A0(n):VN(e,n);{const s=gB(e),o=(Wv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zA(e,n)}build(e,n,i){ux(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return px(e,n,i)}}const KA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vB(t,e,n,i){QA(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(KA.has(s)?s:cx(s),e.attrs[s])}class xB extends JA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Dl.has(n)){const i=sA(n);return i&&i.default||0}return n=KA.has(n)?n:cx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return EA(e,n,i)}build(e,n,i){wA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){vB(e,n,i,s)}mount(e){this.isSVGTag=SA(e.tagName),super.mount(e)}}const bB=(t,e)=>hx(t)?new xB(e):new yB(e,{allowProjection:t!==W.Fragment}),_B=vP({...jP,...uB,...$4,...fB},bB),Nt=kO(_B);var Gc={},yS;function wB(){if(yS)return Gc;yS=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.parse=l,Gc.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function l(g,y){const x=new o,M=g.length;if(M<2)return x;const S=(y==null?void 0:y.decode)||m;let _=0;do{const w=g.indexOf("=",_);if(w===-1)break;const T=g.indexOf(";",_),C=T===-1?M:T;if(w>C){_=g.lastIndexOf(";",w-1)+1;continue}const R=u(g,_,w),E=h(g,w,R),N=g.slice(R,E);if(x[N]===void 0){let P=u(g,w+1,C),j=h(g,C,P);const se=S(g.slice(P,j));x[N]=se}_=C+1}while(_<M);return x}function u(g,y,x){do{const M=g.charCodeAt(y);if(M!==32&&M!==9)return y}while(++y<x);return x}function h(g,y,x){for(;y>x;){const M=g.charCodeAt(--y);if(M!==32&&M!==9)return y+1}return x}function f(g,y,x){const M=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const S=M(y);if(!e.test(S))throw new TypeError(`argument val is invalid: ${y}`);let _=g+"="+S;if(!x)return _;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);_+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);_+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);_+="; Path="+x.path}if(x.expires){if(!p(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);_+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(_+="; HttpOnly"),x.secure&&(_+="; Secure"),x.partitioned&&(_+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return _}function m(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return s.call(g)==="[object Date]"}return Gc}wB();var vS="popstate";function MB(t={}){function e(i,s){let{pathname:o,search:l,hash:u}=i.location;return V0("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:wu(s)}return TB(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SB(){return Math.random().toString(36).substring(2,10)}function xS(t,e){return{usr:t.state,key:t.key,idx:e}}function V0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:n,key:e&&e.key||i||SB()}}function wu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function TB(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,u="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function p(){u="POP";let S=m(),_=S==null?null:S-f;f=S,h&&h({action:u,location:M.location,delta:_})}function g(S,_){u="PUSH";let w=V0(M.location,S,_);f=m()+1;let T=xS(w,f),C=M.createHref(w);try{l.pushState(T,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(C)}o&&h&&h({action:u,location:M.location,delta:1})}function y(S,_){u="REPLACE";let w=V0(M.location,S,_);f=m();let T=xS(w,f),C=M.createHref(w);l.replaceState(T,"",C),o&&h&&h({action:u,location:M.location,delta:0})}function x(S){return EB(S)}let M={get action(){return u},get location(){return t(s,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(vS,p),h=S,()=>{s.removeEventListener(vS,p),h=null}},createHref(S){return e(s,S)},createURL:x,encodeLocation(S){let _=x(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:y,go(S){return l.go(S)}};return M}function EB(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:wu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function $A(t,e,n="/"){return AB(t,e,n,!1)}function AB(t,e,n,i){let s=typeof e=="string"?Nl(e):e,o=Yr(s.pathname||"/",n);if(o==null)return null;let l=e2(t);RB(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=IB(o);u=UB(l[h],f,i)}return u}function e2(t,e=[],n=[],i=""){let s=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(qt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=kr([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(qt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),e2(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:BB(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let h of t2(o.path))s(o,l,h)}),e}function t2(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=t2(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function RB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zB(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var CB=/^:[\w-]+$/,LB=3,DB=2,NB=1,OB=10,PB=-2,bS=t=>t==="*";function BB(t,e){let n=t.split("/"),i=n.length;return n.some(bS)&&(i+=PB),e&&(i+=DB),n.filter(s=>!bS(s)).reduce((s,o)=>s+(CB.test(o)?LB:o===""?NB:OB),i)}function zB(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function UB(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",p=Wd({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),g=h.route;if(!p&&f&&n&&!i[i.length-1].route.index&&(p=Wd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:kr([o,p.pathname]),pathnameBase:kB(kr([o,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(o=kr([o,p.pathnameBase]))}return l}function Wd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=FB(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:p},g)=>{if(m==="*"){let x=u[g]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const y=u[g];return p&&!y?f[m]=void 0:f[m]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function FB(t,e=!1,n=!0){fr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function IB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function HB(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Nl(t):t;return{pathname:n?n.startsWith("/")?n:VB(n,e):e,search:jB(i),hash:WB(s)}}function VB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vy(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n2(t){let e=GB(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function i2(t,e,n,i=!1){let s;typeof t=="string"?s=Nl(t):(s={...t},qt(!s.pathname||!s.pathname.includes("?"),vy("?","pathname","search",s)),qt(!s.pathname||!s.pathname.includes("#"),vy("#","pathname","hash",s)),qt(!s.search||!s.search.includes("#"),vy("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let p=e.length-1;if(!i&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}u=p>=0?e[p]:"/"}let h=HB(s,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var kr=t=>t.join("/").replace(/\/\/+/g,"/"),kB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var r2=["POST","PUT","PATCH","DELETE"];new Set(r2);var XB=["GET",...r2];new Set(XB);var Ol=W.createContext(null);Ol.displayName="DataRouter";var Ep=W.createContext(null);Ep.displayName="DataRouterState";var s2=W.createContext({isTransitioning:!1});s2.displayName="ViewTransition";var YB=W.createContext(new Map);YB.displayName="Fetchers";var ZB=W.createContext(null);ZB.displayName="Await";var yr=W.createContext(null);yr.displayName="Navigation";var rf=W.createContext(null);rf.displayName="Location";var es=W.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var gx=W.createContext(null);gx.displayName="RouteError";function JB(t,{relative:e}={}){qt(sf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=W.useContext(yr),{hash:s,pathname:o,search:l}=af(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:kr([n,o])),i.createHref({pathname:u,search:l,hash:s})}function sf(){return W.useContext(rf)!=null}function Ya(){return qt(sf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(rf).location}var a2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o2(t){W.useContext(yr).static||W.useLayoutEffect(t)}function Ap(){let{isDataRoute:t}=W.useContext(es);return t?cz():QB()}function QB(){qt(sf(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(Ol),{basename:e,navigator:n}=W.useContext(yr),{matches:i}=W.useContext(es),{pathname:s}=Ya(),o=JSON.stringify(n2(i)),l=W.useRef(!1);return o2(()=>{l.current=!0}),W.useCallback((h,f={})=>{if(fr(l.current,a2),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=i2(h,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:kr([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,s,t])}W.createContext(null);function af(t,{relative:e}={}){let{matches:n}=W.useContext(es),{pathname:i}=Ya(),s=JSON.stringify(n2(n));return W.useMemo(()=>i2(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function KB(t,e){return l2(t,e)}function l2(t,e,n,i){var w;qt(sf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=W.useContext(yr),{matches:l}=W.useContext(es),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",p=u&&u.route;{let T=p&&p.path||"";c2(f,!p||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Ya(),y;if(e){let T=typeof e=="string"?Nl(e):e;qt(m==="/"||((w=T.pathname)==null?void 0:w.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=g;let x=y.pathname||"/",M=x;if(m!=="/"){let T=m.replace(/^\//,"").split("/");M="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=!o&&n&&n.matches&&n.matches.length>0?n.matches:$A(t,{pathname:M});fr(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),fr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=iz(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:kr([m,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:kr([m,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,n,i);return e&&_?W.createElement(rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},_):_}function $B(){let t=lz(),e=qB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:s},n):null,l)}var ez=W.createElement($B,null),tz=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?W.createElement(es.Provider,{value:this.props.routeContext},W.createElement(gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nz({routeContext:t,match:e,children:n}){let i=W.useContext(Ol);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(es.Provider,{value:t},n)}function iz(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let h=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);qt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:p}=n,g=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,f,m)=>{let p,g=!1,y=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||ez,l&&(u<0&&m===0?(c2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):u===m&&(g=!0,x=f.route.hydrateFallbackElement||null)));let M=e.concat(s.slice(0,m+1)),S=()=>{let _;return p?_=y:g?_=x:f.route.Component?_=W.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,W.createElement(nz,{match:f,routeContext:{outlet:h,matches:M,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?W.createElement(tz,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:S(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):S()},null)}function yx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rz(t){let e=W.useContext(Ol);return qt(e,yx(t)),e}function sz(t){let e=W.useContext(Ep);return qt(e,yx(t)),e}function az(t){let e=W.useContext(es);return qt(e,yx(t)),e}function vx(t){let e=az(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function oz(){return vx("useRouteId")}function lz(){var i;let t=W.useContext(gx),e=sz("useRouteError"),n=vx("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function cz(){let{router:t}=rz("useNavigate"),e=vx("useNavigate"),n=W.useRef(!1);return o2(()=>{n.current=!0}),W.useCallback(async(s,o={})=>{fr(n.current,a2),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var _S={};function c2(t,e,n){!e&&!_S[t]&&(_S[t]=!0,fr(!1,n))}W.memo(uz);function uz({routes:t,future:e,state:n}){return l2(t,void 0,n,e)}function tl(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fz({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1}){qt(!sf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=Nl(n));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:g="default"}=n,y=W.useMemo(()=>{let x=Yr(h,l);return x==null?null:{location:{pathname:x,search:f,hash:m,state:p,key:g},navigationType:i}},[l,h,f,m,p,g,i]);return fr(y!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:W.createElement(yr.Provider,{value:u},W.createElement(rf.Provider,{children:e,value:y}))}function hz({children:t,location:e}){return KB(G0(t),e)}function G0(t,e=[]){let n=[];return W.Children.forEach(t,(i,s)=>{if(!W.isValidElement(i))return;let o=[...e,s];if(i.type===W.Fragment){n.push.apply(n,G0(i.props.children,o));return}qt(i.type===tl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=G0(i.props.children,o)),n.push(l)}),n}var Nd="get",Od="application/x-www-form-urlencoded";function Rp(t){return t!=null&&typeof t.tagName=="string"}function dz(t){return Rp(t)&&t.tagName.toLowerCase()==="button"}function pz(t){return Rp(t)&&t.tagName.toLowerCase()==="form"}function mz(t){return Rp(t)&&t.tagName.toLowerCase()==="input"}function gz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yz(t,e){return t.button===0&&(!e||e==="_self")&&!gz(t)}var zh=null;function vz(){if(zh===null)try{new FormData(document.createElement("form"),0),zh=!1}catch{zh=!0}return zh}var xz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xy(t){return t!=null&&!xz.has(t)?(fr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Od}"`),null):t}function bz(t,e){let n,i,s,o,l;if(pz(t)){let u=t.getAttribute("action");i=u?Yr(u,e):null,n=t.getAttribute("method")||Nd,s=xy(t.getAttribute("enctype"))||Od,o=new FormData(t)}else if(dz(t)||mz(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(i=h?Yr(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Nd,s=xy(t.getAttribute("formenctype"))||xy(u.getAttribute("enctype"))||Od,o=new FormData(u,t),!vz()){let{name:f,type:m,value:p}=t;if(m==="image"){let g=f?`${f}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else f&&o.append(f,p)}}else{if(Rp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nd,i=null,s=Od,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:l}}function xx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function _z(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Mz(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await _z(o,n);return l.links?l.links():[]}return[]}));return Az(i.flat(1).filter(wz).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function wS(t,e,n,i,s,o){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,u=(h,f)=>{var m;return n[f].pathname!==h.pathname||((m=n[f].route.path)==null?void 0:m.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?e.filter((h,f)=>{var p;let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Sz(t,e,{includeHydrateFallback:n}={}){return Tz(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Tz(t){return[...new Set(t)]}function Ez(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Az(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(Ez(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rz=new Set([100,101,204,205]);function Cz(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Yr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function u2(){let t=W.useContext(Ol);return xx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Lz(){let t=W.useContext(Ep);return xx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var bx=W.createContext(void 0);bx.displayName="FrameworkContext";function f2(){let t=W.useContext(bx);return xx(t,"You must render this element inside a <HydratedRouter> element"),t}function Dz(t,e){let n=W.useContext(bx),[i,s]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=e,g=W.useRef(null);W.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let M=_=>{_.forEach(w=>{l(w.isIntersecting)})},S=new IntersectionObserver(M,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[t]),W.useEffect(()=>{if(i){let M=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(M)}}},[i]);let y=()=>{s(!0)},x=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:kc(u,y),onBlur:kc(h,x),onMouseEnter:kc(f,y),onMouseLeave:kc(m,x),onTouchStart:kc(p,y)}]:[!1,g,{}]}function kc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Nz({page:t,...e}){let{router:n}=u2(),i=W.useMemo(()=>$A(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?W.createElement(Pz,{page:t,matches:i,...e}):null}function Oz(t){let{manifest:e,routeModules:n}=f2(),[i,s]=W.useState([]);return W.useEffect(()=>{let o=!1;return Mz(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),i}function Pz({page:t,matches:e,...n}){let i=Ya(),{manifest:s,routeModules:o}=f2(),{basename:l}=u2(),{loaderData:u,matches:h}=Lz(),f=W.useMemo(()=>wS(t,e,h,s,i,"data"),[t,e,h,s,i]),m=W.useMemo(()=>wS(t,e,h,s,i,"assets"),[t,e,h,s,i]),p=W.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,M=!1;if(e.forEach(_=>{var T;let w=s.routes[_.route.id];!w||!w.hasLoader||(!f.some(C=>C.route.id===_.route.id)&&_.route.id in u&&((T=o[_.route.id])!=null&&T.shouldRevalidate)||w.hasClientLoader?M=!0:x.add(_.route.id))}),x.size===0)return[];let S=Cz(t,l);return M&&x.size>0&&S.searchParams.set("_routes",e.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[l,u,i,s,f,e,t,o]),g=W.useMemo(()=>Sz(m,s),[m,s]),y=Oz(m);return W.createElement(W.Fragment,null,p.map(x=>W.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>W.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:M})=>W.createElement("link",{key:x,...M})))}function Bz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h2&&(window.__reactRouterVersion="7.6.0")}catch{}function zz({basename:t,children:e,window:n}){let i=W.useRef();i.current==null&&(i.current=MB({window:n,v5Compat:!0}));let s=i.current,[o,l]=W.useState({action:s.action,location:s.location}),u=W.useCallback(h=>{W.startTransition(()=>l(h))},[l]);return W.useLayoutEffect(()=>s.listen(u),[s,u]),W.createElement(fz,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var d2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qd=W.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:p,...g},y){let{basename:x}=W.useContext(yr),M=typeof f=="string"&&d2.test(f),S,_=!1;if(typeof f=="string"&&M&&(S=f,h2))try{let j=new URL(window.location.href),se=f.startsWith("//")?new URL(j.protocol+f):new URL(f),J=Yr(se.pathname,x);se.origin===j.origin&&J!=null?f=J+se.search+se.hash:_=!0}catch{fr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=JB(f,{relative:s}),[T,C,R]=Dz(i,g),E=Hz(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:s,viewTransition:p});function N(j){e&&e(j),j.defaultPrevented||E(j)}let P=W.createElement("a",{...g,...R,href:S||w,onClick:_||o?e:N,ref:Bz(y,C),target:h,"data-discover":!M&&n==="render"?"true":void 0});return T&&!M?W.createElement(W.Fragment,null,P,W.createElement(Nz,{page:w})):P});qd.displayName="Link";var Uz=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:u,children:h,...f},m){let p=af(l,{relative:f.relative}),g=Ya(),y=W.useContext(Ep),{navigator:x,basename:M}=W.useContext(yr),S=y!=null&&Wz(p)&&u===!0,_=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,w=g.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(w=w.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&M&&(T=Yr(T,M)||T);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let R=w===_||!s&&w.startsWith(_)&&w.charAt(C)==="/",E=T!=null&&(T===_||!s&&T.startsWith(_)&&T.charAt(_.length)==="/"),N={isActive:R,isPending:E,isTransitioning:S},P=R?e:void 0,j;typeof i=="function"?j=i(N):j=[i,R?"active":null,E?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let se=typeof o=="function"?o(N):o;return W.createElement(qd,{...f,"aria-current":P,className:j,ref:m,style:se,to:l,viewTransition:u},typeof h=="function"?h(N):h)});Uz.displayName="NavLink";var Fz=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:l=Nd,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:p,...g},y)=>{let x=kz(),M=jz(u,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&d2.test(u),w=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let C=T.nativeEvent.submitter,R=(C==null?void 0:C.getAttribute("formmethod"))||l;x(C||T.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:s,state:o,relative:f,preventScrollReset:m,viewTransition:p})};return W.createElement("form",{ref:y,method:S,action:M,onSubmit:i?h:w,...g,"data-discover":!_&&t==="render"?"true":void 0})});Fz.displayName="Form";function Iz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p2(t){let e=W.useContext(Ol);return qt(e,Iz(t)),e}function Hz(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=Ap(),h=Ya(),f=af(t,{relative:o});return W.useCallback(m=>{if(yz(m,e)){m.preventDefault();let p=n!==void 0?n:wu(h)===wu(f);u(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,f,n,i,e,t,s,o,l])}var Vz=0,Gz=()=>`__${String(++Vz)}__`;function kz(){let{router:t}=p2("useSubmit"),{basename:e}=W.useContext(yr),n=oz();return W.useCallback(async(i,s={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=bz(i,e);if(s.navigate===!1){let m=s.fetcherKey||Gz();await t.fetch(m,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function jz(t,{relative:e}={}){let{basename:n}=W.useContext(yr),i=W.useContext(es);qt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...af(t||".",{relative:e})},l=Ya();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(p=>p).forEach(p=>u.append("index",p));let m=u.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:kr([n,o.pathname])),wu(o)}function Wz(t,e={}){let n=W.useContext(s2);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=p2("useViewTransitionState"),s=af(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Yr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Yr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Wd(s.pathname,l)!=null||Wd(s.pathname,o)!=null}[...Rz];const MS={hidden:{opacity:0,y:-20},visible:(t=1)=>({opacity:1,y:0,transition:{delay:t*.15}})},qz=()=>{const[t,e]=W.useState(!1),n=["Home","Tournaments","Your Matches","Login"];return B.jsxs("header",{className:"fixed w-full z-50 p-4  text-white shadow-md",style:{backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[B.jsxs("div",{className:"flex justify-between items-center max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8",children:[B.jsx(Nt.div,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},transition:{duration:.6},className:"flex items-center",children:B.jsx(Nt.h2,{className:"text-2xl sm:text-3xl font-bold",whileHover:{scale:1.05},children:"GameArena"})}),B.jsxs("button",{className:"md:hidden flex flex-col justify-center items-center focus:outline-none p-2",onClick:()=>e(i=>!i),"aria-label":"Toggle navigation","aria-expanded":t,children:[B.jsx("span",{className:`block w-6 h-0.5 bg-white mb-1.5 transition-all duration-300 ${t?"rotate-45 translate-y-2":""}`}),B.jsx("span",{className:`block w-6 h-0.5 bg-white mb-1.5 transition-all duration-300 ${t?"opacity-0":""}`}),B.jsx("span",{className:`block w-6 h-0.5 bg-white transition-all duration-300 ${t?"-rotate-45 -translate-y-2":""}`})]}),B.jsx("nav",{className:"hidden md:block",children:B.jsx("ul",{className:"flex space-x-4 lg:space-x-6",children:n.map((i,s)=>B.jsx(Nt.li,{custom:s,initial:"hidden",animate:"visible",variants:MS,whileHover:{scale:1.05},children:B.jsxs(qd,{to:i.toLowerCase()==="home"?"/":i.toLowerCase()==="your matches"?"/yourmatches":`/${i.toLowerCase()}`,className:"hover:text-green-500 relative group px-2 py-1 text-sm sm:text-base font-extrabold tracking-wide",style:{fontFamily:"Orbitron, sans-serif",letterSpacing:"0.04em"},children:[i,B.jsx("span",{className:"absolute left-0 -bottom-1 w-0 h-0.5 bg-green-500 transition-all duration-300 group-hover:w-full"})]})},i))})})]}),t&&B.jsx(Nt.nav,{className:"md:hidden bg-black/95 w-full absolute left-0 top-full shadow-lg z-50 border-t border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:B.jsx("ul",{className:"flex flex-col items-center py-4 space-y-2",children:n.map((i,s)=>B.jsx(Nt.li,{custom:s,initial:"hidden",animate:"visible",variants:MS,className:"w-full text-center",children:B.jsx(qd,{to:i.toLowerCase()==="home"?"/":i.toLowerCase()==="your matches"?"/yourmatches":`/${i.toLowerCase()}`,className:"text-lg font-semibold px-4 py-2 block w-full rounded-lg bg-white/5 text-white hover:bg-white hover:text-black transition-all duration-200",style:{fontFamily:"Orbitron, sans-serif"},onClick:()=>e(!1),children:i})},i))})})]})};var k0=new Map,Uh=new WeakMap,SS=0,Xz=void 0;function Yz(t){return t?(Uh.has(t)||(SS+=1,Uh.set(t,SS.toString())),Uh.get(t)):"0"}function Zz(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?Yz(t.root):t[e]}`).toString()}function Jz(t){const e=Zz(t);let n=k0.get(e);if(!n){const i=new Map;let s;const o=new IntersectionObserver(l=>{l.forEach(u=>{var h;const f=u.isIntersecting&&s.some(m=>u.intersectionRatio>=m);t.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=f),(h=i.get(u.target))==null||h.forEach(m=>{m(f,u)})})},t);s=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:o,elements:i},k0.set(e,n)}return n}function Qz(t,e,n={},i=Xz){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const h=t.getBoundingClientRect();return e(i,{isIntersecting:i,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:h,intersectionRect:h,rootBounds:h}),()=>{}}const{id:s,observer:o,elements:l}=Jz(n),u=l.get(t)||[];return l.has(t)||l.set(t,u),u.push(e),o.observe(t),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(t),o.unobserve(t)),l.size===0&&(o.disconnect(),k0.delete(s))}}function Pl({threshold:t,delay:e,trackVisibility:n,rootMargin:i,root:s,triggerOnce:o,skip:l,initialInView:u,fallbackInView:h,onChange:f}={}){var m;const[p,g]=W.useState(null),y=W.useRef(f),[x,M]=W.useState({inView:!!u,entry:void 0});y.current=f,W.useEffect(()=>{if(l||!p)return;let T;return T=Qz(p,(C,R)=>{M({inView:C,entry:R}),y.current&&y.current(C,R),R.isIntersecting&&o&&T&&(T(),T=void 0)},{root:s,rootMargin:i,threshold:t,trackVisibility:n,delay:e},h),()=>{T&&T()}},[Array.isArray(t)?t.toString():t,p,s,i,o,l,n,h,e]);const S=(m=x.entry)==null?void 0:m.target,_=W.useRef(void 0);!p&&S&&!o&&!l&&_.current!==S&&(_.current=S,M({inView:!!u,entry:void 0}));const w=[g,x.inView,x.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}var Fh={exports:{}},by={},TS;function _x(){if(TS)return by;TS=1;function t(e){return e&&e.__esModule?e:{default:e}}return by._=t,by}var _y={},ES;function Kz(){if(ES)return _y;ES=1;function t(n){if(typeof WeakMap!="function")return null;var i=new WeakMap,s=new WeakMap;return(t=function(o){return o?s:i})(n)}function e(n,i){if(!i&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var s=t(i);if(s&&s.has(n))return s.get(n);var o={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in n)if(u!=="default"&&Object.prototype.hasOwnProperty.call(n,u)){var h=l?Object.getOwnPropertyDescriptor(n,u):null;h&&(h.get||h.set)?Object.defineProperty(o,u,h):o[u]=n[u]}return o.default=n,s&&s.set(n,o),o}return _y._=e,_y}var wy={},AS;function $z(){return AS||(AS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});const e=$r(),n=typeof window>"u",i=n?()=>{}:e.useLayoutEffect,s=n?()=>{}:e.useEffect;function o(l){const{headManager:u,reduceComponentsToState:h}=l;function f(){if(u&&u.mountedInstances){const p=e.Children.toArray(Array.from(u.mountedInstances).filter(Boolean));u.updateHead(h(p,l))}}if(n){var m;u==null||(m=u.mountedInstances)==null||m.add(l.children),f()}return i(()=>{var p;return u==null||(p=u.mountedInstances)==null||p.add(l.children),()=>{var g;u==null||(g=u.mountedInstances)==null||g.delete(l.children)}}),i(()=>(u&&(u._pendingUpdate=f),()=>{u&&(u._pendingUpdate=f)})),s(()=>(u&&u._pendingUpdate&&(u._pendingUpdate(),u._pendingUpdate=null),()=>{u&&u._pendingUpdate&&(u._pendingUpdate(),u._pendingUpdate=null)})),null}}(wy)),wy}var My={},RS;function eU(){return RS||(RS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return i}});const i=_x()._($r()).default.createContext({})}(My)),My}var Sy={},CS;function tU(){return CS||(CS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HeadManagerContext",{enumerable:!0,get:function(){return i}});const i=_x()._($r()).default.createContext({})}(Sy)),Sy}var Ty={},LS;function nU(){return LS||(LS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return e}});function e(n){let{ampFirst:i=!1,hybrid:s=!1,hasQuery:o=!1}=n===void 0?{}:n;return i||s&&o}}(Ty)),Ty}var Ey={},DS;function iU(){return DS||(DS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return e}});let e=n=>{}}(Ey)),Ey}var NS;function rU(){return NS||(NS=1,function(t,e){"use client";var n={};Object.defineProperty(e,"__esModule",{value:!0});function i(T,C){for(var R in C)Object.defineProperty(T,R,{enumerable:!0,get:C[R]})}i(e,{default:function(){return w},defaultHead:function(){return g}});const s=_x(),o=Kz(),l=_E(),u=o._($r()),h=s._($z()),f=eU(),m=tU(),p=nU();iU();function g(T){T===void 0&&(T=!1);const C=[(0,l.jsx)("meta",{charSet:"utf-8"},"charset")];return T||C.push((0,l.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),C}function y(T,C){return typeof C=="string"||typeof C=="number"?T:C.type===u.default.Fragment?T.concat(u.default.Children.toArray(C.props.children).reduce((R,E)=>typeof E=="string"||typeof E=="number"?R:R.concat(E),[])):T.concat(C)}const x=["name","httpEquiv","charSet","itemProp"];function M(){const T=new Set,C=new Set,R=new Set,E={};return N=>{let P=!0,j=!1;if(N.key&&typeof N.key!="number"&&N.key.indexOf("$")>0){j=!0;const se=N.key.slice(N.key.indexOf("$")+1);T.has(se)?P=!1:T.add(se)}switch(N.type){case"title":case"base":C.has(N.type)?P=!1:C.add(N.type);break;case"meta":for(let se=0,J=x.length;se<J;se++){const K=x[se];if(N.props.hasOwnProperty(K))if(K==="charSet")R.has(K)?P=!1:R.add(K);else{const ae=N.props[K],Q=E[K]||new Set;(K!=="name"||!j)&&Q.has(ae)?P=!1:(Q.add(ae),E[K]=Q)}}break}return P}}function S(T,C){const{inAmpMode:R}=C;return T.reduce(y,[]).reverse().concat(g(R).reverse()).filter(M()).reverse().map((E,N)=>{const P=E.key||N;if(n.__NEXT_OPTIMIZE_FONTS&&!R&&E.type==="link"&&E.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(j=>E.props.href.startsWith(j))){const j={...E.props||{}};return j["data-href"]=j.href,j.href=void 0,j["data-optimized-fonts"]=!0,u.default.cloneElement(E,j)}return u.default.cloneElement(E,{key:P})})}function _(T){let{children:C}=T;const R=(0,u.useContext)(f.AmpStateContext),E=(0,u.useContext)(m.HeadManagerContext);return(0,l.jsx)(h.default,{reduceComponentsToState:S,headManager:E,inAmpMode:(0,p.isInAmpMode)(R),children:C})}const w=_;(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)}(Fh,Fh.exports)),Fh.exports}var Ay,OS;function sU(){return OS||(OS=1,Ay=rU()),Ay}var aU=sU();const oU=Pv(aU),m2="124",lU={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},cU={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},g2=0,j0=1,y2=2,uU=3,fU=0,wx=1,v2=2,ol=3,Bl=0,cn=1,of=2,Mx=1,hU=2,jr=0,hl=1,W0=2,q0=3,X0=4,x2=5,Ta=100,b2=101,_2=102,Y0=103,Z0=104,w2=200,M2=201,S2=202,T2=203,Sx=204,Tx=205,E2=206,A2=207,R2=208,C2=209,L2=210,D2=0,N2=1,O2=2,Xd=3,P2=4,B2=5,z2=6,U2=7,lf=0,F2=1,I2=2,Oa=0,H2=1,V2=2,G2=3,k2=4,j2=5,Cp=300,cf=301,uf=302,Yd=303,Zd=304,zl=306,ff=307,Mu=1e3,Un=1001,Su=1002,un=1003,Jd=1004,dU=1004,Qd=1005,pU=1005,mn=1006,Ex=1007,mU=1007,Ul=1008,gU=1008,Fl=1009,W2=1010,q2=1011,Tu=1012,X2=1013,cu=1014,Vr=1015,Eu=1016,Y2=1017,Z2=1018,J2=1019,dl=1020,Q2=1021,Us=1022,ui=1023,K2=1024,$2=1025,eR=ui,Pa=1026,yl=1027,tR=1028,nR=1029,iR=1030,rR=1031,sR=1032,aR=1033,J0=33776,Q0=33777,K0=33778,$0=33779,ev=35840,tv=35841,nv=35842,iv=35843,oR=36196,rv=37492,sv=37496,lR=37808,cR=37809,uR=37810,fR=37811,hR=37812,dR=37813,pR=37814,mR=37815,gR=37816,yR=37817,vR=37818,xR=37819,bR=37820,_R=37821,wR=36492,MR=37840,SR=37841,TR=37842,ER=37843,AR=37844,RR=37845,CR=37846,LR=37847,DR=37848,NR=37849,OR=37850,PR=37851,BR=37852,zR=37853,UR=2200,FR=2201,IR=2202,Au=2300,uu=2301,Pd=2302,Ra=2400,Ca=2401,Ru=2402,Lp=2500,Ax=2501,HR=0,yU=1,vU=2,Hn=3e3,hf=3001,Dp=3007,Np=3002,VR=3003,Rx=3004,Cx=3005,Lx=3006,GR=3200,kR=3201,Za=0,jR=1,xU=0,Bd=7680,bU=7681,_U=7682,wU=7683,MU=34055,SU=34056,TU=5386,EU=512,AU=513,RU=514,CU=515,LU=516,DU=517,NU=518,WR=519,df=35044,za=35048,OU=35040,PU=35045,BU=35049,zU=35041,UU=35046,FU=35050,IU=35042,HU="100",av="300 es";function vr(){}Object.assign(vr.prototype,{addEventListener:function(t,e){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)},hasEventListener:function(t,e){if(this._listeners===void 0)return!1;const n=this._listeners;return n[t]!==void 0&&n[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(this._listeners===void 0)return;const i=this._listeners[t];if(i!==void 0){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}},dispatchEvent:function(t){if(this._listeners===void 0)return;const n=this._listeners[t.type];if(n!==void 0){t.target=this;const i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,t)}}});const bn=[];for(let t=0;t<256;t++)bn[t]=(t<16?"0":"")+t.toString(16);let Ih=1234567;const it={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(bn[t&255]+bn[t>>8&255]+bn[t>>16&255]+bn[t>>24&255]+"-"+bn[e&255]+bn[e>>8&255]+"-"+bn[e>>16&15|64]+bn[e>>24&255]+"-"+bn[n&63|128]+bn[n>>8&255]+"-"+bn[n>>16&255]+bn[n>>24&255]+bn[i&255]+bn[i>>8&255]+bn[i>>16&255]+bn[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,s){return i+(t-e)*(s-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return t!==void 0&&(Ih=t%2147483647),Ih=Ih*16807%2147483647,(Ih-1)/2147483646},degToRad:function(t){return t*it.DEG2RAD},radToDeg:function(t){return t*it.RAD2DEG},isPowerOfTwo:function(t){return(t&t-1)===0&&t!==0},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,s){const o=Math.cos,l=Math.sin,u=o(n/2),h=l(n/2),f=o((e+i)/2),m=l((e+i)/2),p=o((e-i)/2),g=l((e-i)/2),y=o((i-e)/2),x=l((i-e)/2);switch(s){case"XYX":t.set(u*m,h*p,h*g,u*f);break;case"YZY":t.set(h*g,u*m,h*p,u*f);break;case"ZXZ":t.set(h*p,h*g,u*m,u*f);break;case"XZX":t.set(u*m,h*x,h*y,u*f);break;case"YXY":t.set(h*y,u*m,h*x,u*f);break;case"ZYZ":t.set(h*x,h*y,u*m,u*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}};class _e{constructor(e=0,n=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6],this.y=s[1]*n+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),s=Math.sin(n),o=this.x-e.x,l=this.y-e.y;return this.x=o*i-l*s+e.x,this.y=o*s+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class In{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,s,o,l,u,h,f){const m=this.elements;return m[0]=e,m[1]=s,m[2]=u,m[3]=n,m[4]=o,m[5]=h,m[6]=i,m[7]=l,m[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return new this.constructor().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,o=this.elements,l=i[0],u=i[3],h=i[6],f=i[1],m=i[4],p=i[7],g=i[2],y=i[5],x=i[8],M=s[0],S=s[3],_=s[6],w=s[1],T=s[4],C=s[7],R=s[2],E=s[5],N=s[8];return o[0]=l*M+u*w+h*R,o[3]=l*S+u*T+h*E,o[6]=l*_+u*C+h*N,o[1]=f*M+m*w+p*R,o[4]=f*S+m*T+p*E,o[7]=f*_+m*C+p*N,o[2]=g*M+y*w+x*R,o[5]=g*S+y*T+x*E,o[8]=g*_+y*C+x*N,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],h=e[6],f=e[7],m=e[8];return n*l*m-n*u*f-i*o*m+i*u*h+s*o*f-s*l*h}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],h=e[6],f=e[7],m=e[8],p=m*l-u*f,g=u*h-m*o,y=f*o-l*h,x=n*p+i*g+s*y;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/x;return e[0]=p*M,e[1]=(s*f-m*i)*M,e[2]=(u*i-s*l)*M,e[3]=g*M,e[4]=(m*n-s*h)*M,e[5]=(s*o-u*n)*M,e[6]=y*M,e[7]=(i*h-f*n)*M,e[8]=(l*n-i*o)*M,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).copy(this).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,s,o,l,u){const h=Math.cos(o),f=Math.sin(o);return this.set(i*h,i*f,-i*(h*l+f*u)+l+e,-s*f,s*h,-s*(-f*l+h*u)+u+n,0,0,1),this}scale(e,n){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(e){const n=Math.cos(e),i=Math.sin(e),s=this.elements,o=s[0],l=s[3],u=s[6],h=s[1],f=s[4],m=s[7];return s[0]=n*o+i*h,s[3]=n*l+i*f,s[6]=n*u+i*m,s[1]=-i*o+n*h,s[4]=-i*l+n*f,s[7]=-i*u+n*m,this}translate(e,n){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<9;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}}let zo;const Ja={getDataURL:function(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{zo===void 0&&(zo=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),zo.width=t.width,zo.height=t.height;const n=zo.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=zo}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let VU=0;function Rt(t=Rt.DEFAULT_IMAGE,e=Rt.DEFAULT_MAPPING,n=Un,i=Un,s=mn,o=Ul,l=ui,u=Fl,h=1,f=Hn){Object.defineProperty(this,"id",{value:VU++}),this.uuid=it.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=u,this.offset=new _e(0,0),this.repeat=new _e(1,1),this.center=new _e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new In,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f,this.version=0,this.onUpdate=null}Rt.DEFAULT_IMAGE=void 0;Rt.DEFAULT_MAPPING=Cp;Rt.prototype=Object.assign(Object.create(vr.prototype),{constructor:Rt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=it.generateUUID()),!e&&t.images[i.uuid]===void 0){let s;if(Array.isArray(i)){s=[];for(let o=0,l=i.length;o<l;o++)i[o].isDataTexture?s.push(Ry(i[o].image)):s.push(Ry(i[o]))}else s=Ry(i);t.images[i.uuid]={uuid:i.uuid,url:s}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==Cp)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Mu:t.x=t.x-Math.floor(t.x);break;case Un:t.x=t.x<0?0:1;break;case Su:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Mu:t.y=t.y-Math.floor(t.y);break;case Un:t.y=t.y<0?0:1;break;case Su:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}});Object.defineProperty(Rt.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});function Ry(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Ja.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class Et{constructor(e=0,n=0,i=0,s=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=n,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,s){return this.x=e,this.y=n,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,o=this.w,l=e.elements;return this.x=l[0]*n+l[4]*i+l[8]*s+l[12]*o,this.y=l[1]*n+l[5]*i+l[9]*s+l[13]*o,this.z=l[2]*n+l[6]*i+l[10]*s+l[14]*o,this.w=l[3]*n+l[7]*i+l[11]*s+l[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,s,o;const h=e.elements,f=h[0],m=h[4],p=h[8],g=h[1],y=h[5],x=h[9],M=h[2],S=h[6],_=h[10];if(Math.abs(m-g)<.01&&Math.abs(p-M)<.01&&Math.abs(x-S)<.01){if(Math.abs(m+g)<.1&&Math.abs(p+M)<.1&&Math.abs(x+S)<.1&&Math.abs(f+y+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const T=(f+1)/2,C=(y+1)/2,R=(_+1)/2,E=(m+g)/4,N=(p+M)/4,P=(x+S)/4;return T>C&&T>R?T<.01?(i=0,s=.707106781,o=.707106781):(i=Math.sqrt(T),s=E/i,o=N/i):C>R?C<.01?(i=.707106781,s=0,o=.707106781):(s=Math.sqrt(C),i=E/s,o=P/s):R<.01?(i=.707106781,s=.707106781,o=0):(o=Math.sqrt(R),i=N/o,s=P/o),this.set(i,s,o,n),this}let w=Math.sqrt((S-x)*(S-x)+(p-M)*(p-M)+(g-m)*(g-m));return Math.abs(w)<.001&&(w=1),this.x=(S-x)/w,this.y=(p-M)/w,this.z=(g-m)/w,this.w=Math.acos((f+y+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function fi(t,e,n){this.width=t,this.height=e,this.scissor=new Et(0,0,t,e),this.scissorTest=!1,this.viewport=new Et(0,0,t,e),n=n||{},this.texture=new Rt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:mn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}fi.prototype=Object.assign(Object.create(vr.prototype),{constructor:fi,isWebGLRenderTarget:!0,setSize:function(t,e){(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function ov(t,e,n){fi.call(this,t,e,n),this.samples=4}ov.prototype=Object.assign(Object.create(fi.prototype),{constructor:ov,isWebGLMultisampleRenderTarget:!0,copy:function(t){return fi.prototype.copy.call(this,t),this.samples=t.samples,this}});class Nn{constructor(e=0,n=0,i=0,s=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=n,this._z=i,this._w=s}static slerp(e,n,i,s){return i.copy(e).slerp(n,s)}static slerpFlat(e,n,i,s,o,l,u){let h=i[s+0],f=i[s+1],m=i[s+2],p=i[s+3];const g=o[l+0],y=o[l+1],x=o[l+2],M=o[l+3];if(p!==M||h!==g||f!==y||m!==x){let S=1-u;const _=h*g+f*y+m*x+p*M,w=_>=0?1:-1,T=1-_*_;if(T>Number.EPSILON){const R=Math.sqrt(T),E=Math.atan2(R,_*w);S=Math.sin(S*E)/R,u=Math.sin(u*E)/R}const C=u*w;if(h=h*S+g*C,f=f*S+y*C,m=m*S+x*C,p=p*S+M*C,S===1-u){const R=1/Math.sqrt(h*h+f*f+m*m+p*p);h*=R,f*=R,m*=R,p*=R}}e[n]=h,e[n+1]=f,e[n+2]=m,e[n+3]=p}static multiplyQuaternionsFlat(e,n,i,s,o,l){const u=i[s],h=i[s+1],f=i[s+2],m=i[s+3],p=o[l],g=o[l+1],y=o[l+2],x=o[l+3];return e[n]=u*x+m*p+h*y-f*g,e[n+1]=h*x+m*g+f*p-u*y,e[n+2]=f*x+m*y+u*g-h*p,e[n+3]=m*x-u*p-h*g-f*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,s){return this._x=e,this._y=n,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,s=e._y,o=e._z,l=e._order,u=Math.cos,h=Math.sin,f=u(i/2),m=u(s/2),p=u(o/2),g=h(i/2),y=h(s/2),x=h(o/2);switch(l){case"XYZ":this._x=g*m*p+f*y*x,this._y=f*y*p-g*m*x,this._z=f*m*x+g*y*p,this._w=f*m*p-g*y*x;break;case"YXZ":this._x=g*m*p+f*y*x,this._y=f*y*p-g*m*x,this._z=f*m*x-g*y*p,this._w=f*m*p+g*y*x;break;case"ZXY":this._x=g*m*p-f*y*x,this._y=f*y*p+g*m*x,this._z=f*m*x+g*y*p,this._w=f*m*p-g*y*x;break;case"ZYX":this._x=g*m*p-f*y*x,this._y=f*y*p+g*m*x,this._z=f*m*x-g*y*p,this._w=f*m*p+g*y*x;break;case"YZX":this._x=g*m*p+f*y*x,this._y=f*y*p+g*m*x,this._z=f*m*x-g*y*p,this._w=f*m*p-g*y*x;break;case"XZY":this._x=g*m*p-f*y*x,this._y=f*y*p-g*m*x,this._z=f*m*x+g*y*p,this._w=f*m*p+g*y*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],s=n[4],o=n[8],l=n[1],u=n[5],h=n[9],f=n[2],m=n[6],p=n[10],g=i+u+p;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(m-h)*y,this._y=(o-f)*y,this._z=(l-s)*y}else if(i>u&&i>p){const y=2*Math.sqrt(1+i-u-p);this._w=(m-h)/y,this._x=.25*y,this._y=(s+l)/y,this._z=(o+f)/y}else if(u>p){const y=2*Math.sqrt(1+u-i-p);this._w=(o-f)/y,this._x=(s+l)/y,this._y=.25*y,this._z=(h+m)/y}else{const y=2*Math.sqrt(1+p-i-u);this._w=(l-s)/y,this._x=(o+f)/y,this._y=(h+m)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let s=e.dot(n)+1;return s<1e-6?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(it.clamp(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,n/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,s=e._y,o=e._z,l=e._w,u=n._x,h=n._y,f=n._z,m=n._w;return this._x=i*m+l*u+s*f-o*h,this._y=s*m+l*h+o*u-i*f,this._z=o*m+l*f+i*h-s*u,this._w=l*m-i*u-s*h-o*f,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,s=this._y,o=this._z,l=this._w;let u=l*e._w+i*e._x+s*e._y+o*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=l,this._x=i,this._y=s,this._z=o,this;const h=1-u*u;if(h<=Number.EPSILON){const y=1-n;return this._w=y*l+n*this._w,this._x=y*i+n*this._x,this._y=y*s+n*this._y,this._z=y*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(h),m=Math.atan2(f,u),p=Math.sin((1-n)*m)/f,g=Math.sin(n*m)/f;return this._w=l*p+this._w*g,this._x=i*p+this._x*g,this._y=s*p+this._y*g,this._z=o*p+this._z*g,this._onChangeCallback(),this}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}class O{constructor(e=0,n=0,i=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(PS.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(PS.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,s=this.z,o=e.elements;return this.x=o[0]*n+o[3]*i+o[6]*s,this.y=o[1]*n+o[4]*i+o[7]*s,this.z=o[2]*n+o[5]*i+o[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,o=e.elements,l=1/(o[3]*n+o[7]*i+o[11]*s+o[15]);return this.x=(o[0]*n+o[4]*i+o[8]*s+o[12])*l,this.y=(o[1]*n+o[5]*i+o[9]*s+o[13])*l,this.z=(o[2]*n+o[6]*i+o[10]*s+o[14])*l,this}applyQuaternion(e){const n=this.x,i=this.y,s=this.z,o=e.x,l=e.y,u=e.z,h=e.w,f=h*n+l*s-u*i,m=h*i+u*n-o*s,p=h*s+o*i-l*n,g=-o*n-l*i-u*s;return this.x=f*h+g*-o+m*-u-p*-l,this.y=m*h+g*-l+p*-o-f*-u,this.z=p*h+g*-u+f*-l-m*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,s=this.z,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*s,this.y=o[1]*n+o[5]*i+o[9]*s,this.z=o[2]*n+o[6]*i+o[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,s=e.y,o=e.z,l=n.x,u=n.y,h=n.z;return this.x=s*h-o*u,this.y=o*l-i*h,this.z=i*u-s*l,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Cy.copy(this).projectOnVector(e),this.sub(Cy)}reflect(e){return this.sub(Cy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(it.clamp(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return n*n+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const s=Math.sin(n)*e;return this.x=s*Math.sin(i),this.y=Math.cos(n)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const Cy=new O,PS=new Nn;class xr{constructor(e,n){Object.defineProperty(this,"isBox3",{value:!0}),this.min=e!==void 0?e:new O(1/0,1/0,1/0),this.max=n!==void 0?n:new O(-1/0,-1/0,-1/0)}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,i=1/0,s=1/0,o=-1/0,l=-1/0,u=-1/0;for(let h=0,f=e.length;h<f;h+=3){const m=e[h],p=e[h+1],g=e[h+2];m<n&&(n=m),p<i&&(i=p),g<s&&(s=g),m>o&&(o=m),p>l&&(l=p),g>u&&(u=g)}return this.min.set(n,i,s),this.max.set(o,l,u),this}setFromBufferAttribute(e){let n=1/0,i=1/0,s=1/0,o=-1/0,l=-1/0,u=-1/0;for(let h=0,f=e.count;h<f;h++){const m=e.getX(h),p=e.getY(h),g=e.getZ(h);m<n&&(n=m),p<i&&(i=p),g<s&&(s=g),m>o&&(o=m),p>l&&(l=p),g>u&&(u=g)}return this.min.set(n,i,s),this.max.set(o,l,u),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=jc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new O),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new O),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const n=e.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),Dy.copy(n.boundingBox),Dy.applyMatrix4(e.matrixWorld),this.union(Dy));const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),n=new O),n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,jc),jc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Wc),Hh.subVectors(this.max,Wc),Uo.subVectors(e.a,Wc),Fo.subVectors(e.b,Wc),Io.subVectors(e.c,Wc),As.subVectors(Fo,Uo),Rs.subVectors(Io,Fo),ma.subVectors(Uo,Io);let n=[0,-As.z,As.y,0,-Rs.z,Rs.y,0,-ma.z,ma.y,As.z,0,-As.x,Rs.z,0,-Rs.x,ma.z,0,-ma.x,-As.y,As.x,0,-Rs.y,Rs.x,0,-ma.y,ma.x,0];return!Ly(n,Uo,Fo,Io,Hh)||(n=[1,0,0,0,1,0,0,0,1],!Ly(n,Uo,Fo,Io,Hh))?!1:(Vh.crossVectors(As,Rs),n=[Vh.x,Vh.y,Vh.z],Ly(n,Uo,Fo,Io,Hh))}clampPoint(e,n){return n===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),n=new O),n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return jc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(jc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(zr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}function Ly(t,e,n,i,s){for(let o=0,l=t.length-3;o<=l;o+=3){ga.fromArray(t,o);const u=s.x*Math.abs(ga.x)+s.y*Math.abs(ga.y)+s.z*Math.abs(ga.z),h=e.dot(ga),f=n.dot(ga),m=i.dot(ga);if(Math.max(-Math.max(h,f,m),Math.min(h,f,m))>u)return!1}return!0}const zr=[new O,new O,new O,new O,new O,new O,new O,new O],jc=new O,Dy=new xr,Uo=new O,Fo=new O,Io=new O,As=new O,Rs=new O,ma=new O,Wc=new O,Hh=new O,Vh=new O,ga=new O,GU=new xr;class ts{constructor(e,n){this.center=e!==void 0?e:new O,this.radius=n!==void 0?n:-1}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):GU.setFromPoints(e).getCenter(i);let s=0;for(let o=0,l=e.length;o<l;o++)s=Math.max(s,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),n=new O),n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new xr),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}}const Ur=new O,Ny=new O,Gh=new O,Cs=new O,Oy=new O,kh=new O,Py=new O;class Il{constructor(e,n){this.origin=e!==void 0?e:new O,this.direction=n!==void 0?n:new O(0,0,-1)}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n===void 0&&(console.warn("THREE.Ray: .at() target is now required"),n=new O),n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ur)),this}closestPointToPoint(e,n){n===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),n=new O),n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ur.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ur.copy(this.direction).multiplyScalar(n).add(this.origin),Ur.distanceToSquared(e))}distanceSqToSegment(e,n,i,s){Ny.copy(e).add(n).multiplyScalar(.5),Gh.copy(n).sub(e).normalize(),Cs.copy(this.origin).sub(Ny);const o=e.distanceTo(n)*.5,l=-this.direction.dot(Gh),u=Cs.dot(this.direction),h=-Cs.dot(Gh),f=Cs.lengthSq(),m=Math.abs(1-l*l);let p,g,y,x;if(m>0)if(p=l*h-u,g=l*u-h,x=o*m,p>=0)if(g>=-x)if(g<=x){const M=1/m;p*=M,g*=M,y=p*(p+l*g+2*u)+g*(l*p+g+2*h)+f}else g=o,p=Math.max(0,-(l*g+u)),y=-p*p+g*(g+2*h)+f;else g=-o,p=Math.max(0,-(l*g+u)),y=-p*p+g*(g+2*h)+f;else g<=-x?(p=Math.max(0,-(-l*o+u)),g=p>0?-o:Math.min(Math.max(-o,-h),o),y=-p*p+g*(g+2*h)+f):g<=x?(p=0,g=Math.min(Math.max(-o,-h),o),y=g*(g+2*h)+f):(p=Math.max(0,-(l*o+u)),g=p>0?o:Math.min(Math.max(-o,-h),o),y=-p*p+g*(g+2*h)+f);else g=l>0?-o:o,p=Math.max(0,-(l*g+u)),y=-p*p+g*(g+2*h)+f;return i&&i.copy(this.direction).multiplyScalar(p).add(this.origin),s&&s.copy(Gh).multiplyScalar(g).add(Ny),y}intersectSphere(e,n){Ur.subVectors(e.center,this.origin);const i=Ur.dot(this.direction),s=Ur.dot(Ur)-i*i,o=e.radius*e.radius;if(s>o)return null;const l=Math.sqrt(o-s),u=i-l,h=i+l;return u<0&&h<0?null:u<0?this.at(h,n):this.at(u,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,s,o,l,u,h;const f=1/this.direction.x,m=1/this.direction.y,p=1/this.direction.z,g=this.origin;return f>=0?(i=(e.min.x-g.x)*f,s=(e.max.x-g.x)*f):(i=(e.max.x-g.x)*f,s=(e.min.x-g.x)*f),m>=0?(o=(e.min.y-g.y)*m,l=(e.max.y-g.y)*m):(o=(e.max.y-g.y)*m,l=(e.min.y-g.y)*m),i>l||o>s||((o>i||i!==i)&&(i=o),(l<s||s!==s)&&(s=l),p>=0?(u=(e.min.z-g.z)*p,h=(e.max.z-g.z)*p):(u=(e.max.z-g.z)*p,h=(e.min.z-g.z)*p),i>h||u>s)||((u>i||i!==i)&&(i=u),(h<s||s!==s)&&(s=h),s<0)?null:this.at(i>=0?i:s,n)}intersectsBox(e){return this.intersectBox(e,Ur)!==null}intersectTriangle(e,n,i,s,o){Oy.subVectors(n,e),kh.subVectors(i,e),Py.crossVectors(Oy,kh);let l=this.direction.dot(Py),u;if(l>0){if(s)return null;u=1}else if(l<0)u=-1,l=-l;else return null;Cs.subVectors(this.origin,e);const h=u*this.direction.dot(kh.crossVectors(Cs,kh));if(h<0)return null;const f=u*this.direction.dot(Oy.cross(Cs));if(f<0||h+f>l)return null;const m=-u*Cs.dot(Py);return m<0?null:this.at(m/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}class lt{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,s,o,l,u,h,f,m,p,g,y,x,M,S){const _=this.elements;return _[0]=e,_[4]=n,_[8]=i,_[12]=s,_[1]=o,_[5]=l,_[9]=u,_[13]=h,_[2]=f,_[6]=m,_[10]=p,_[14]=g,_[3]=y,_[7]=x,_[11]=M,_[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new lt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,s=1/Ho.setFromMatrixColumn(e,0).length(),o=1/Ho.setFromMatrixColumn(e,1).length(),l=1/Ho.setFromMatrixColumn(e,2).length();return n[0]=i[0]*s,n[1]=i[1]*s,n[2]=i[2]*s,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*l,n[9]=i[9]*l,n[10]=i[10]*l,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=e.x,s=e.y,o=e.z,l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),f=Math.sin(s),m=Math.cos(o),p=Math.sin(o);if(e.order==="XYZ"){const g=l*m,y=l*p,x=u*m,M=u*p;n[0]=h*m,n[4]=-h*p,n[8]=f,n[1]=y+x*f,n[5]=g-M*f,n[9]=-u*h,n[2]=M-g*f,n[6]=x+y*f,n[10]=l*h}else if(e.order==="YXZ"){const g=h*m,y=h*p,x=f*m,M=f*p;n[0]=g+M*u,n[4]=x*u-y,n[8]=l*f,n[1]=l*p,n[5]=l*m,n[9]=-u,n[2]=y*u-x,n[6]=M+g*u,n[10]=l*h}else if(e.order==="ZXY"){const g=h*m,y=h*p,x=f*m,M=f*p;n[0]=g-M*u,n[4]=-l*p,n[8]=x+y*u,n[1]=y+x*u,n[5]=l*m,n[9]=M-g*u,n[2]=-l*f,n[6]=u,n[10]=l*h}else if(e.order==="ZYX"){const g=l*m,y=l*p,x=u*m,M=u*p;n[0]=h*m,n[4]=x*f-y,n[8]=g*f+M,n[1]=h*p,n[5]=M*f+g,n[9]=y*f-x,n[2]=-f,n[6]=u*h,n[10]=l*h}else if(e.order==="YZX"){const g=l*h,y=l*f,x=u*h,M=u*f;n[0]=h*m,n[4]=M-g*p,n[8]=x*p+y,n[1]=p,n[5]=l*m,n[9]=-u*m,n[2]=-f*m,n[6]=y*p+x,n[10]=g-M*p}else if(e.order==="XZY"){const g=l*h,y=l*f,x=u*h,M=u*f;n[0]=h*m,n[4]=-p,n[8]=f*m,n[1]=g*p+M,n[5]=l*m,n[9]=y*p-x,n[2]=x*p-y,n[6]=u*m,n[10]=M*p+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(kU,e,jU)}lookAt(e,n,i){const s=this.elements;return ai.subVectors(e,n),ai.lengthSq()===0&&(ai.z=1),ai.normalize(),Ls.crossVectors(i,ai),Ls.lengthSq()===0&&(Math.abs(i.z)===1?ai.x+=1e-4:ai.z+=1e-4,ai.normalize(),Ls.crossVectors(i,ai)),Ls.normalize(),jh.crossVectors(ai,Ls),s[0]=Ls.x,s[4]=jh.x,s[8]=ai.x,s[1]=Ls.y,s[5]=jh.y,s[9]=ai.y,s[2]=Ls.z,s[6]=jh.z,s[10]=ai.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,o=this.elements,l=i[0],u=i[4],h=i[8],f=i[12],m=i[1],p=i[5],g=i[9],y=i[13],x=i[2],M=i[6],S=i[10],_=i[14],w=i[3],T=i[7],C=i[11],R=i[15],E=s[0],N=s[4],P=s[8],j=s[12],se=s[1],J=s[5],K=s[9],ae=s[13],Q=s[2],X=s[6],H=s[10],z=s[14],k=s[3],Y=s[7],D=s[11],V=s[15];return o[0]=l*E+u*se+h*Q+f*k,o[4]=l*N+u*J+h*X+f*Y,o[8]=l*P+u*K+h*H+f*D,o[12]=l*j+u*ae+h*z+f*V,o[1]=m*E+p*se+g*Q+y*k,o[5]=m*N+p*J+g*X+y*Y,o[9]=m*P+p*K+g*H+y*D,o[13]=m*j+p*ae+g*z+y*V,o[2]=x*E+M*se+S*Q+_*k,o[6]=x*N+M*J+S*X+_*Y,o[10]=x*P+M*K+S*H+_*D,o[14]=x*j+M*ae+S*z+_*V,o[3]=w*E+T*se+C*Q+R*k,o[7]=w*N+T*J+C*X+R*Y,o[11]=w*P+T*K+C*H+R*D,o[15]=w*j+T*ae+C*z+R*V,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],s=e[8],o=e[12],l=e[1],u=e[5],h=e[9],f=e[13],m=e[2],p=e[6],g=e[10],y=e[14],x=e[3],M=e[7],S=e[11],_=e[15];return x*(+o*h*p-s*f*p-o*u*g+i*f*g+s*u*y-i*h*y)+M*(+n*h*y-n*f*g+o*l*g-s*l*y+s*f*m-o*h*m)+S*(+n*f*p-n*u*y-o*l*p+i*l*y+o*u*m-i*f*m)+_*(-s*u*m-n*h*p+n*u*g+s*l*p-i*l*g+i*h*m)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],h=e[6],f=e[7],m=e[8],p=e[9],g=e[10],y=e[11],x=e[12],M=e[13],S=e[14],_=e[15],w=p*S*f-M*g*f+M*h*y-u*S*y-p*h*_+u*g*_,T=x*g*f-m*S*f-x*h*y+l*S*y+m*h*_-l*g*_,C=m*M*f-x*p*f+x*u*y-l*M*y-m*u*_+l*p*_,R=x*p*h-m*M*h-x*u*g+l*M*g+m*u*S-l*p*S,E=n*w+i*T+s*C+o*R;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/E;return e[0]=w*N,e[1]=(M*g*o-p*S*o-M*s*y+i*S*y+p*s*_-i*g*_)*N,e[2]=(u*S*o-M*h*o+M*s*f-i*S*f-u*s*_+i*h*_)*N,e[3]=(p*h*o-u*g*o-p*s*f+i*g*f+u*s*y-i*h*y)*N,e[4]=T*N,e[5]=(m*S*o-x*g*o+x*s*y-n*S*y-m*s*_+n*g*_)*N,e[6]=(x*h*o-l*S*o-x*s*f+n*S*f+l*s*_-n*h*_)*N,e[7]=(l*g*o-m*h*o+m*s*f-n*g*f-l*s*y+n*h*y)*N,e[8]=C*N,e[9]=(x*p*o-m*M*o-x*i*y+n*M*y+m*i*_-n*p*_)*N,e[10]=(l*M*o-x*u*o+x*i*f-n*M*f-l*i*_+n*u*_)*N,e[11]=(m*u*o-l*p*o-m*i*f+n*p*f+l*i*y-n*u*y)*N,e[12]=R*N,e[13]=(m*M*s-x*p*s+x*i*g-n*M*g-m*i*S+n*p*S)*N,e[14]=(x*u*s-l*M*s-x*i*h+n*M*h+l*i*S-n*u*S)*N,e[15]=(l*p*s-m*u*s+m*i*h-n*p*h-l*i*g+n*u*g)*N,this}scale(e){const n=this.elements,i=e.x,s=e.y,o=e.z;return n[0]*=i,n[4]*=s,n[8]*=o,n[1]*=i,n[5]*=s,n[9]*=o,n[2]*=i,n[6]*=s,n[10]*=o,n[3]*=i,n[7]*=s,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,s))}makeTranslation(e,n,i){return this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),s=Math.sin(n),o=1-i,l=e.x,u=e.y,h=e.z,f=o*l,m=o*u;return this.set(f*l+i,f*u-s*h,f*h+s*u,0,f*u+s*h,m*u+i,m*h-s*l,0,f*h-s*u,m*h+s*l,o*h*h+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i){return this.set(1,n,i,0,e,1,i,0,e,n,1,0,0,0,0,1),this}compose(e,n,i){const s=this.elements,o=n._x,l=n._y,u=n._z,h=n._w,f=o+o,m=l+l,p=u+u,g=o*f,y=o*m,x=o*p,M=l*m,S=l*p,_=u*p,w=h*f,T=h*m,C=h*p,R=i.x,E=i.y,N=i.z;return s[0]=(1-(M+_))*R,s[1]=(y+C)*R,s[2]=(x-T)*R,s[3]=0,s[4]=(y-C)*E,s[5]=(1-(g+_))*E,s[6]=(S+w)*E,s[7]=0,s[8]=(x+T)*N,s[9]=(S-w)*N,s[10]=(1-(g+M))*N,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,i){const s=this.elements;let o=Ho.set(s[0],s[1],s[2]).length();const l=Ho.set(s[4],s[5],s[6]).length(),u=Ho.set(s[8],s[9],s[10]).length();this.determinant()<0&&(o=-o),e.x=s[12],e.y=s[13],e.z=s[14],Ui.copy(this);const f=1/o,m=1/l,p=1/u;return Ui.elements[0]*=f,Ui.elements[1]*=f,Ui.elements[2]*=f,Ui.elements[4]*=m,Ui.elements[5]*=m,Ui.elements[6]*=m,Ui.elements[8]*=p,Ui.elements[9]*=p,Ui.elements[10]*=p,n.setFromRotationMatrix(Ui),i.x=o,i.y=l,i.z=u,this}makePerspective(e,n,i,s,o,l){l===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const u=this.elements,h=2*o/(n-e),f=2*o/(i-s),m=(n+e)/(n-e),p=(i+s)/(i-s),g=-(l+o)/(l-o),y=-2*l*o/(l-o);return u[0]=h,u[4]=0,u[8]=m,u[12]=0,u[1]=0,u[5]=f,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=g,u[14]=y,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,i,s,o,l){const u=this.elements,h=1/(n-e),f=1/(i-s),m=1/(l-o),p=(n+e)*h,g=(i+s)*f,y=(l+o)*m;return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-p,u[1]=0,u[5]=2*f,u[9]=0,u[13]=-g,u[2]=0,u[6]=0,u[10]=-2*m,u[14]=-y,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<16;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Ho=new O,Ui=new lt,kU=new O(0,0,0),jU=new O(1,1,1),Ls=new O,jh=new O,ai=new O;class Hl{constructor(e=0,n=0,i=0,s=Hl.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=n,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,s){return this._x=e,this._y=n,this._z=i,this._order=s||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n,i){const s=it.clamp,o=e.elements,l=o[0],u=o[4],h=o[8],f=o[1],m=o[5],p=o[9],g=o[2],y=o[6],x=o[10];switch(n=n||this._order,n){case"XYZ":this._y=Math.asin(s(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-p,x),this._z=Math.atan2(-u,l)):(this._x=Math.atan2(y,m),this._z=0);break;case"YXZ":this._x=Math.asin(-s(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(h,x),this._z=Math.atan2(f,m)):(this._y=Math.atan2(-g,l),this._z=0);break;case"ZXY":this._x=Math.asin(s(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,x),this._z=Math.atan2(-u,m)):(this._y=0,this._z=Math.atan2(f,l));break;case"ZYX":this._y=Math.asin(-s(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,x),this._z=Math.atan2(f,l)):(this._x=0,this._z=Math.atan2(-u,m));break;case"YZX":this._z=Math.asin(s(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-p,m),this._y=Math.atan2(-g,l)):(this._x=0,this._y=Math.atan2(h,x));break;case"XZY":this._z=Math.asin(-s(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(y,m),this._y=Math.atan2(h,l)):(this._x=Math.atan2(-p,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i!==!1&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return BS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(BS,n,i)}setFromVector3(e,n){return this.set(e.x,e.y,e.z,n||this._order)}reorder(e){return zS.setFromEuler(this),this.setFromQuaternion(zS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new O(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Hl.DefaultOrder="XYZ";Hl.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const BS=new lt,zS=new Nn;class Dx{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}}let WU=0;const US=new O,Vo=new Nn,Fr=new lt,Wh=new O,qc=new O,qU=new O,XU=new Nn,FS=new O(1,0,0),IS=new O(0,1,0),HS=new O(0,0,1),YU={type:"added"},VS={type:"removed"};function Ge(){Object.defineProperty(this,"id",{value:WU++}),this.uuid=it.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ge.DefaultUp.clone();const t=new O,e=new Hl,n=new Nn,i=new O(1,1,1);function s(){n.setFromEuler(e,!1)}function o(){e.setFromQuaternion(n,void 0,!1)}e._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new lt},normalMatrix:{value:new In}}),this.matrix=new lt,this.matrixWorld=new lt,this.matrixAutoUpdate=Ge.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Dx,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Ge.DefaultUp=new O(0,1,0);Ge.DefaultMatrixAutoUpdate=!0;Ge.prototype=Object.assign(Object.create(vr.prototype),{constructor:Ge,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return Vo.setFromAxisAngle(t,e),this.quaternion.multiply(Vo),this},rotateOnWorldAxis:function(t,e){return Vo.setFromAxisAngle(t,e),this.quaternion.premultiply(Vo),this},rotateX:function(t){return this.rotateOnAxis(FS,t)},rotateY:function(t){return this.rotateOnAxis(IS,t)},rotateZ:function(t){return this.rotateOnAxis(HS,t)},translateOnAxis:function(t,e){return US.copy(t).applyQuaternion(this.quaternion),this.position.add(US.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(FS,t)},translateY:function(t){return this.translateOnAxis(IS,t)},translateZ:function(t){return this.translateOnAxis(HS,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Fr.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?Wh.copy(t):Wh.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),qc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fr.lookAt(qc,Wh,this.up):Fr.lookAt(Wh,qc,this.up),this.quaternion.setFromRotationMatrix(Fr),i&&(Fr.extractRotation(i.matrixWorld),Vo.setFromRotationMatrix(Fr),this.quaternion.premultiply(Vo.invert()))},add:function(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(YU)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(VS)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(VS)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),Fr.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Fr.multiply(t.parent.matrixWorld)),t.applyMatrix4(Fr),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(t,e);if(o!==void 0)return o}},getWorldPosition:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new O),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new Nn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qc,t,qU),t},getWorldScale:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new O),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qc,XU,t),t},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new O),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(this.visible===!1)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const n=this.parent;if(t===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=t===void 0||typeof t=="string",n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function s(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(t)),u.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(t.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let h=0,f=u.length;h<f;h++){const m=u[h];s(t.shapes,m)}else s(t.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,h=this.material.length;u<h;u++)l.push(s(t.materials,this.material[u]));i.material=l}else i.material=s(t.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];i.animations.push(s(t.animations,u))}}if(e){const l=o(t.geometries),u=o(t.materials),h=o(t.textures),f=o(t.images),m=o(t.shapes),p=o(t.skeletons),g=o(t.animations);l.length>0&&(n.geometries=l),u.length>0&&(n.materials=u),h.length>0&&(n.textures=h),f.length>0&&(n.images=f),m.length>0&&(n.shapes=m),p.length>0&&(n.skeletons=p),g.length>0&&(n.animations=g)}return n.object=i,n;function o(l){const u=[];for(const h in l){const f=l[h];delete f.metadata,u.push(f)}return u}},clone:function(t){return new this.constructor().copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let n=0;n<t.children.length;n++){const i=t.children[n];this.add(i.clone())}return this}});const By=new O,ZU=new O,JU=new In;class ar{constructor(e,n){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=e!==void 0?e:new O(1,0,0),this.constant=n!==void 0?n:0}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,s){return this.normal.set(e,n,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const s=By.subVectors(i,n).cross(ZU.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}clone(){return new this.constructor().copy(this)}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),n=new O),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){n===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new O);const i=e.delta(By),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):void 0;const o=-(e.start.dot(this.normal)+this.constant)/s;if(!(o<0||o>1))return n.copy(i).multiplyScalar(o).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new O),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||JU.getNormalMatrix(e),s=this.coplanarPoint(By).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}const Fi=new O,Ir=new O,zy=new O,Hr=new O,Go=new O,ko=new O,GS=new O,Uy=new O,Fy=new O,Iy=new O;class wn{constructor(e,n,i){this.a=e!==void 0?e:new O,this.b=n!==void 0?n:new O,this.c=i!==void 0?i:new O}static getNormal(e,n,i,s){s===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),s=new O),s.subVectors(i,n),Fi.subVectors(e,n),s.cross(Fi);const o=s.lengthSq();return o>0?s.multiplyScalar(1/Math.sqrt(o)):s.set(0,0,0)}static getBarycoord(e,n,i,s,o){Fi.subVectors(s,n),Ir.subVectors(i,n),zy.subVectors(e,n);const l=Fi.dot(Fi),u=Fi.dot(Ir),h=Fi.dot(zy),f=Ir.dot(Ir),m=Ir.dot(zy),p=l*f-u*u;if(o===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),o=new O),p===0)return o.set(-2,-1,-1);const g=1/p,y=(f*h-u*m)*g,x=(l*m-u*h)*g;return o.set(1-y-x,x,y)}static containsPoint(e,n,i,s){return this.getBarycoord(e,n,i,s,Hr),Hr.x>=0&&Hr.y>=0&&Hr.x+Hr.y<=1}static getUV(e,n,i,s,o,l,u,h){return this.getBarycoord(e,n,i,s,Hr),h.set(0,0),h.addScaledVector(o,Hr.x),h.addScaledVector(l,Hr.y),h.addScaledVector(u,Hr.z),h}static isFrontFacing(e,n,i,s){return Fi.subVectors(i,n),Ir.subVectors(e,n),Fi.cross(Ir).dot(s)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,s){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[s]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Fi.subVectors(this.c,this.b),Ir.subVectors(this.a,this.b),Fi.cross(Ir).length()*.5}getMidpoint(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new O),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return wn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new ar),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return wn.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,s,o){return wn.getUV(e,this.a,this.b,this.c,n,i,s,o)}containsPoint(e){return wn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return wn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){n===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),n=new O);const i=this.a,s=this.b,o=this.c;let l,u;Go.subVectors(s,i),ko.subVectors(o,i),Uy.subVectors(e,i);const h=Go.dot(Uy),f=ko.dot(Uy);if(h<=0&&f<=0)return n.copy(i);Fy.subVectors(e,s);const m=Go.dot(Fy),p=ko.dot(Fy);if(m>=0&&p<=m)return n.copy(s);const g=h*p-m*f;if(g<=0&&h>=0&&m<=0)return l=h/(h-m),n.copy(i).addScaledVector(Go,l);Iy.subVectors(e,o);const y=Go.dot(Iy),x=ko.dot(Iy);if(x>=0&&y<=x)return n.copy(o);const M=y*f-h*x;if(M<=0&&f>=0&&x<=0)return u=f/(f-x),n.copy(i).addScaledVector(ko,u);const S=m*x-y*p;if(S<=0&&p-m>=0&&y-x>=0)return GS.subVectors(o,s),u=(p-m)/(p-m+(y-x)),n.copy(s).addScaledVector(GS,u);const _=1/(S+M+g);return l=M*_,u=g*_,n.copy(i).addScaledVector(Go,l).addScaledVector(ko,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const qR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ii={h:0,s:0,l:0},qh={h:0,s:0,l:0};function Hy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function Vy(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Gy(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}class Ue{constructor(e,n,i){return Object.defineProperty(this,"isColor",{value:!0}),n===void 0&&i===void 0?this.set(e):this.setRGB(e,n,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,n,i){return this.r=e,this.g=n,this.b=i,this}setHSL(e,n,i){if(e=it.euclideanModulo(e,1),n=it.clamp(n,0,1),i=it.clamp(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=Hy(o,s,e+1/3),this.g=Hy(o,s,e),this.b=Hy(o,s,e-1/3)}return this}setStyle(e){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let s;const o=i[1],l=i[2];switch(o){case"rgb":case"rgba":if(s=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,n(s[4]),this;if(s=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,n(s[4]),this;break;case"hsl":case"hsla":if(s=/^(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const u=parseFloat(s[1])/360,h=parseInt(s[2],10)/100,f=parseInt(s[3],10)/100;return n(s[4]),this.setHSL(u,h,f)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const n=qR[e];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,n=2){return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}copyLinearToGamma(e,n=2){const i=n>0?1/n:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Vy(e.r),this.g=Vy(e.g),this.b=Vy(e.b),this}copyLinearToSRGB(e){return this.r=Gy(e.r),this.g=Gy(e.g),this.b=Gy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const n=this.r,i=this.g,s=this.b,o=Math.max(n,i,s),l=Math.min(n,i,s);let u,h;const f=(l+o)/2;if(l===o)u=0,h=0;else{const m=o-l;switch(h=f<=.5?m/(o+l):m/(2-o-l),o){case n:u=(i-s)/m+(i<s?6:0);break;case i:u=(s-n)/m+2;break;case s:u=(n-i)/m+4;break}u/=6}return e.h=u,e.s=h,e.l=f,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,n,i){return this.getHSL(Ii),Ii.h+=e,Ii.s+=n,Ii.l+=i,this.setHSL(Ii.h,Ii.s,Ii.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpHSL(e,n){this.getHSL(Ii),e.getHSL(qh);const i=it.lerp(Ii.h,qh.h,n),s=it.lerp(Ii.s,qh.s,n),o=it.lerp(Ii.l,qh.l,n);return this.setHSL(i,s,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ue.NAMES=qR;Ue.prototype.r=1;Ue.prototype.g=1;Ue.prototype.b=1;class Cu{constructor(e,n,i,s,o,l=0){this.a=e,this.b=n,this.c=i,this.normal=s&&s.isVector3?s:new O,this.vertexNormals=Array.isArray(s)?s:[],this.color=o&&o.isColor?o:new Ue,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=l}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let n=0,i=e.vertexNormals.length;n<i;n++)this.vertexNormals[n]=e.vertexNormals[n].clone();for(let n=0,i=e.vertexColors.length;n<i;n++)this.vertexColors[n]=e.vertexColors[n].clone();return this}}let QU=0;function $e(){Object.defineProperty(this,"id",{value:QU++}),this.uuid=it.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=hl,this.side=Bl,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Sx,this.blendDst=Tx,this.blendEquation=Ta,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Xd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=WR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Bd,this.stencilZFail=Bd,this.stencilZPass=Bd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}$e.prototype=Object.assign(Object.create(vr.prototype),{constructor:$e,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(t!==void 0)for(const e in t){const n=t[e];if(n===void 0){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if(e==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Mx;continue}const i=this[e];if(i===void 0){console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n}},toJSON:function(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==hl&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==Bl&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(s){const o=[];for(const l in s){const u=s[l];delete u.metadata,o.push(u)}return o}if(e){const s=i(t.textures),o=i(t.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(e!==null){const i=e.length;n=new Array(i);for(let s=0;s!==i;++s)n[s]=e[s].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty($e.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});function Ci(t){$e.call(this),this.type="MeshBasicMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}Ci.prototype=Object.create($e.prototype);Ci.prototype.constructor=Ci;Ci.prototype.isMeshBasicMaterial=!0;Ci.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const Dt=new O,Xh=new _e;function Xe(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=n===!0,this.usage=df,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Xe.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});Object.assign(Xe.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let n=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Ue),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyVector2sArray:function(t){const e=this.array;let n=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new _e),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){const e=this.array;let n=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new O),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){const e=this.array;let n=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Et),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},applyMatrix3:function(t){if(this.itemSize===2)for(let e=0,n=this.count;e<n;e++)Xh.fromBufferAttribute(this,e),Xh.applyMatrix3(t),this.setXY(e,Xh.x,Xh.y);else if(this.itemSize===3)for(let e=0,n=this.count;e<n;e++)Dt.fromBufferAttribute(this,e),Dt.applyMatrix3(t),this.setXYZ(e,Dt.x,Dt.y,Dt.z);return this},applyMatrix4:function(t){for(let e=0,n=this.count;e<n;e++)Dt.x=this.getX(e),Dt.y=this.getY(e),Dt.z=this.getZ(e),Dt.applyMatrix4(t),this.setXYZ(e,Dt.x,Dt.y,Dt.z);return this},applyNormalMatrix:function(t){for(let e=0,n=this.count;e<n;e++)Dt.x=this.getX(e),Dt.y=this.getY(e),Dt.z=this.getZ(e),Dt.applyNormalMatrix(t),this.setXYZ(e,Dt.x,Dt.y,Dt.z);return this},transformDirection:function(t){for(let e=0,n=this.count;e<n;e++)Dt.x=this.getX(e),Dt.y=this.getY(e),Dt.z=this.getZ(e),Dt.transformDirection(t),this.setXYZ(e,Dt.x,Dt.y,Dt.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,s){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=s,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Lu(t,e,n){Xe.call(this,new Int8Array(t),e,n)}Lu.prototype=Object.create(Xe.prototype);Lu.prototype.constructor=Lu;function Du(t,e,n){Xe.call(this,new Uint8Array(t),e,n)}Du.prototype=Object.create(Xe.prototype);Du.prototype.constructor=Du;function Nu(t,e,n){Xe.call(this,new Uint8ClampedArray(t),e,n)}Nu.prototype=Object.create(Xe.prototype);Nu.prototype.constructor=Nu;function Ou(t,e,n){Xe.call(this,new Int16Array(t),e,n)}Ou.prototype=Object.create(Xe.prototype);Ou.prototype.constructor=Ou;function Ua(t,e,n){Xe.call(this,new Uint16Array(t),e,n)}Ua.prototype=Object.create(Xe.prototype);Ua.prototype.constructor=Ua;function Pu(t,e,n){Xe.call(this,new Int32Array(t),e,n)}Pu.prototype=Object.create(Xe.prototype);Pu.prototype.constructor=Pu;function Fa(t,e,n){Xe.call(this,new Uint32Array(t),e,n)}Fa.prototype=Object.create(Xe.prototype);Fa.prototype.constructor=Fa;function Bu(t,e,n){Xe.call(this,new Uint16Array(t),e,n)}Bu.prototype=Object.create(Xe.prototype);Bu.prototype.constructor=Bu;Bu.prototype.isFloat16BufferAttribute=!0;function ze(t,e,n){Xe.call(this,new Float32Array(t),e,n)}ze.prototype=Object.create(Xe.prototype);ze.prototype.constructor=ze;function zu(t,e,n){Xe.call(this,new Float64Array(t),e,n)}zu.prototype=Object.create(Xe.prototype);zu.prototype.constructor=zu;class KU{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){const n=[];let i,s,o;const l=e.faces;for(s=0;s<l.length;s++){const u=l[s];u.materialIndex!==o&&(o=u.materialIndex,i!==void 0&&(i.count=s*3-i.start,n.push(i)),i={start:s*3,materialIndex:o})}i!==void 0&&(i.count=s*3-i.start,n.push(i)),this.groups=n}fromGeometry(e){const n=e.faces,i=e.vertices,s=e.faceVertexUvs,o=s[0]&&s[0].length>0,l=s[1]&&s[1].length>0,u=e.morphTargets,h=u.length;let f;if(h>0){f=[];for(let _=0;_<h;_++)f[_]={name:u[_].name,data:[]};this.morphTargets.position=f}const m=e.morphNormals,p=m.length;let g;if(p>0){g=[];for(let _=0;_<p;_++)g[_]={name:m[_].name,data:[]};this.morphTargets.normal=g}const y=e.skinIndices,x=e.skinWeights,M=y.length===i.length,S=x.length===i.length;i.length>0&&n.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let _=0;_<n.length;_++){const w=n[_];this.vertices.push(i[w.a],i[w.b],i[w.c]);const T=w.vertexNormals;if(T.length===3)this.normals.push(T[0],T[1],T[2]);else{const R=w.normal;this.normals.push(R,R,R)}const C=w.vertexColors;if(C.length===3)this.colors.push(C[0],C[1],C[2]);else{const R=w.color;this.colors.push(R,R,R)}if(o===!0){const R=s[0][_];R!==void 0?this.uvs.push(R[0],R[1],R[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",_),this.uvs.push(new _e,new _e,new _e))}if(l===!0){const R=s[1][_];R!==void 0?this.uvs2.push(R[0],R[1],R[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",_),this.uvs2.push(new _e,new _e,new _e))}for(let R=0;R<h;R++){const E=u[R].vertices;f[R].data.push(E[w.a],E[w.b],E[w.c])}for(let R=0;R<p;R++){const E=m[R].vertexNormals[_];g[R].data.push(E.a,E.b,E.c)}M&&this.skinIndices.push(y[w.a],y[w.b],y[w.c]),S&&this.skinWeights.push(x[w.a],x[w.b],x[w.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}}function XR(t){if(t.length===0)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}const $U={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function nu(t,e){return new $U[t](e)}let e5=1;const nr=new lt,ky=new Ge,jo=new O,oi=new xr,Xc=new xr,pn=new O;function qe(){Object.defineProperty(this,"id",{value:e5+=2}),this.uuid=it.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}qe.prototype=Object.assign(Object.create(vr.prototype),{constructor:qe,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(XR(t)>65535?Fa:Ua)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return this.attributes[t]!==void 0},addGroup:function(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new In().getNormalMatrix(t);n.applyNormalMatrix(s),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(t),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(t){return nr.makeRotationX(t),this.applyMatrix4(nr),this},rotateY:function(t){return nr.makeRotationY(t),this.applyMatrix4(nr),this},rotateZ:function(t){return nr.makeRotationZ(t),this.applyMatrix4(nr),this},translate:function(t,e,n){return nr.makeTranslation(t,e,n),this.applyMatrix4(nr),this},scale:function(t,e,n){return nr.makeScale(t,e,n),this.applyMatrix4(nr),this},lookAt:function(t){return ky.lookAt(t),ky.updateMatrix(),this.applyMatrix4(ky.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(jo).negate(),this.translate(jo.x,jo.y,jo.z),this},setFromObject:function(t){const e=t.geometry;if(t.isPoints||t.isLine){const n=new ze(e.vertices.length*3,3),i=new ze(e.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(e.vertices)),this.setAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){const s=new ze(e.lineDistances.length,1);this.setAttribute("lineDistance",s.copyArray(e.lineDistances))}e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const s=t[n];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ze(e,3)),this},updateFromObject:function(t){let e=t.geometry;if(t.isMesh){let n=e.__directGeometry;if(e.elementsNeedUpdate===!0&&(n=void 0,e.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}if(e.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(e.vertices),n.needsUpdate=!0),e.verticesNeedUpdate=!1}if(e.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(e.normals),n.needsUpdate=!0),e.normalsNeedUpdate=!1}if(e.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(e.colors),n.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(e.uvs),n.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(e.lineDistances),n.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=new KU().fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){const e=new Float32Array(t.vertices.length*3);if(this.setAttribute("position",new Xe(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){const n=new Float32Array(t.normals.length*3);this.setAttribute("normal",new Xe(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){const n=new Float32Array(t.colors.length*3);this.setAttribute("color",new Xe(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){const n=new Float32Array(t.uvs.length*2);this.setAttribute("uv",new Xe(n,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){const n=new Float32Array(t.uvs2.length*2);this.setAttribute("uv2",new Xe(n,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(const n in t.morphTargets){const i=[],s=t.morphTargets[n];for(let o=0,l=s.length;o<l;o++){const u=s[o],h=new ze(u.data.length*3,3);h.name=u.name,i.push(h.copyVector3sArray(u.data))}this.morphAttributes[n]=i}if(t.skinIndices.length>0){const n=new ze(t.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){const n=new ze(t.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(t.skinWeights))}return t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new xr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new O(-1/0,-1/0,-1/0),new O(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,i=e.length;n<i;n++){const s=e[n];oi.setFromBufferAttribute(s),this.morphTargetsRelative?(pn.addVectors(this.boundingBox.min,oi.min),this.boundingBox.expandByPoint(pn),pn.addVectors(this.boundingBox.max,oi.max),this.boundingBox.expandByPoint(pn)):(this.boundingBox.expandByPoint(oi.min),this.boundingBox.expandByPoint(oi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ts);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new O,1/0);return}if(t){const n=this.boundingSphere.center;if(oi.setFromBufferAttribute(t),e)for(let s=0,o=e.length;s<o;s++){const l=e[s];Xc.setFromBufferAttribute(l),this.morphTargetsRelative?(pn.addVectors(oi.min,Xc.min),oi.expandByPoint(pn),pn.addVectors(oi.max,Xc.max),oi.expandByPoint(pn)):(oi.expandByPoint(Xc.min),oi.expandByPoint(Xc.max))}oi.getCenter(n);let i=0;for(let s=0,o=t.count;s<o;s++)pn.fromBufferAttribute(t,s),i=Math.max(i,n.distanceToSquared(pn));if(e)for(let s=0,o=e.length;s<o;s++){const l=e[s],u=this.morphTargetsRelative;for(let h=0,f=l.count;h<f;h++)pn.fromBufferAttribute(l,h),u&&(jo.fromBufferAttribute(t,h),pn.add(jo)),i=Math.max(i,n.distanceToSquared(pn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Xe(new Float32Array(e.count*3),3),this.setAttribute("normal",n);else for(let p=0,g=n.count;p<g;p++)n.setXYZ(p,0,0,0);const i=new O,s=new O,o=new O,l=new O,u=new O,h=new O,f=new O,m=new O;if(t)for(let p=0,g=t.count;p<g;p+=3){const y=t.getX(p+0),x=t.getX(p+1),M=t.getX(p+2);i.fromBufferAttribute(e,y),s.fromBufferAttribute(e,x),o.fromBufferAttribute(e,M),f.subVectors(o,s),m.subVectors(i,s),f.cross(m),l.fromBufferAttribute(n,y),u.fromBufferAttribute(n,x),h.fromBufferAttribute(n,M),l.add(f),u.add(f),h.add(f),n.setXYZ(y,l.x,l.y,l.z),n.setXYZ(x,u.x,u.y,u.z),n.setXYZ(M,h.x,h.y,h.z)}else for(let p=0,g=e.count;p<g;p+=3)i.fromBufferAttribute(e,p+0),s.fromBufferAttribute(e,p+1),o.fromBufferAttribute(e,p+2),f.subVectors(o,s),m.subVectors(i,s),f.cross(m),n.setXYZ(p+0,f.x,f.y,f.z),n.setXYZ(p+1,f.x,f.y,f.z),n.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(!(t&&t.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);return}e===void 0&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(t.attributes[i]===void 0)continue;const o=n[i].array,l=t.attributes[i],u=l.array,h=l.itemSize*e,f=Math.min(u.length,o.length-h);for(let m=0,p=h;m<f;m++,p++)o[p]=u[m]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)pn.fromBufferAttribute(t,e),pn.normalize(),t.setXYZ(e,pn.x,pn.y,pn.z)},toNonIndexed:function(){function t(l,u){const h=l.array,f=l.itemSize,m=l.normalized,p=new h.constructor(u.length*f);let g=0,y=0;for(let x=0,M=u.length;x<M;x++){g=u[x]*f;for(let S=0;S<f;S++)p[y++]=h[g++]}return new Xe(p,f,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const e=new qe,n=this.index.array,i=this.attributes;for(const l in i){const u=i[l],h=t(u,n);e.setAttribute(l,h)}const s=this.morphAttributes;for(const l in s){const u=[],h=s[l];for(let f=0,m=h.length;f<m;f++){const p=h[f],g=t(p,n);u.push(g)}e.morphAttributes[l]=u}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,u=o.length;l<u;l++){const h=o[l];e.addGroup(h.start,h.count,h.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const h in u)u[h]!==void 0&&(t[h]=u[h]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const u in n){const h=n[u],f=h.toJSON(t.data);h.name!==""&&(f.name=h.name),t.data.attributes[u]=f}const i={};let s=!1;for(const u in this.morphAttributes){const h=this.morphAttributes[u],f=[];for(let m=0,p=h.length;m<p;m++){const g=h[m],y=g.toJSON(t.data);g.name!==""&&(y.name=g.name),f.push(y)}f.length>0&&(i[u]=f,s=!0)}s&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t},clone:function(){return new qe().copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;n!==null&&this.setIndex(n.clone(e));const i=t.attributes;for(const h in i){const f=i[h];this.setAttribute(h,f.clone(e))}const s=t.morphAttributes;for(const h in s){const f=[],m=s[h];for(let p=0,g=m.length;p<g;p++)f.push(m[p].clone(e));this.morphAttributes[h]=f}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let h=0,f=o.length;h<f;h++){const m=o[h];this.addGroup(m.start,m.count,m.materialIndex)}const l=t.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=t.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const kS=new lt,ya=new Il,jy=new ts,Ds=new O,Ns=new O,Os=new O,Wy=new O,qy=new O,Xy=new O,Yh=new O,Zh=new O,Jh=new O,ll=new _e,cl=new _e,ul=new _e,fu=new O,Qh=new O;function Ut(t=new qe,e=new Ci){Ge.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}Ut.prototype=Object.assign(Object.create(Ge.prototype),{constructor:Ut,isMesh:!0,copy:function(t){return Ge.prototype.copy.call(this,t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const i=e[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const n=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),jy.copy(n.boundingSphere),jy.applyMatrix4(s),t.ray.intersectsSphere(jy)===!1)||(kS.copy(s).invert(),ya.copy(t.ray).applyMatrix4(kS),n.boundingBox!==null&&ya.intersectsBox(n.boundingBox)===!1))return;let o;if(n.isBufferGeometry){const l=n.index,u=n.attributes.position,h=n.morphAttributes.position,f=n.morphTargetsRelative,m=n.attributes.uv,p=n.attributes.uv2,g=n.groups,y=n.drawRange;if(l!==null)if(Array.isArray(i))for(let x=0,M=g.length;x<M;x++){const S=g[x],_=i[S.materialIndex],w=Math.max(S.start,y.start),T=Math.min(S.start+S.count,y.start+y.count);for(let C=w,R=T;C<R;C+=3){const E=l.getX(C),N=l.getX(C+1),P=l.getX(C+2);o=Kh(this,_,t,ya,u,h,f,m,p,E,N,P),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=S.materialIndex,e.push(o))}}else{const x=Math.max(0,y.start),M=Math.min(l.count,y.start+y.count);for(let S=x,_=M;S<_;S+=3){const w=l.getX(S),T=l.getX(S+1),C=l.getX(S+2);o=Kh(this,i,t,ya,u,h,f,m,p,w,T,C),o&&(o.faceIndex=Math.floor(S/3),e.push(o))}}else if(u!==void 0)if(Array.isArray(i))for(let x=0,M=g.length;x<M;x++){const S=g[x],_=i[S.materialIndex],w=Math.max(S.start,y.start),T=Math.min(S.start+S.count,y.start+y.count);for(let C=w,R=T;C<R;C+=3){const E=C,N=C+1,P=C+2;o=Kh(this,_,t,ya,u,h,f,m,p,E,N,P),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=S.materialIndex,e.push(o))}}else{const x=Math.max(0,y.start),M=Math.min(u.count,y.start+y.count);for(let S=x,_=M;S<_;S+=3){const w=S,T=S+1,C=S+2;o=Kh(this,i,t,ya,u,h,f,m,p,w,T,C),o&&(o.faceIndex=Math.floor(S/3),e.push(o))}}}else if(n.isGeometry){const l=Array.isArray(i),u=n.vertices,h=n.faces;let f;const m=n.faceVertexUvs[0];m.length>0&&(f=m);for(let p=0,g=h.length;p<g;p++){const y=h[p],x=l?i[y.materialIndex]:i;if(x===void 0)continue;const M=u[y.a],S=u[y.b],_=u[y.c];if(o=YR(this,x,t,ya,M,S,_,fu),o){if(f&&f[p]){const w=f[p];ll.copy(w[0]),cl.copy(w[1]),ul.copy(w[2]),o.uv=wn.getUV(fu,M,S,_,ll,cl,ul,new _e)}o.face=y,o.faceIndex=p,e.push(o)}}}}});function YR(t,e,n,i,s,o,l,u){let h;if(e.side===cn?h=i.intersectTriangle(l,o,s,!0,u):h=i.intersectTriangle(s,o,l,e.side!==of,u),h===null)return null;Qh.copy(u),Qh.applyMatrix4(t.matrixWorld);const f=n.ray.origin.distanceTo(Qh);return f<n.near||f>n.far?null:{distance:f,point:Qh.clone(),object:t}}function Kh(t,e,n,i,s,o,l,u,h,f,m,p){Ds.fromBufferAttribute(s,f),Ns.fromBufferAttribute(s,m),Os.fromBufferAttribute(s,p);const g=t.morphTargetInfluences;if(e.morphTargets&&o&&g){Yh.set(0,0,0),Zh.set(0,0,0),Jh.set(0,0,0);for(let x=0,M=o.length;x<M;x++){const S=g[x],_=o[x];S!==0&&(Wy.fromBufferAttribute(_,f),qy.fromBufferAttribute(_,m),Xy.fromBufferAttribute(_,p),l?(Yh.addScaledVector(Wy,S),Zh.addScaledVector(qy,S),Jh.addScaledVector(Xy,S)):(Yh.addScaledVector(Wy.sub(Ds),S),Zh.addScaledVector(qy.sub(Ns),S),Jh.addScaledVector(Xy.sub(Os),S)))}Ds.add(Yh),Ns.add(Zh),Os.add(Jh)}t.isSkinnedMesh&&(t.boneTransform(f,Ds),t.boneTransform(m,Ns),t.boneTransform(p,Os));const y=YR(t,e,n,i,Ds,Ns,Os,fu);if(y){u&&(ll.fromBufferAttribute(u,f),cl.fromBufferAttribute(u,m),ul.fromBufferAttribute(u,p),y.uv=wn.getUV(fu,Ds,Ns,Os,ll,cl,ul,new _e)),h&&(ll.fromBufferAttribute(h,f),cl.fromBufferAttribute(h,m),ul.fromBufferAttribute(h,p),y.uv2=wn.getUV(fu,Ds,Ns,Os,ll,cl,ul,new _e));const x=new Cu(f,m,p);wn.getNormal(Ds,Ns,Os,x.normal),y.face=x}return y}class pf extends qe{constructor(e=1,n=1,i=1,s=1,o=1,l=1){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:s,heightSegments:o,depthSegments:l};const u=this;s=Math.floor(s),o=Math.floor(o),l=Math.floor(l);const h=[],f=[],m=[],p=[];let g=0,y=0;x("z","y","x",-1,-1,i,n,e,l,o,0),x("z","y","x",1,-1,i,n,-e,l,o,1),x("x","z","y",1,1,e,i,n,s,l,2),x("x","z","y",1,-1,e,i,-n,s,l,3),x("x","y","z",1,-1,e,n,i,s,o,4),x("x","y","z",-1,-1,e,n,-i,s,o,5),this.setIndex(h),this.setAttribute("position",new ze(f,3)),this.setAttribute("normal",new ze(m,3)),this.setAttribute("uv",new ze(p,2));function x(M,S,_,w,T,C,R,E,N,P,j){const se=C/N,J=R/P,K=C/2,ae=R/2,Q=E/2,X=N+1,H=P+1;let z=0,k=0;const Y=new O;for(let D=0;D<H;D++){const V=D*J-ae;for(let ee=0;ee<X;ee++){const te=ee*se-K;Y[M]=te*w,Y[S]=V*T,Y[_]=Q,f.push(Y.x,Y.y,Y.z),Y[M]=0,Y[S]=0,Y[_]=E>0?1:-1,m.push(Y.x,Y.y,Y.z),p.push(ee/N),p.push(1-D/P),z+=1}}for(let D=0;D<P;D++)for(let V=0;V<N;V++){const ee=g+V+X*D,te=g+V+X*(D+1),fe=g+(V+1)+X*(D+1),ne=g+(V+1)+X*D;h.push(ee,te,ne),h.push(te,fe,ne),k+=6}u.addGroup(y,k,j),y+=k,g+=z}}}function vl(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const s=t[n][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture)?e[n][i]=s.clone():Array.isArray(s)?e[n][i]=s.slice():e[n][i]=s}}return e}function Rn(t){const e={};for(let n=0;n<t.length;n++){const i=vl(t[n]);for(const s in i)e[s]=i[s]}return e}const ZR={clone:vl,merge:Rn};var t5=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,n5=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function Vn(t){$e.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=t5,this.fragmentShader=n5,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&(t.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}Vn.prototype=Object.create($e.prototype);Vn.prototype.constructor=Vn;Vn.prototype.isShaderMaterial=!0;Vn.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=vl(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this};Vn.prototype.toJSON=function(t){const e=$e.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?e.uniforms[i]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[i]={type:"m4",value:o.toArray()}:e.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(e.extensions=n),e};function hr(){Ge.call(this),this.type="Camera",this.matrixWorldInverse=new lt,this.projectionMatrix=new lt,this.projectionMatrixInverse=new lt}hr.prototype=Object.assign(Object.create(Ge.prototype),{constructor:hr,isCamera:!0,copy:function(t,e){return Ge.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new O),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Ge.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){Ge.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return new this.constructor().copy(this)}});function an(t=50,e=1,n=.1,i=2e3){hr.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}an.prototype=Object.assign(Object.create(hr.prototype),{constructor:an,isPerspectiveCamera:!0,copy:function(t,e){return hr.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=it.RAD2DEG*2*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(it.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/t},getEffectiveFOV:function(){return it.RAD2DEG*2*Math.atan(Math.tan(it.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,s,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(it.DEG2RAD*.5*this.fov)/this.zoom,n=2*e,i=this.aspect*n,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,h=o.fullHeight;s+=o.offsetX*i/u,e-=o.offsetY*n/h,i*=o.width/u,n*=o.height/h}const l=this.filmOffset;l!==0&&(s+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=Ge.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});const Wo=90,qo=1;function Ia(t,e,n){if(Ge.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new an(Wo,qo,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new O(1,0,0)),this.add(i);const s=new an(Wo,qo,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new O(-1,0,0)),this.add(s);const o=new an(Wo,qo,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new O(0,1,0)),this.add(o);const l=new an(Wo,qo,t,e);l.layers=this.layers,l.up.set(0,0,-1),l.lookAt(new O(0,-1,0)),this.add(l);const u=new an(Wo,qo,t,e);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new O(0,0,1)),this.add(u);const h=new an(Wo,qo,t,e);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new O(0,0,-1)),this.add(h),this.update=function(f,m){this.parent===null&&this.updateMatrixWorld();const p=f.xr.enabled,g=f.getRenderTarget();f.xr.enabled=!1;const y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,f.setRenderTarget(n,0),f.render(m,i),f.setRenderTarget(n,1),f.render(m,s),f.setRenderTarget(n,2),f.render(m,o),f.setRenderTarget(n,3),f.render(m,l),f.setRenderTarget(n,4),f.render(m,u),n.texture.generateMipmaps=y,f.setRenderTarget(n,5),f.render(m,h),f.setRenderTarget(g),f.xr.enabled=p}}Ia.prototype=Object.create(Ge.prototype);Ia.prototype.constructor=Ia;function dr(t,e,n,i,s,o,l,u,h,f){t=t!==void 0?t:[],e=e!==void 0?e:cf,l=l!==void 0?l:Us,Rt.call(this,t,e,n,i,s,o,l,u,h,f),this.flipY=!1,this._needsFlipEnvMap=!0}dr.prototype=Object.create(Rt.prototype);dr.prototype.constructor=dr;dr.prototype.isCubeTexture=!0;Object.defineProperty(dr.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});function Zr(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),fi.call(this,t,t,e),e=e||{},this.texture=new dr(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}Zr.prototype=Object.create(fi.prototype);Zr.prototype.constructor=Zr;Zr.prototype.isWebGLCubeRenderTarget=!0;Zr.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=ui,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},i=new pf(5,5,5),s=new Vn({name:"CubemapFromEquirect",uniforms:vl(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:cn,blending:jr});s.uniforms.tEquirect.value=e;const o=new Ut(i,s),l=e.minFilter;return e.minFilter===Ul&&(e.minFilter=mn),new Ia(1,10,this).update(t,o),e.minFilter=l,o.geometry.dispose(),o.material.dispose(),this};Zr.prototype.clear=function(t,e,n,i){const s=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,n,i);t.setRenderTarget(s)};function Jr(t,e,n,i,s,o,l,u,h,f,m,p){Rt.call(this,null,o,l,u,h,f,i,s,m,p),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=h!==void 0?h:un,this.minFilter=f!==void 0?f:un,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Jr.prototype=Object.create(Rt.prototype);Jr.prototype.constructor=Jr;Jr.prototype.isDataTexture=!0;const Xo=new ts,$h=new O;class mf{constructor(e,n,i,s,o,l){this.planes=[e!==void 0?e:new ar,n!==void 0?n:new ar,i!==void 0?i:new ar,s!==void 0?s:new ar,o!==void 0?o:new ar,l!==void 0?l:new ar]}set(e,n,i,s,o,l){const u=this.planes;return u[0].copy(e),u[1].copy(n),u[2].copy(i),u[3].copy(s),u[4].copy(o),u[5].copy(l),this}clone(){return new this.constructor().copy(this)}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const n=this.planes,i=e.elements,s=i[0],o=i[1],l=i[2],u=i[3],h=i[4],f=i[5],m=i[6],p=i[7],g=i[8],y=i[9],x=i[10],M=i[11],S=i[12],_=i[13],w=i[14],T=i[15];return n[0].setComponents(u-s,p-h,M-g,T-S).normalize(),n[1].setComponents(u+s,p+h,M+g,T+S).normalize(),n[2].setComponents(u+o,p+f,M+y,T+_).normalize(),n[3].setComponents(u-o,p-f,M-y,T-_).normalize(),n[4].setComponents(u-l,p-m,M-x,T-w).normalize(),n[5].setComponents(u+l,p+m,M+x,T+w).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Xo.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Xo)}intersectsSprite(e){return Xo.center.set(0,0,0),Xo.radius=.7071067811865476,Xo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xo)}intersectsSphere(e){const n=this.planes,i=e.center,s=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const s=n[i];if($h.x=s.normal.x>0?e.max.x:e.min.x,$h.y=s.normal.y>0?e.max.y:e.min.y,$h.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint($h)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}}function JR(){let t=null,e=!1,n=null,i=null;function s(o,l){n(o,l),i=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function i5(t,e){const n=e.isWebGL2,i=new WeakMap;function s(f,m){const p=f.array,g=f.usage,y=t.createBuffer();t.bindBuffer(m,y),t.bufferData(m,p,g),f.onUploadCallback();let x=5126;return p instanceof Float32Array?x=5126:p instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):p instanceof Uint16Array?f.isFloat16BufferAttribute?n?x=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):x=5123:p instanceof Int16Array?x=5122:p instanceof Uint32Array?x=5125:p instanceof Int32Array?x=5124:p instanceof Int8Array?x=5120:p instanceof Uint8Array&&(x=5121),{buffer:y,type:x,bytesPerElement:p.BYTES_PER_ELEMENT,version:f.version}}function o(f,m,p){const g=m.array,y=m.updateRange;t.bindBuffer(p,f),y.count===-1?t.bufferSubData(p,0,g):(n?t.bufferSubData(p,y.offset*g.BYTES_PER_ELEMENT,g,y.offset,y.count):t.bufferSubData(p,y.offset*g.BYTES_PER_ELEMENT,g.subarray(y.offset,y.offset+y.count)),y.count=-1)}function l(f){return f.isInterleavedBufferAttribute&&(f=f.data),i.get(f)}function u(f){f.isInterleavedBufferAttribute&&(f=f.data);const m=i.get(f);m&&(t.deleteBuffer(m.buffer),i.delete(f))}function h(f,m){if(f.isGLBufferAttribute){const g=i.get(f);(!g||g.version<f.version)&&i.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const p=i.get(f);p===void 0?i.set(f,s(f,m)):p.version<f.version&&(o(p.buffer,f,m),p.version=f.version)}return{get:l,remove:u,update:h}}class Op extends qe{constructor(e=1,n=1,i=1,s=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:s};const o=e/2,l=n/2,u=Math.floor(i),h=Math.floor(s),f=u+1,m=h+1,p=e/u,g=n/h,y=[],x=[],M=[],S=[];for(let _=0;_<m;_++){const w=_*g-l;for(let T=0;T<f;T++){const C=T*p-o;x.push(C,-w,0),M.push(0,0,1),S.push(T/u),S.push(1-_/h)}}for(let _=0;_<h;_++)for(let w=0;w<u;w++){const T=w+f*_,C=w+f*(_+1),R=w+1+f*(_+1),E=w+1+f*_;y.push(T,C,E),y.push(C,R,E)}this.setIndex(y),this.setAttribute("position",new ze(x,3)),this.setAttribute("normal",new ze(M,3)),this.setAttribute("uv",new ze(S,2))}}var r5=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,s5=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,a5=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,o5=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,l5=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,c5="vec3 transformed = vec3( position );",u5=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,f5=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,h5=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,d5=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,p5=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,m5=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,g5=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,y5=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,v5=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,x5=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,b5=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,_5=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,w5=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,M5=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,S5=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,T5=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,E5=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,A5=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,R5="gl_FragColor = linearToOutputTexel( gl_FragColor );",C5=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,L5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,D5=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,N5=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,O5=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,P5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,B5=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,z5=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,U5=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,F5=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,I5=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,H5=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,V5=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,G5=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,k5=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,j5=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,W5=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,q5=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,X5=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Y5=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Z5=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,J5=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Q5=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,K5=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,$5=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,eF=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,tF=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nF=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,iF=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,rF=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,sF=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,aF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,oF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lF=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,cF=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,uF=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,fF=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,hF=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,dF=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,pF=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,mF=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,gF=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,yF=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,vF=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,xF=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,bF=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_F=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,wF=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,MF=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,SF=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,TF=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,EF=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,AF=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,RF=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,CF=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,LF=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,DF=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,NF=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,OF=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,PF=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,BF=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,zF=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,UF=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,FF=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,IF=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,HF=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,VF=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,GF=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,kF=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,jF=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,WF=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,qF=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,XF=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,YF=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ZF=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,JF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,QF=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,KF=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,$F=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,eI=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,tI=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nI=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,iI=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rI=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sI=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aI=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,oI=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lI=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cI=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uI=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fI=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hI=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dI=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pI=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mI=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gI=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yI=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,vI=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xI=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bI=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,_I=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,wI=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MI=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,SI=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const ht={alphamap_fragment:r5,alphamap_pars_fragment:s5,alphatest_fragment:a5,aomap_fragment:o5,aomap_pars_fragment:l5,begin_vertex:c5,beginnormal_vertex:u5,bsdfs:f5,bumpmap_pars_fragment:h5,clipping_planes_fragment:d5,clipping_planes_pars_fragment:p5,clipping_planes_pars_vertex:m5,clipping_planes_vertex:g5,color_fragment:y5,color_pars_fragment:v5,color_pars_vertex:x5,color_vertex:b5,common:_5,cube_uv_reflection_fragment:w5,defaultnormal_vertex:M5,displacementmap_pars_vertex:S5,displacementmap_vertex:T5,emissivemap_fragment:E5,emissivemap_pars_fragment:A5,encodings_fragment:R5,encodings_pars_fragment:C5,envmap_fragment:L5,envmap_common_pars_fragment:D5,envmap_pars_fragment:N5,envmap_pars_vertex:O5,envmap_physical_pars_fragment:j5,envmap_vertex:P5,fog_vertex:B5,fog_pars_vertex:z5,fog_fragment:U5,fog_pars_fragment:F5,gradientmap_pars_fragment:I5,lightmap_fragment:H5,lightmap_pars_fragment:V5,lights_lambert_vertex:G5,lights_pars_begin:k5,lights_toon_fragment:W5,lights_toon_pars_fragment:q5,lights_phong_fragment:X5,lights_phong_pars_fragment:Y5,lights_physical_fragment:Z5,lights_physical_pars_fragment:J5,lights_fragment_begin:Q5,lights_fragment_maps:K5,lights_fragment_end:$5,logdepthbuf_fragment:eF,logdepthbuf_pars_fragment:tF,logdepthbuf_pars_vertex:nF,logdepthbuf_vertex:iF,map_fragment:rF,map_pars_fragment:sF,map_particle_fragment:aF,map_particle_pars_fragment:oF,metalnessmap_fragment:lF,metalnessmap_pars_fragment:cF,morphnormal_vertex:uF,morphtarget_pars_vertex:fF,morphtarget_vertex:hF,normal_fragment_begin:dF,normal_fragment_maps:pF,normalmap_pars_fragment:mF,clearcoat_normal_fragment_begin:gF,clearcoat_normal_fragment_maps:yF,clearcoat_pars_fragment:vF,packing:xF,premultiplied_alpha_fragment:bF,project_vertex:_F,dithering_fragment:wF,dithering_pars_fragment:MF,roughnessmap_fragment:SF,roughnessmap_pars_fragment:TF,shadowmap_pars_fragment:EF,shadowmap_pars_vertex:AF,shadowmap_vertex:RF,shadowmask_pars_fragment:CF,skinbase_vertex:LF,skinning_pars_vertex:DF,skinning_vertex:NF,skinnormal_vertex:OF,specularmap_fragment:PF,specularmap_pars_fragment:BF,tonemapping_fragment:zF,tonemapping_pars_fragment:UF,transmissionmap_fragment:FF,transmissionmap_pars_fragment:IF,uv_pars_fragment:HF,uv_pars_vertex:VF,uv_vertex:GF,uv2_pars_fragment:kF,uv2_pars_vertex:jF,uv2_vertex:WF,worldpos_vertex:qF,background_frag:XF,background_vert:YF,cube_frag:ZF,cube_vert:JF,depth_frag:QF,depth_vert:KF,distanceRGBA_frag:$F,distanceRGBA_vert:eI,equirect_frag:tI,equirect_vert:nI,linedashed_frag:iI,linedashed_vert:rI,meshbasic_frag:sI,meshbasic_vert:aI,meshlambert_frag:oI,meshlambert_vert:lI,meshmatcap_frag:cI,meshmatcap_vert:uI,meshtoon_frag:fI,meshtoon_vert:hI,meshphong_frag:dI,meshphong_vert:pI,meshphysical_frag:mI,meshphysical_vert:gI,normal_frag:yI,normal_vert:vI,points_frag:xI,points_vert:bI,shadow_frag:_I,shadow_vert:wI,sprite_frag:MI,sprite_vert:SI},Oe={common:{diffuse:{value:new Ue(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new In},uv2Transform:{value:new In},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new _e(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ue(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ue(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new In}},sprite:{diffuse:{value:new Ue(15658734)},opacity:{value:1},center:{value:new _e(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new In}}},Gi={basic:{uniforms:Rn([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.fog]),vertexShader:ht.meshbasic_vert,fragmentShader:ht.meshbasic_frag},lambert:{uniforms:Rn([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.fog,Oe.lights,{emissive:{value:new Ue(0)}}]),vertexShader:ht.meshlambert_vert,fragmentShader:ht.meshlambert_frag},phong:{uniforms:Rn([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Ue(0)},specular:{value:new Ue(1118481)},shininess:{value:30}}]),vertexShader:ht.meshphong_vert,fragmentShader:ht.meshphong_frag},standard:{uniforms:Rn([Oe.common,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.roughnessmap,Oe.metalnessmap,Oe.fog,Oe.lights,{emissive:{value:new Ue(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ht.meshphysical_vert,fragmentShader:ht.meshphysical_frag},toon:{uniforms:Rn([Oe.common,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.gradientmap,Oe.fog,Oe.lights,{emissive:{value:new Ue(0)}}]),vertexShader:ht.meshtoon_vert,fragmentShader:ht.meshtoon_frag},matcap:{uniforms:Rn([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,{matcap:{value:null}}]),vertexShader:ht.meshmatcap_vert,fragmentShader:ht.meshmatcap_frag},points:{uniforms:Rn([Oe.points,Oe.fog]),vertexShader:ht.points_vert,fragmentShader:ht.points_frag},dashed:{uniforms:Rn([Oe.common,Oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ht.linedashed_vert,fragmentShader:ht.linedashed_frag},depth:{uniforms:Rn([Oe.common,Oe.displacementmap]),vertexShader:ht.depth_vert,fragmentShader:ht.depth_frag},normal:{uniforms:Rn([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,{opacity:{value:1}}]),vertexShader:ht.normal_vert,fragmentShader:ht.normal_frag},sprite:{uniforms:Rn([Oe.sprite,Oe.fog]),vertexShader:ht.sprite_vert,fragmentShader:ht.sprite_frag},background:{uniforms:{uvTransform:{value:new In},t2D:{value:null}},vertexShader:ht.background_vert,fragmentShader:ht.background_frag},cube:{uniforms:Rn([Oe.envmap,{opacity:{value:1}}]),vertexShader:ht.cube_vert,fragmentShader:ht.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ht.equirect_vert,fragmentShader:ht.equirect_frag},distanceRGBA:{uniforms:Rn([Oe.common,Oe.displacementmap,{referencePosition:{value:new O},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ht.distanceRGBA_vert,fragmentShader:ht.distanceRGBA_frag},shadow:{uniforms:Rn([Oe.lights,Oe.fog,{color:{value:new Ue(0)},opacity:{value:1}}]),vertexShader:ht.shadow_vert,fragmentShader:ht.shadow_frag}};Gi.physical={uniforms:Rn([Gi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new _e(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Ue(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:ht.meshphysical_vert,fragmentShader:ht.meshphysical_frag};function TI(t,e,n,i,s){const o=new Ue(0);let l=0,u,h,f=null,m=0,p=null;function g(x,M,S,_){let w=M.isScene===!0?M.background:null;w&&w.isTexture&&(w=e.get(w));const T=t.xr,C=T.getSession&&T.getSession();C&&C.environmentBlendMode==="additive"&&(w=null),w===null?y(o,l):w&&w.isColor&&(y(w,1),_=!0),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.isWebGLCubeRenderTarget||w.mapping===zl)?(h===void 0&&(h=new Ut(new pf(1,1,1),new Vn({name:"BackgroundCubeMaterial",uniforms:vl(Gi.cube.uniforms),vertexShader:Gi.cube.vertexShader,fragmentShader:Gi.cube.fragmentShader,side:cn,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(R,E,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),w.isWebGLCubeRenderTarget&&(w=w.texture),h.material.uniforms.envMap.value=w,h.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w._needsFlipEnvMap?-1:1,(f!==w||m!==w.version||p!==t.toneMapping)&&(h.material.needsUpdate=!0,f=w,m=w.version,p=t.toneMapping),x.unshift(h,h.geometry,h.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new Ut(new Op(2,2),new Vn({name:"BackgroundMaterial",uniforms:vl(Gi.background.uniforms),vertexShader:Gi.background.vertexShader,fragmentShader:Gi.background.fragmentShader,side:Bl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||m!==w.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=w,m=w.version,p=t.toneMapping),x.unshift(u,u.geometry,u.material,0,0,null))}function y(x,M){n.buffers.color.setClear(x.r,x.g,x.b,M,s)}return{getClearColor:function(){return o},setClearColor:function(x,M=1){o.set(x),l=M,y(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,y(o,l)},render:g}}function EI(t,e,n,i){const s=t.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),l=i.isWebGL2||o!==null,u={},h=M(null);let f=h;function m(ae,Q,X,H,z){let k=!1;if(l){const Y=x(H,X,Q);f!==Y&&(f=Y,g(f.object)),k=S(H,z),k&&_(H,z)}else{const Y=Q.wireframe===!0;(f.geometry!==H.id||f.program!==X.id||f.wireframe!==Y)&&(f.geometry=H.id,f.program=X.id,f.wireframe=Y,k=!0)}ae.isInstancedMesh===!0&&(k=!0),z!==null&&n.update(z,34963),k&&(N(ae,Q,X,H),z!==null&&t.bindBuffer(34963,n.get(z).buffer))}function p(){return i.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function g(ae){return i.isWebGL2?t.bindVertexArray(ae):o.bindVertexArrayOES(ae)}function y(ae){return i.isWebGL2?t.deleteVertexArray(ae):o.deleteVertexArrayOES(ae)}function x(ae,Q,X){const H=X.wireframe===!0;let z=u[ae.id];z===void 0&&(z={},u[ae.id]=z);let k=z[Q.id];k===void 0&&(k={},z[Q.id]=k);let Y=k[H];return Y===void 0&&(Y=M(p()),k[H]=Y),Y}function M(ae){const Q=[],X=[],H=[];for(let z=0;z<s;z++)Q[z]=0,X[z]=0,H[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:X,attributeDivisors:H,object:ae,attributes:{},index:null}}function S(ae,Q){const X=f.attributes,H=ae.attributes;let z=0;for(const k in H){const Y=X[k],D=H[k];if(Y===void 0||Y.attribute!==D||Y.data!==D.data)return!0;z++}return f.attributesNum!==z||f.index!==Q}function _(ae,Q){const X={},H=ae.attributes;let z=0;for(const k in H){const Y=H[k],D={};D.attribute=Y,Y.data&&(D.data=Y.data),X[k]=D,z++}f.attributes=X,f.attributesNum=z,f.index=Q}function w(){const ae=f.newAttributes;for(let Q=0,X=ae.length;Q<X;Q++)ae[Q]=0}function T(ae){C(ae,0)}function C(ae,Q){const X=f.newAttributes,H=f.enabledAttributes,z=f.attributeDivisors;X[ae]=1,H[ae]===0&&(t.enableVertexAttribArray(ae),H[ae]=1),z[ae]!==Q&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ae,Q),z[ae]=Q)}function R(){const ae=f.newAttributes,Q=f.enabledAttributes;for(let X=0,H=Q.length;X<H;X++)Q[X]!==ae[X]&&(t.disableVertexAttribArray(X),Q[X]=0)}function E(ae,Q,X,H,z,k){i.isWebGL2===!0&&(X===5124||X===5125)?t.vertexAttribIPointer(ae,Q,X,z,k):t.vertexAttribPointer(ae,Q,X,H,z,k)}function N(ae,Q,X,H){if(i.isWebGL2===!1&&(ae.isInstancedMesh||H.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const z=H.attributes,k=X.getAttributes(),Y=Q.defaultAttributeValues;for(const D in k){const V=k[D];if(V>=0){const ee=z[D];if(ee!==void 0){const te=ee.normalized,fe=ee.itemSize,ne=n.get(ee);if(ne===void 0)continue;const Ce=ne.buffer,be=ne.type,Se=ne.bytesPerElement;if(ee.isInterleavedBufferAttribute){const ye=ee.data,Te=ye.stride,Le=ee.offset;ye&&ye.isInstancedInterleavedBuffer?(C(V,ye.meshPerAttribute),H._maxInstanceCount===void 0&&(H._maxInstanceCount=ye.meshPerAttribute*ye.count)):T(V),t.bindBuffer(34962,Ce),E(V,fe,be,te,Te*Se,Le*Se)}else ee.isInstancedBufferAttribute?(C(V,ee.meshPerAttribute),H._maxInstanceCount===void 0&&(H._maxInstanceCount=ee.meshPerAttribute*ee.count)):T(V),t.bindBuffer(34962,Ce),E(V,fe,be,te,0,0)}else if(D==="instanceMatrix"){const te=n.get(ae.instanceMatrix);if(te===void 0)continue;const fe=te.buffer,ne=te.type;C(V+0,1),C(V+1,1),C(V+2,1),C(V+3,1),t.bindBuffer(34962,fe),t.vertexAttribPointer(V+0,4,ne,!1,64,0),t.vertexAttribPointer(V+1,4,ne,!1,64,16),t.vertexAttribPointer(V+2,4,ne,!1,64,32),t.vertexAttribPointer(V+3,4,ne,!1,64,48)}else if(D==="instanceColor"){const te=n.get(ae.instanceColor);if(te===void 0)continue;const fe=te.buffer,ne=te.type;C(V,1),t.bindBuffer(34962,fe),t.vertexAttribPointer(V,3,ne,!1,12,0)}else if(Y!==void 0){const te=Y[D];if(te!==void 0)switch(te.length){case 2:t.vertexAttrib2fv(V,te);break;case 3:t.vertexAttrib3fv(V,te);break;case 4:t.vertexAttrib4fv(V,te);break;default:t.vertexAttrib1fv(V,te)}}}}R()}function P(){J();for(const ae in u){const Q=u[ae];for(const X in Q){const H=Q[X];for(const z in H)y(H[z].object),delete H[z];delete Q[X]}delete u[ae]}}function j(ae){if(u[ae.id]===void 0)return;const Q=u[ae.id];for(const X in Q){const H=Q[X];for(const z in H)y(H[z].object),delete H[z];delete Q[X]}delete u[ae.id]}function se(ae){for(const Q in u){const X=u[Q];if(X[ae.id]===void 0)continue;const H=X[ae.id];for(const z in H)y(H[z].object),delete H[z];delete X[ae.id]}}function J(){K(),f!==h&&(f=h,g(f.object))}function K(){h.geometry=null,h.program=null,h.wireframe=!1}return{setup:m,reset:J,resetDefaultState:K,dispose:P,releaseStatesOfGeometry:j,releaseStatesOfProgram:se,initAttributes:w,enableAttribute:T,disableUnusedAttributes:R}}function AI(t,e,n,i){const s=i.isWebGL2;let o;function l(f){o=f}function u(f,m){t.drawArrays(o,f,m),n.update(m,o,1)}function h(f,m,p){if(p===0)return;let g,y;if(s)g=t,y="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",g===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](o,f,m,p),n.update(m,o,p)}this.setMode=l,this.render=u,this.renderInstances=h}function RI(t,e,n){let i;function s(){if(i!==void 0)return i;const E=e.get("EXT_texture_filter_anisotropic");return E!==null?i=t.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function o(E){if(E==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";E="mediump"}return E==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let u=n.precision!==void 0?n.precision:"highp";const h=o(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);const f=n.logarithmicDepthBuffer===!0,m=t.getParameter(34930),p=t.getParameter(35660),g=t.getParameter(3379),y=t.getParameter(34076),x=t.getParameter(34921),M=t.getParameter(36347),S=t.getParameter(36348),_=t.getParameter(36349),w=p>0,T=l||!!e.get("OES_texture_float"),C=w&&T,R=l?t.getParameter(36183):0;return{isWebGL2:l,getMaxAnisotropy:s,getMaxPrecision:o,precision:u,logarithmicDepthBuffer:f,maxTextures:m,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:M,maxVaryings:S,maxFragmentUniforms:_,vertexTextures:w,floatFragmentTextures:T,floatVertexTextures:C,maxSamples:R}}function CI(t){const e=this;let n=null,i=0,s=!1,o=!1;const l=new ar,u=new In,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(p,g,y){const x=p.length!==0||g||i!==0||s;return s=g,n=m(p,y,0),i=p.length,x},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1,f()},this.setState=function(p,g,y){const x=p.clippingPlanes,M=p.clipIntersection,S=p.clipShadows,_=t.get(p);if(!s||x===null||x.length===0||o&&!S)o?m(null):f();else{const w=o?0:i,T=w*4;let C=_.clippingState||null;h.value=C,C=m(x,g,T,y);for(let R=0;R!==T;++R)C[R]=n[R];_.clippingState=C,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=w}};function f(){h.value!==n&&(h.value=n,h.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(p,g,y,x){const M=p!==null?p.length:0;let S=null;if(M!==0){if(S=h.value,x!==!0||S===null){const _=y+M*4,w=g.matrixWorldInverse;u.getNormalMatrix(w),(S===null||S.length<_)&&(S=new Float32Array(_));for(let T=0,C=y;T!==M;++T,C+=4)l.copy(p[T]).applyMatrix4(w,u),l.normal.toArray(S,C),S[C+3]=l.constant}h.value=S,h.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,S}}function LI(t){let e=new WeakMap;function n(l,u){return u===Yd?l.mapping=cf:u===Zd&&(l.mapping=uf),l}function i(l){if(l&&l.isTexture){const u=l.mapping;if(u===Yd||u===Zd)if(e.has(l)){const h=e.get(l).texture;return n(h,l.mapping)}else{const h=l.image;if(h&&h.height>0){const f=t.getRenderList(),m=t.getRenderTarget(),p=new Zr(h.height/2);return p.fromEquirectangularTexture(t,l),e.set(l,p),t.setRenderTarget(m),t.setRenderList(f),l.addEventListener("dispose",s),n(p.texture,l.mapping)}else return null}}return l}function s(l){const u=l.target;u.removeEventListener("dispose",s);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function o(){e=new WeakMap}return{get:i,dispose:o}}function DI(t){const e={};return{has:function(n){if(e[n]!==void 0)return e[n]!==null;let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i!==null},get:function(n){return this.has(n)||console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]}}}function NI(t,e,n,i){const s=new WeakMap,o=new WeakMap;function l(p){const g=p.target,y=s.get(g);y.index!==null&&e.remove(y.index);for(const M in y.attributes)e.remove(y.attributes[M]);g.removeEventListener("dispose",l),s.delete(g);const x=o.get(y);x&&(e.remove(x),o.delete(y)),i.releaseStatesOfGeometry(y),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function u(p,g){let y=s.get(g);return y||(g.addEventListener("dispose",l),g.isBufferGeometry?y=g:g.isGeometry&&(g._bufferGeometry===void 0&&(g._bufferGeometry=new qe().setFromObject(p)),y=g._bufferGeometry),s.set(g,y),n.memory.geometries++,y)}function h(p){const g=p.attributes;for(const x in g)e.update(g[x],34962);const y=p.morphAttributes;for(const x in y){const M=y[x];for(let S=0,_=M.length;S<_;S++)e.update(M[S],34962)}}function f(p){const g=[],y=p.index,x=p.attributes.position;let M=0;if(y!==null){const w=y.array;M=y.version;for(let T=0,C=w.length;T<C;T+=3){const R=w[T+0],E=w[T+1],N=w[T+2];g.push(R,E,E,N,N,R)}}else{const w=x.array;M=x.version;for(let T=0,C=w.length/3-1;T<C;T+=3){const R=T+0,E=T+1,N=T+2;g.push(R,E,E,N,N,R)}}const S=new(XR(g)>65535?Fa:Ua)(g,1);S.version=M;const _=o.get(p);_&&e.remove(_),o.set(p,S)}function m(p){const g=o.get(p);if(g){const y=p.index;y!==null&&g.version<y.version&&f(p)}else f(p);return o.get(p)}return{get:u,update:h,getWireframeAttribute:m}}function OI(t,e,n,i){const s=i.isWebGL2;let o;function l(g){o=g}let u,h;function f(g){u=g.type,h=g.bytesPerElement}function m(g,y){t.drawElements(o,y,u,g*h),n.update(y,o,1)}function p(g,y,x){if(x===0)return;let M,S;if(s)M=t,S="drawElementsInstanced";else if(M=e.get("ANGLE_instanced_arrays"),S="drawElementsInstancedANGLE",M===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}M[S](o,y,u,g*h,x),n.update(y,o,x)}this.setMode=l,this.setIndex=f,this.render=m,this.renderInstances=p}function PI(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,l,u){switch(n.calls++,l){case 4:n.triangles+=u*(o/3);break;case 1:n.lines+=u*(o/2);break;case 3:n.lines+=u*(o-1);break;case 2:n.lines+=u*o;break;case 0:n.points+=u*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function s(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:i}}function BI(t,e){return t[0]-e[0]}function zI(t,e){return Math.abs(e[1])-Math.abs(t[1])}function UI(t){const e={},n=new Float32Array(8),i=[];for(let o=0;o<8;o++)i[o]=[o,0];function s(o,l,u,h){const f=o.morphTargetInfluences,m=f===void 0?0:f.length;let p=e[l.id];if(p===void 0){p=[];for(let S=0;S<m;S++)p[S]=[S,0];e[l.id]=p}for(let S=0;S<m;S++){const _=p[S];_[0]=S,_[1]=f[S]}p.sort(zI);for(let S=0;S<8;S++)S<m&&p[S][1]?(i[S][0]=p[S][0],i[S][1]=p[S][1]):(i[S][0]=Number.MAX_SAFE_INTEGER,i[S][1]=0);i.sort(BI);const g=u.morphTargets&&l.morphAttributes.position,y=u.morphNormals&&l.morphAttributes.normal;let x=0;for(let S=0;S<8;S++){const _=i[S],w=_[0],T=_[1];w!==Number.MAX_SAFE_INTEGER&&T?(g&&l.getAttribute("morphTarget"+S)!==g[w]&&l.setAttribute("morphTarget"+S,g[w]),y&&l.getAttribute("morphNormal"+S)!==y[w]&&l.setAttribute("morphNormal"+S,y[w]),n[S]=T,x+=T):(g&&l.hasAttribute("morphTarget"+S)===!0&&l.deleteAttribute("morphTarget"+S),y&&l.hasAttribute("morphNormal"+S)===!0&&l.deleteAttribute("morphNormal"+S),n[S]=0)}const M=l.morphTargetsRelative?1:1-x;h.getUniforms().setValue(t,"morphTargetBaseInfluence",M),h.getUniforms().setValue(t,"morphTargetInfluences",n)}return{update:s}}function FI(t,e,n,i){let s=new WeakMap;function o(h){const f=i.render.frame,m=h.geometry,p=e.get(h,m);return s.get(p)!==f&&(m.isGeometry&&p.updateFromObject(h),e.update(p),s.set(p,f)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),n.update(h.instanceMatrix,34962),h.instanceColor!==null&&n.update(h.instanceColor,34962)),p}function l(){s=new WeakMap}function u(h){const f=h.target;f.removeEventListener("dispose",u),n.remove(f.instanceMatrix),f.instanceColor!==null&&n.remove(f.instanceColor)}return{update:o,dispose:l}}function xl(t=null,e=1,n=1,i=1){Rt.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=un,this.minFilter=un,this.wrapR=Un,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}xl.prototype=Object.create(Rt.prototype);xl.prototype.constructor=xl;xl.prototype.isDataTexture2DArray=!0;function bl(t=null,e=1,n=1,i=1){Rt.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=un,this.minFilter=un,this.wrapR=Un,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}bl.prototype=Object.create(Rt.prototype);bl.prototype.constructor=bl;bl.prototype.isDataTexture3D=!0;const QR=new Rt,II=new xl,HI=new bl,KR=new dr,jS=[],WS=[],qS=new Float32Array(16),XS=new Float32Array(9),YS=new Float32Array(4);function Vl(t,e,n){const i=t[0];if(i<=0||i>0)return t;const s=e*n;let o=jS[s];if(o===void 0&&(o=new Float32Array(s),jS[s]=o),e!==0){i.toArray(o,0);for(let l=1,u=0;l!==e;++l)u+=n,t[l].toArray(o,u)}return o}function Li(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function di(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function $R(t,e){let n=WS[e];n===void 0&&(n=new Int32Array(e),WS[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function VI(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function GI(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Li(n,e))return;t.uniform2fv(this.addr,e),di(n,e)}}function kI(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Li(n,e))return;t.uniform3fv(this.addr,e),di(n,e)}}function jI(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Li(n,e))return;t.uniform4fv(this.addr,e),di(n,e)}}function WI(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Li(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),di(n,e)}else{if(Li(n,i))return;YS.set(i),t.uniformMatrix2fv(this.addr,!1,YS),di(n,i)}}function qI(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Li(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),di(n,e)}else{if(Li(n,i))return;XS.set(i),t.uniformMatrix3fv(this.addr,!1,XS),di(n,i)}}function XI(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Li(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),di(n,e)}else{if(Li(n,i))return;qS.set(i),t.uniformMatrix4fv(this.addr,!1,qS),di(n,i)}}function YI(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.safeSetTexture2D(e||QR,s)}function ZI(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture2DArray(e||II,s)}function JI(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture3D(e||HI,s)}function QI(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.safeSetTextureCube(e||KR,s)}function KI(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function $I(t,e){const n=this.cache;Li(n,e)||(t.uniform2iv(this.addr,e),di(n,e))}function eH(t,e){const n=this.cache;Li(n,e)||(t.uniform3iv(this.addr,e),di(n,e))}function tH(t,e){const n=this.cache;Li(n,e)||(t.uniform4iv(this.addr,e),di(n,e))}function nH(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function iH(t){switch(t){case 5126:return VI;case 35664:return GI;case 35665:return kI;case 35666:return jI;case 35674:return WI;case 35675:return qI;case 35676:return XI;case 5124:case 35670:return KI;case 35667:case 35671:return $I;case 35668:case 35672:return eH;case 35669:case 35673:return tH;case 5125:return nH;case 35678:case 36198:case 36298:case 36306:case 35682:return YI;case 35679:case 36299:case 36307:return JI;case 35680:case 36300:case 36308:case 36293:return QI;case 36289:case 36303:case 36311:case 36292:return ZI}}function rH(t,e){t.uniform1fv(this.addr,e)}function sH(t,e){t.uniform1iv(this.addr,e)}function aH(t,e){t.uniform2iv(this.addr,e)}function oH(t,e){t.uniform3iv(this.addr,e)}function lH(t,e){t.uniform4iv(this.addr,e)}function cH(t,e){const n=Vl(e,this.size,2);t.uniform2fv(this.addr,n)}function uH(t,e){const n=Vl(e,this.size,3);t.uniform3fv(this.addr,n)}function fH(t,e){const n=Vl(e,this.size,4);t.uniform4fv(this.addr,n)}function hH(t,e){const n=Vl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function dH(t,e){const n=Vl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function pH(t,e){const n=Vl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function mH(t,e,n){const i=e.length,s=$R(n,i);t.uniform1iv(this.addr,s);for(let o=0;o!==i;++o)n.safeSetTexture2D(e[o]||QR,s[o])}function gH(t,e,n){const i=e.length,s=$R(n,i);t.uniform1iv(this.addr,s);for(let o=0;o!==i;++o)n.safeSetTextureCube(e[o]||KR,s[o])}function yH(t){switch(t){case 5126:return rH;case 35664:return cH;case 35665:return uH;case 35666:return fH;case 35674:return hH;case 35675:return dH;case 35676:return pH;case 5124:case 35670:return sH;case 35667:case 35671:return aH;case 35668:case 35672:return oH;case 35669:case 35673:return lH;case 35678:case 36198:case 36298:case 36306:case 35682:return mH;case 35680:case 36300:case 36308:case 36293:return gH}}function vH(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=iH(e.type)}function e3(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=yH(e.type)}e3.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),di(e,t)};function t3(t){this.id=t,this.seq=[],this.map={}}t3.prototype.setValue=function(t,e,n){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const l=i[s];l.setValue(t,e[l.id],n)}};const Yy=/(\w+)(\])?(\[|\.)?/g;function ZS(t,e){t.seq.push(e),t.map[e.id]=e}function xH(t,e,n){const i=t.name,s=i.length;for(Yy.lastIndex=0;;){const o=Yy.exec(i),l=Yy.lastIndex;let u=o[1];const h=o[2]==="]",f=o[3];if(h&&(u=u|0),f===void 0||f==="["&&l+2===s){ZS(n,f===void 0?new vH(u,t,e):new e3(u,t,e));break}else{let p=n.map[u];p===void 0&&(p=new t3(u),ZS(n,p)),n=p}}}function Fs(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const s=t.getActiveUniform(e,i),o=t.getUniformLocation(e,s.name);xH(s,o,this)}}Fs.prototype.setValue=function(t,e,n,i){const s=this.map[e];s!==void 0&&s.setValue(t,n,i)};Fs.prototype.setOptional=function(t,e,n){const i=e[n];i!==void 0&&this.setValue(t,n,i)};Fs.upload=function(t,e,n,i){for(let s=0,o=e.length;s!==o;++s){const l=e[s],u=n[l.id];u.needsUpdate!==!1&&l.setValue(t,u.value,i)}};Fs.seqWithValue=function(t,e){const n=[];for(let i=0,s=t.length;i!==s;++i){const o=t[i];o.id in e&&n.push(o)}return n};function JS(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let bH=0;function _H(t){const e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function n3(t){switch(t){case Hn:return["Linear","( value )"];case hf:return["sRGB","( value )"];case Np:return["RGBE","( value )"];case Rx:return["RGBM","( value, 7.0 )"];case Cx:return["RGBM","( value, 16.0 )"];case Lx:return["RGBD","( value, 256.0 )"];case Dp:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case VR:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function QS(t,e,n){const i=t.getShaderParameter(e,35713),s=t.getShaderInfoLog(e).trim();if(i&&s==="")return"";const o=t.getShaderSource(e);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+s+_H(o)}function Yc(t,e){const n=n3(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function wH(t,e){const n=n3(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function MH(t,e){let n;switch(e){case H2:n="Linear";break;case V2:n="Reinhard";break;case G2:n="OptimizedCineon";break;case k2:n="ACESFilmic";break;case j2:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function SH(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(iu).join(`
`)}function TH(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function EH(t,e){const n={},i=t.getProgramParameter(e,35721);for(let s=0;s<i;s++){const l=t.getActiveAttrib(e,s).name;n[l]=t.getAttribLocation(e,l)}return n}function iu(t){return t!==""}function KS(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $S(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const AH=/^[ \t]*#include +<([\w\d./]+)>/gm;function lv(t){return t.replace(AH,RH)}function RH(t,e){const n=ht[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return lv(n)}const CH=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,LH=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function eT(t){return t.replace(LH,i3).replace(CH,DH)}function DH(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),i3(t,e,n,i)}function i3(t,e,n,i){let s="";for(let o=parseInt(e);o<parseInt(n);o++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return s}function tT(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function NH(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===wx?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===v2?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ol&&(e="SHADOWMAP_TYPE_VSM"),e}function OH(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case cf:case uf:e="ENVMAP_TYPE_CUBE";break;case zl:case ff:e="ENVMAP_TYPE_CUBE_UV";break}return e}function PH(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case uf:case ff:e="ENVMAP_MODE_REFRACTION";break}return e}function BH(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case lf:e="ENVMAP_BLENDING_MULTIPLY";break;case F2:e="ENVMAP_BLENDING_MIX";break;case I2:e="ENVMAP_BLENDING_ADD";break}return e}function zH(t,e,n,i){const s=t.getContext(),o=n.defines;let l=n.vertexShader,u=n.fragmentShader;const h=NH(n),f=OH(n),m=PH(n),p=BH(n),g=t.gammaFactor>0?t.gammaFactor:1,y=n.isWebGL2?"":SH(n),x=TH(o),M=s.createProgram();let S,_,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(S=[x].filter(iu).join(`
`),S.length>0&&(S+=`
`),_=[y,x].filter(iu).join(`
`),_.length>0&&(_+=`
`)):(S=[tT(n),"#define SHADER_NAME "+n.shaderName,x,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+h:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(iu).join(`
`),_=[y,tT(n),"#define SHADER_NAME "+n.shaderName,x,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+m:"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+h:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Oa?"#define TONE_MAPPING":"",n.toneMapping!==Oa?ht.tonemapping_pars_fragment:"",n.toneMapping!==Oa?MH("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",ht.encodings_pars_fragment,n.map?Yc("mapTexelToLinear",n.mapEncoding):"",n.matcap?Yc("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Yc("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Yc("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Yc("lightMapTexelToLinear",n.lightMapEncoding):"",wH("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(iu).join(`
`)),l=lv(l),l=KS(l,n),l=$S(l,n),u=lv(u),u=KS(u,n),u=$S(u,n),l=eT(l),u=eT(u),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,S=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,_=["#define varying in",n.glslVersion===av?"":"out highp vec4 pc_fragColor;",n.glslVersion===av?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const T=w+S+l,C=w+_+u,R=JS(s,35633,T),E=JS(s,35632,C);if(s.attachShader(M,R),s.attachShader(M,E),n.index0AttributeName!==void 0?s.bindAttribLocation(M,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(M,0,"position"),s.linkProgram(M),t.debug.checkShaderErrors){const j=s.getProgramInfoLog(M).trim(),se=s.getShaderInfoLog(R).trim(),J=s.getShaderInfoLog(E).trim();let K=!0,ae=!0;if(s.getProgramParameter(M,35714)===!1){K=!1;const Q=QS(s,R,"vertex"),X=QS(s,E,"fragment");console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(M,35715),"gl.getProgramInfoLog",j,Q,X)}else j!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",j):(se===""||J==="")&&(ae=!1);ae&&(this.diagnostics={runnable:K,programLog:j,vertexShader:{log:se,prefix:S},fragmentShader:{log:J,prefix:_}})}s.deleteShader(R),s.deleteShader(E);let N;this.getUniforms=function(){return N===void 0&&(N=new Fs(s,M)),N};let P;return this.getAttributes=function(){return P===void 0&&(P=EH(s,M)),P},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(M),this.program=void 0},this.name=n.shaderName,this.id=bH++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=R,this.fragmentShader=E,this}function UH(t,e,n,i,s,o){const l=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,f=i.floatVertexTextures,m=i.maxVertexUniforms,p=i.vertexTextures;let g=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},x=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function M(E){const P=E.skeleton.bones;if(f)return 1024;{const se=Math.floor((m-20)/4),J=Math.min(se,P.length);return J<P.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+P.length+" bones. This GPU supports "+J+"."),0):J}}function S(E){let N;return E&&E.isTexture?N=E.encoding:E&&E.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),N=E.texture.encoding):N=Hn,N}function _(E,N,P,j,se){const J=j.fog,K=E.isMeshStandardMaterial?j.environment:null,ae=e.get(E.envMap||K),Q=y[E.type],X=se.isSkinnedMesh?M(se):0;E.precision!==null&&(g=i.getMaxPrecision(E.precision),g!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",g,"instead."));let H,z;if(Q){const D=Gi[Q];H=D.vertexShader,z=D.fragmentShader}else H=E.vertexShader,z=E.fragmentShader;const k=t.getRenderTarget();return{isWebGL2:u,shaderID:Q,shaderName:E.type,vertexShader:H,fragmentShader:z,defines:E.defines,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:g,instancing:se.isInstancedMesh===!0,instancingColor:se.isInstancedMesh===!0&&se.instanceColor!==null,supportsVertexTextures:p,outputEncoding:k!==null?S(k.texture):t.outputEncoding,map:!!E.map,mapEncoding:S(E.map),matcap:!!E.matcap,matcapEncoding:S(E.matcap),envMap:!!ae,envMapMode:ae&&ae.mapping,envMapEncoding:S(ae),envMapCubeUV:!!ae&&(ae.mapping===zl||ae.mapping===ff),lightMap:!!E.lightMap,lightMapEncoding:S(E.lightMap),aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,emissiveMapEncoding:S(E.emissiveMap),bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===jR,tangentSpaceNormalMap:E.normalMapType===Za,clearcoatMap:!!E.clearcoatMap,clearcoatRoughnessMap:!!E.clearcoatRoughnessMap,clearcoatNormalMap:!!E.clearcoatNormalMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,alphaMap:!!E.alphaMap,gradientMap:!!E.gradientMap,sheen:!!E.sheen,transmissionMap:!!E.transmissionMap,combine:E.combine,vertexTangents:E.normalMap&&E.vertexTangents,vertexColors:E.vertexColors,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.displacementMap||!!E.transmissionMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.transmissionMap)&&!!E.displacementMap,fog:!!J,useFog:E.fog,fogExp2:J&&J.isFogExp2,flatShading:E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:h,skinning:E.skinning&&X>0,maxBones:X,useVertexTexture:f,morphTargets:E.morphTargets,morphNormals:E.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:E.toneMapped?t.toneMapping:Oa,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,alphaTest:E.alphaTest,doubleSided:E.side===of,flipSided:E.side===cn,depthPacking:E.depthPacking!==void 0?E.depthPacking:!1,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function w(E){const N=[];if(E.shaderID?N.push(E.shaderID):(N.push(E.fragmentShader),N.push(E.vertexShader)),E.defines!==void 0)for(const P in E.defines)N.push(P),N.push(E.defines[P]);if(E.isRawShaderMaterial===!1){for(let P=0;P<x.length;P++)N.push(E[x[P]]);N.push(t.outputEncoding),N.push(t.gammaFactor)}return N.push(E.customProgramCacheKey),N.join()}function T(E){const N=y[E.type];let P;if(N){const j=Gi[N];P=ZR.clone(j.uniforms)}else P=E.uniforms;return P}function C(E,N){let P;for(let j=0,se=l.length;j<se;j++){const J=l[j];if(J.cacheKey===N){P=J,++P.usedTimes;break}}return P===void 0&&(P=new zH(t,N,E,s),l.push(P)),P}function R(E){if(--E.usedTimes===0){const N=l.indexOf(E);l[N]=l[l.length-1],l.pop(),E.destroy()}}return{getParameters:_,getProgramCacheKey:w,getUniforms:T,acquireProgram:C,releaseProgram:R,programs:l}}function FH(){let t=new WeakMap;function e(o){let l=t.get(o);return l===void 0&&(l={},t.set(o,l)),l}function n(o){t.delete(o)}function i(o,l,u){t.get(o)[l]=u}function s(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:s}}function IH(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function HH(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function nT(t){const e=[];let n=0;const i=[],s=[],o={id:-1};function l(){n=0,i.length=0,s.length=0}function u(g,y,x,M,S,_){let w=e[n];const T=t.get(x);return w===void 0?(w={id:g.id,object:g,geometry:y,material:x,program:T.program||o,groupOrder:M,renderOrder:g.renderOrder,z:S,group:_},e[n]=w):(w.id=g.id,w.object=g,w.geometry=y,w.material=x,w.program=T.program||o,w.groupOrder=M,w.renderOrder=g.renderOrder,w.z=S,w.group=_),n++,w}function h(g,y,x,M,S,_){const w=u(g,y,x,M,S,_);(x.transparent===!0?s:i).push(w)}function f(g,y,x,M,S,_){const w=u(g,y,x,M,S,_);(x.transparent===!0?s:i).unshift(w)}function m(g,y){i.length>1&&i.sort(g||IH),s.length>1&&s.sort(y||HH)}function p(){for(let g=n,y=e.length;g<y;g++){const x=e[g];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.program=null,x.group=null}}return{opaque:i,transparent:s,init:l,push:h,unshift:f,finish:p,sort:m}}function VH(t){let e=new WeakMap;function n(s,o){const l=e.get(s);let u;return l===void 0?(u=new nT(t),e.set(s,new WeakMap),e.get(s).set(o,u)):(u=l.get(o),u===void 0&&(u=new nT(t),l.set(o,u))),u}function i(){e=new WeakMap}return{get:n,dispose:i}}function GH(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new O,color:new Ue};break;case"SpotLight":n={position:new O,direction:new O,color:new Ue,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new O,color:new Ue,distance:0,decay:0};break;case"HemisphereLight":n={direction:new O,skyColor:new Ue,groundColor:new Ue};break;case"RectAreaLight":n={color:new Ue,position:new O,halfWidth:new O,halfHeight:new O};break}return t[e.id]=n,n}}}function kH(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let jH=0;function WH(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function qH(t,e){const n=new GH,i=kH(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let m=0;m<9;m++)s.probe.push(new O);const o=new O,l=new lt,u=new lt;function h(m){let p=0,g=0,y=0;for(let N=0;N<9;N++)s.probe[N].set(0,0,0);let x=0,M=0,S=0,_=0,w=0,T=0,C=0,R=0;m.sort(WH);for(let N=0,P=m.length;N<P;N++){const j=m[N],se=j.color,J=j.intensity,K=j.distance,ae=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)p+=se.r*J,g+=se.g*J,y+=se.b*J;else if(j.isLightProbe)for(let Q=0;Q<9;Q++)s.probe[Q].addScaledVector(j.sh.coefficients[Q],J);else if(j.isDirectionalLight){const Q=n.get(j);if(Q.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const X=j.shadow,H=i.get(j);H.shadowBias=X.bias,H.shadowNormalBias=X.normalBias,H.shadowRadius=X.radius,H.shadowMapSize=X.mapSize,s.directionalShadow[x]=H,s.directionalShadowMap[x]=ae,s.directionalShadowMatrix[x]=j.shadow.matrix,T++}s.directional[x]=Q,x++}else if(j.isSpotLight){const Q=n.get(j);if(Q.position.setFromMatrixPosition(j.matrixWorld),Q.color.copy(se).multiplyScalar(J),Q.distance=K,Q.coneCos=Math.cos(j.angle),Q.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),Q.decay=j.decay,j.castShadow){const X=j.shadow,H=i.get(j);H.shadowBias=X.bias,H.shadowNormalBias=X.normalBias,H.shadowRadius=X.radius,H.shadowMapSize=X.mapSize,s.spotShadow[S]=H,s.spotShadowMap[S]=ae,s.spotShadowMatrix[S]=j.shadow.matrix,R++}s.spot[S]=Q,S++}else if(j.isRectAreaLight){const Q=n.get(j);Q.color.copy(se).multiplyScalar(J),Q.halfWidth.set(j.width*.5,0,0),Q.halfHeight.set(0,j.height*.5,0),s.rectArea[_]=Q,_++}else if(j.isPointLight){const Q=n.get(j);if(Q.color.copy(j.color).multiplyScalar(j.intensity),Q.distance=j.distance,Q.decay=j.decay,j.castShadow){const X=j.shadow,H=i.get(j);H.shadowBias=X.bias,H.shadowNormalBias=X.normalBias,H.shadowRadius=X.radius,H.shadowMapSize=X.mapSize,H.shadowCameraNear=X.camera.near,H.shadowCameraFar=X.camera.far,s.pointShadow[M]=H,s.pointShadowMap[M]=ae,s.pointShadowMatrix[M]=j.shadow.matrix,C++}s.point[M]=Q,M++}else if(j.isHemisphereLight){const Q=n.get(j);Q.skyColor.copy(j.color).multiplyScalar(J),Q.groundColor.copy(j.groundColor).multiplyScalar(J),s.hemi[w]=Q,w++}}_>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(s.rectAreaLTC1=Oe.LTC_FLOAT_1,s.rectAreaLTC2=Oe.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(s.rectAreaLTC1=Oe.LTC_HALF_1,s.rectAreaLTC2=Oe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=p,s.ambient[1]=g,s.ambient[2]=y;const E=s.hash;(E.directionalLength!==x||E.pointLength!==M||E.spotLength!==S||E.rectAreaLength!==_||E.hemiLength!==w||E.numDirectionalShadows!==T||E.numPointShadows!==C||E.numSpotShadows!==R)&&(s.directional.length=x,s.spot.length=S,s.rectArea.length=_,s.point.length=M,s.hemi.length=w,s.directionalShadow.length=T,s.directionalShadowMap.length=T,s.pointShadow.length=C,s.pointShadowMap.length=C,s.spotShadow.length=R,s.spotShadowMap.length=R,s.directionalShadowMatrix.length=T,s.pointShadowMatrix.length=C,s.spotShadowMatrix.length=R,E.directionalLength=x,E.pointLength=M,E.spotLength=S,E.rectAreaLength=_,E.hemiLength=w,E.numDirectionalShadows=T,E.numPointShadows=C,E.numSpotShadows=R,s.version=jH++)}function f(m,p){let g=0,y=0,x=0,M=0,S=0;const _=p.matrixWorldInverse;for(let w=0,T=m.length;w<T;w++){const C=m[w];if(C.isDirectionalLight){const R=s.directional[g];R.direction.setFromMatrixPosition(C.matrixWorld),o.setFromMatrixPosition(C.target.matrixWorld),R.direction.sub(o),R.direction.transformDirection(_),g++}else if(C.isSpotLight){const R=s.spot[x];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(_),R.direction.setFromMatrixPosition(C.matrixWorld),o.setFromMatrixPosition(C.target.matrixWorld),R.direction.sub(o),R.direction.transformDirection(_),x++}else if(C.isRectAreaLight){const R=s.rectArea[M];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(_),u.identity(),l.copy(C.matrixWorld),l.premultiply(_),u.extractRotation(l),R.halfWidth.set(C.width*.5,0,0),R.halfHeight.set(0,C.height*.5,0),R.halfWidth.applyMatrix4(u),R.halfHeight.applyMatrix4(u),M++}else if(C.isPointLight){const R=s.point[y];R.position.setFromMatrixPosition(C.matrixWorld),R.position.applyMatrix4(_),y++}else if(C.isHemisphereLight){const R=s.hemi[S];R.direction.setFromMatrixPosition(C.matrixWorld),R.direction.transformDirection(_),R.direction.normalize(),S++}}}return{setup:h,setupView:f,state:s}}function iT(t,e){const n=new qH(t,e),i=[],s=[];function o(){i.length=0,s.length=0}function l(p){i.push(p)}function u(p){s.push(p)}function h(){n.setup(i)}function f(p){n.setupView(i,p)}return{init:o,state:{lightsArray:i,shadowsArray:s,lights:n},setupLights:h,setupLightsView:f,pushLight:l,pushShadow:u}}function XH(t,e){let n=new WeakMap;function i(o,l=0){let u;return n.has(o)===!1?(u=new iT(t,e),n.set(o,[]),n.get(o).push(u)):l>=n.get(o).length?(u=new iT(t,e),n.get(o).push(u)):u=n.get(o)[l],u}function s(){n=new WeakMap}return{get:i,dispose:s}}function ks(t){$e.call(this),this.type="MeshDepthMaterial",this.depthPacking=GR,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}ks.prototype=Object.create($e.prototype);ks.prototype.constructor=ks;ks.prototype.isMeshDepthMaterial=!0;ks.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this};function js(t){$e.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new O,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}js.prototype=Object.create($e.prototype);js.prototype.constructor=js;js.prototype.isMeshDistanceMaterial=!0;js.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this};var YH=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,ZH=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function r3(t,e,n){let i=new mf;const s=new _e,o=new _e,l=new Et,u=[],h=[],f={},m={0:cn,1:Bl,2:of},p=new Vn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new _e},radius:{value:4}},vertexShader:ZH,fragmentShader:YH}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const y=new qe;y.setAttribute("position",new Xe(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Ut(y,p),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=wx,this.render=function(R,E,N){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||R.length===0)return;const P=t.getRenderTarget(),j=t.getActiveCubeFace(),se=t.getActiveMipmapLevel(),J=t.state;J.setBlending(jr),J.buffers.color.setClear(1,1,1,1),J.buffers.depth.setTest(!0),J.setScissorTest(!1);for(let K=0,ae=R.length;K<ae;K++){const Q=R[K],X=Q.shadow;if(X===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;s.copy(X.mapSize);const H=X.getFrameExtents();if(s.multiply(H),o.copy(X.mapSize),(s.x>n||s.y>n)&&(s.x>n&&(o.x=Math.floor(n/H.x),s.x=o.x*H.x,X.mapSize.x=o.x),s.y>n&&(o.y=Math.floor(n/H.y),s.y=o.y*H.y,X.mapSize.y=o.y)),X.map===null&&!X.isPointLightShadow&&this.type===ol){const k={minFilter:mn,magFilter:mn,format:ui};X.map=new fi(s.x,s.y,k),X.map.texture.name=Q.name+".shadowMap",X.mapPass=new fi(s.x,s.y,k),X.camera.updateProjectionMatrix()}if(X.map===null){const k={minFilter:un,magFilter:un,format:ui};X.map=new fi(s.x,s.y,k),X.map.texture.name=Q.name+".shadowMap",X.camera.updateProjectionMatrix()}t.setRenderTarget(X.map),t.clear();const z=X.getViewportCount();for(let k=0;k<z;k++){const Y=X.getViewport(k);l.set(o.x*Y.x,o.y*Y.y,o.x*Y.z,o.y*Y.w),J.viewport(l),X.updateMatrices(Q,k),i=X.getFrustum(),C(E,N,X.camera,Q,this.type)}!X.isPointLightShadow&&this.type===ol&&S(X,N),X.needsUpdate=!1}M.needsUpdate=!1,t.setRenderTarget(P,j,se)};function S(R,E){const N=e.update(x);p.uniforms.shadow_pass.value=R.map.texture,p.uniforms.resolution.value=R.mapSize,p.uniforms.radius.value=R.radius,t.setRenderTarget(R.mapPass),t.clear(),t.renderBufferDirect(E,null,N,p,x,null),g.uniforms.shadow_pass.value=R.mapPass.texture,g.uniforms.resolution.value=R.mapSize,g.uniforms.radius.value=R.radius,t.setRenderTarget(R.map),t.clear(),t.renderBufferDirect(E,null,N,g,x,null)}function _(R,E,N){const P=R<<0|E<<1|N<<2;let j=u[P];return j===void 0&&(j=new ks({depthPacking:kR,morphTargets:R,skinning:E}),u[P]=j),j}function w(R,E,N){const P=R<<0|E<<1|N<<2;let j=h[P];return j===void 0&&(j=new js({morphTargets:R,skinning:E}),h[P]=j),j}function T(R,E,N,P,j,se,J){let K=null,ae=_,Q=R.customDepthMaterial;if(P.isPointLight===!0&&(ae=w,Q=R.customDistanceMaterial),Q===void 0){let X=!1;N.morphTargets===!0&&(X=E.morphAttributes&&E.morphAttributes.position&&E.morphAttributes.position.length>0);let H=!1;R.isSkinnedMesh===!0&&(N.skinning===!0?H=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",R));const z=R.isInstancedMesh===!0;K=ae(X,H,z)}else K=Q;if(t.localClippingEnabled&&N.clipShadows===!0&&N.clippingPlanes.length!==0){const X=K.uuid,H=N.uuid;let z=f[X];z===void 0&&(z={},f[X]=z);let k=z[H];k===void 0&&(k=K.clone(),z[H]=k),K=k}return K.visible=N.visible,K.wireframe=N.wireframe,J===ol?K.side=N.shadowSide!==null?N.shadowSide:N.side:K.side=N.shadowSide!==null?N.shadowSide:m[N.side],K.clipShadows=N.clipShadows,K.clippingPlanes=N.clippingPlanes,K.clipIntersection=N.clipIntersection,K.wireframeLinewidth=N.wireframeLinewidth,K.linewidth=N.linewidth,P.isPointLight===!0&&K.isMeshDistanceMaterial===!0&&(K.referencePosition.setFromMatrixPosition(P.matrixWorld),K.nearDistance=j,K.farDistance=se),K}function C(R,E,N,P,j){if(R.visible===!1)return;if(R.layers.test(E.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&j===ol)&&(!R.frustumCulled||i.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,R.matrixWorld);const K=e.update(R),ae=R.material;if(Array.isArray(ae)){const Q=K.groups;for(let X=0,H=Q.length;X<H;X++){const z=Q[X],k=ae[z.materialIndex];if(k&&k.visible){const Y=T(R,K,k,P,N.near,N.far,j);t.renderBufferDirect(N,null,K,Y,R,z)}}}else if(ae.visible){const Q=T(R,K,ae,P,N.near,N.far,j);t.renderBufferDirect(N,null,K,Q,R,null)}}const J=R.children;for(let K=0,ae=J.length;K<ae;K++)C(J[K],E,N,P,j)}}function JH(t,e,n){const i=n.isWebGL2;function s(){let Z=!1;const Re=new Et;let Pe=null;const ke=new Et(0,0,0,0);return{setMask:function(Ne){Pe!==Ne&&!Z&&(t.colorMask(Ne,Ne,Ne,Ne),Pe=Ne)},setLocked:function(Ne){Z=Ne},setClear:function(Ne,He,Ie,Je,Be){Be===!0&&(Ne*=Je,He*=Je,Ie*=Je),Re.set(Ne,He,Ie,Je),ke.equals(Re)===!1&&(t.clearColor(Ne,He,Ie,Je),ke.copy(Re))},reset:function(){Z=!1,Pe=null,ke.set(-1,0,0,0)}}}function o(){let Z=!1,Re=null,Pe=null,ke=null;return{setTest:function(Ne){Ne?D(2929):V(2929)},setMask:function(Ne){Re!==Ne&&!Z&&(t.depthMask(Ne),Re=Ne)},setFunc:function(Ne){if(Pe!==Ne){if(Ne)switch(Ne){case D2:t.depthFunc(512);break;case N2:t.depthFunc(519);break;case O2:t.depthFunc(513);break;case Xd:t.depthFunc(515);break;case P2:t.depthFunc(514);break;case B2:t.depthFunc(518);break;case z2:t.depthFunc(516);break;case U2:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);Pe=Ne}},setLocked:function(Ne){Z=Ne},setClear:function(Ne){ke!==Ne&&(t.clearDepth(Ne),ke=Ne)},reset:function(){Z=!1,Re=null,Pe=null,ke=null}}}function l(){let Z=!1,Re=null,Pe=null,ke=null,Ne=null,He=null,Ie=null,Je=null,Be=null;return{setTest:function(Ke){Z||(Ke?D(2960):V(2960))},setMask:function(Ke){Re!==Ke&&!Z&&(t.stencilMask(Ke),Re=Ke)},setFunc:function(Ke,Pt,Sn){(Pe!==Ke||ke!==Pt||Ne!==Sn)&&(t.stencilFunc(Ke,Pt,Sn),Pe=Ke,ke=Pt,Ne=Sn)},setOp:function(Ke,Pt,Sn){(He!==Ke||Ie!==Pt||Je!==Sn)&&(t.stencilOp(Ke,Pt,Sn),He=Ke,Ie=Pt,Je=Sn)},setLocked:function(Ke){Z=Ke},setClear:function(Ke){Be!==Ke&&(t.clearStencil(Ke),Be=Ke)},reset:function(){Z=!1,Re=null,Pe=null,ke=null,Ne=null,He=null,Ie=null,Je=null,Be=null}}}const u=new s,h=new o,f=new l;let m={},p=null,g=null,y=null,x=null,M=null,S=null,_=null,w=null,T=null,C=!1,R=null,E=null,N=null,P=null,j=null;const se=t.getParameter(35661);let J=!1,K=0;const ae=t.getParameter(7938);ae.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(ae)[1]),J=K>=1):ae.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(ae)[1]),J=K>=2);let Q=null,X={};const H=new Et,z=new Et;function k(Z,Re,Pe){const ke=new Uint8Array(4),Ne=t.createTexture();t.bindTexture(Z,Ne),t.texParameteri(Z,10241,9728),t.texParameteri(Z,10240,9728);for(let He=0;He<Pe;He++)t.texImage2D(Re+He,0,6408,1,1,0,6408,5121,ke);return Ne}const Y={};Y[3553]=k(3553,3553,1),Y[34067]=k(34067,34069,6),u.setClear(0,0,0,1),h.setClear(1),f.setClear(0),D(2929),h.setFunc(Xd),be(!1),Se(j0),D(2884),ne(jr);function D(Z){m[Z]!==!0&&(t.enable(Z),m[Z]=!0)}function V(Z){m[Z]!==!1&&(t.disable(Z),m[Z]=!1)}function ee(Z){return p!==Z?(t.useProgram(Z),p=Z,!0):!1}const te={[Ta]:32774,[b2]:32778,[_2]:32779};if(i)te[Y0]=32775,te[Z0]=32776;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(te[Y0]=Z.MIN_EXT,te[Z0]=Z.MAX_EXT)}const fe={[w2]:0,[M2]:1,[S2]:768,[Sx]:770,[L2]:776,[R2]:774,[E2]:772,[T2]:769,[Tx]:771,[C2]:775,[A2]:773};function ne(Z,Re,Pe,ke,Ne,He,Ie,Je){if(Z===jr){g&&(V(3042),g=!1);return}if(g||(D(3042),g=!0),Z!==x2){if(Z!==y||Je!==C){if((x!==Ta||_!==Ta)&&(t.blendEquation(32774),x=Ta,_=Ta),Je)switch(Z){case hl:t.blendFuncSeparate(1,771,1,771);break;case W0:t.blendFunc(1,1);break;case q0:t.blendFuncSeparate(0,0,769,771);break;case X0:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case hl:t.blendFuncSeparate(770,771,1,771);break;case W0:t.blendFunc(770,1);break;case q0:t.blendFunc(0,769);break;case X0:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}M=null,S=null,w=null,T=null,y=Z,C=Je}return}Ne=Ne||Re,He=He||Pe,Ie=Ie||ke,(Re!==x||Ne!==_)&&(t.blendEquationSeparate(te[Re],te[Ne]),x=Re,_=Ne),(Pe!==M||ke!==S||He!==w||Ie!==T)&&(t.blendFuncSeparate(fe[Pe],fe[ke],fe[He],fe[Ie]),M=Pe,S=ke,w=He,T=Ie),y=Z,C=null}function Ce(Z,Re){Z.side===of?V(2884):D(2884);let Pe=Z.side===cn;Re&&(Pe=!Pe),be(Pe),Z.blending===hl&&Z.transparent===!1?ne(jr):ne(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.premultipliedAlpha),h.setFunc(Z.depthFunc),h.setTest(Z.depthTest),h.setMask(Z.depthWrite),u.setMask(Z.colorWrite);const ke=Z.stencilWrite;f.setTest(ke),ke&&(f.setMask(Z.stencilWriteMask),f.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),f.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),Te(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits)}function be(Z){R!==Z&&(Z?t.frontFace(2304):t.frontFace(2305),R=Z)}function Se(Z){Z!==g2?(D(2884),Z!==E&&(Z===j0?t.cullFace(1029):Z===y2?t.cullFace(1028):t.cullFace(1032))):V(2884),E=Z}function ye(Z){Z!==N&&(J&&t.lineWidth(Z),N=Z)}function Te(Z,Re,Pe){Z?(D(32823),(P!==Re||j!==Pe)&&(t.polygonOffset(Re,Pe),P=Re,j=Pe)):V(32823)}function Le(Z){Z?D(3089):V(3089)}function he(Z){Z===void 0&&(Z=33984+se-1),Q!==Z&&(t.activeTexture(Z),Q=Z)}function xe(Z,Re){Q===null&&he();let Pe=X[Q];Pe===void 0&&(Pe={type:void 0,texture:void 0},X[Q]=Pe),(Pe.type!==Z||Pe.texture!==Re)&&(t.bindTexture(Z,Re||Y[Z]),Pe.type=Z,Pe.texture=Re)}function we(){const Z=X[Q];Z!==void 0&&Z.type!==void 0&&(t.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function Fe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function De(){try{t.texImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function I(){try{t.texImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function U(Z){H.equals(Z)===!1&&(t.scissor(Z.x,Z.y,Z.z,Z.w),H.copy(Z))}function Ee(Z){z.equals(Z)===!1&&(t.viewport(Z.x,Z.y,Z.z,Z.w),z.copy(Z))}function Me(){m={},Q=null,X={},p=null,g=null,y=null,x=null,M=null,S=null,_=null,w=null,T=null,C=!1,R=null,E=null,N=null,P=null,j=null,u.reset(),h.reset(),f.reset()}return{buffers:{color:u,depth:h,stencil:f},enable:D,disable:V,useProgram:ee,setBlending:ne,setMaterial:Ce,setFlipSided:be,setCullFace:Se,setLineWidth:ye,setPolygonOffset:Te,setScissorTest:Le,activeTexture:he,bindTexture:xe,unbindTexture:we,compressedTexImage2D:Fe,texImage2D:De,texImage3D:I,scissor:U,viewport:Ee,reset:Me}}function QH(t,e,n,i,s,o,l){const u=s.isWebGL2,h=s.maxTextures,f=s.maxCubemapSize,m=s.maxTextureSize,p=s.maxSamples,g=new WeakMap;let y,x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(I,U){return x?new OffscreenCanvas(I,U):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function S(I,U,Ee,Me){let Z=1;if((I.width>Me||I.height>Me)&&(Z=Me/Math.max(I.width,I.height)),Z<1||U===!0)if(typeof HTMLImageElement<"u"&&I instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&I instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&I instanceof ImageBitmap){const Re=U?it.floorPowerOfTwo:Math.floor,Pe=Re(Z*I.width),ke=Re(Z*I.height);y===void 0&&(y=M(Pe,ke));const Ne=Ee?M(Pe,ke):y;return Ne.width=Pe,Ne.height=ke,Ne.getContext("2d").drawImage(I,0,0,Pe,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+I.width+"x"+I.height+") to ("+Pe+"x"+ke+")."),Ne}else return"data"in I&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+I.width+"x"+I.height+")."),I;return I}function _(I){return it.isPowerOfTwo(I.width)&&it.isPowerOfTwo(I.height)}function w(I){return u?!1:I.wrapS!==Un||I.wrapT!==Un||I.minFilter!==un&&I.minFilter!==mn}function T(I,U){return I.generateMipmaps&&U&&I.minFilter!==un&&I.minFilter!==mn}function C(I,U,Ee,Me){t.generateMipmap(I);const Z=i.get(U);Z.__maxMipLevel=Math.log(Math.max(Ee,Me))*Math.LOG2E}function R(I,U,Ee){if(u===!1)return U;if(I!==null){if(t[I]!==void 0)return t[I];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+I+"'")}let Me=U;return U===6403&&(Ee===5126&&(Me=33326),Ee===5131&&(Me=33325),Ee===5121&&(Me=33321)),U===6407&&(Ee===5126&&(Me=34837),Ee===5131&&(Me=34843),Ee===5121&&(Me=32849)),U===6408&&(Ee===5126&&(Me=34836),Ee===5131&&(Me=34842),Ee===5121&&(Me=32856)),(Me===33325||Me===33326||Me===34842||Me===34836)&&e.get("EXT_color_buffer_float"),Me}function E(I){return I===un||I===Jd||I===Qd?9728:9729}function N(I){const U=I.target;U.removeEventListener("dispose",N),j(U),U.isVideoTexture&&g.delete(U),l.memory.textures--}function P(I){const U=I.target;U.removeEventListener("dispose",P),se(U),l.memory.textures--}function j(I){const U=i.get(I);U.__webglInit!==void 0&&(t.deleteTexture(U.__webglTexture),i.remove(I))}function se(I){const U=i.get(I),Ee=i.get(I.texture);if(I){if(Ee.__webglTexture!==void 0&&t.deleteTexture(Ee.__webglTexture),I.depthTexture&&I.depthTexture.dispose(),I.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++)t.deleteFramebuffer(U.__webglFramebuffer[Me]),U.__webglDepthbuffer&&t.deleteRenderbuffer(U.__webglDepthbuffer[Me]);else t.deleteFramebuffer(U.__webglFramebuffer),U.__webglDepthbuffer&&t.deleteRenderbuffer(U.__webglDepthbuffer),U.__webglMultisampledFramebuffer&&t.deleteFramebuffer(U.__webglMultisampledFramebuffer),U.__webglColorRenderbuffer&&t.deleteRenderbuffer(U.__webglColorRenderbuffer),U.__webglDepthRenderbuffer&&t.deleteRenderbuffer(U.__webglDepthRenderbuffer);i.remove(I.texture),i.remove(I)}}let J=0;function K(){J=0}function ae(){const I=J;return I>=h&&console.warn("THREE.WebGLTextures: Trying to use "+I+" texture units while this GPU supports only "+h),J+=1,I}function Q(I,U){const Ee=i.get(I);if(I.isVideoTexture&&he(I),I.version>0&&Ee.__version!==I.version){const Me=I.image;if(Me===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ee(Ee,I,U);return}}n.activeTexture(33984+U),n.bindTexture(3553,Ee.__webglTexture)}function X(I,U){const Ee=i.get(I);if(I.version>0&&Ee.__version!==I.version){ee(Ee,I,U);return}n.activeTexture(33984+U),n.bindTexture(35866,Ee.__webglTexture)}function H(I,U){const Ee=i.get(I);if(I.version>0&&Ee.__version!==I.version){ee(Ee,I,U);return}n.activeTexture(33984+U),n.bindTexture(32879,Ee.__webglTexture)}function z(I,U){const Ee=i.get(I);if(I.version>0&&Ee.__version!==I.version){te(Ee,I,U);return}n.activeTexture(33984+U),n.bindTexture(34067,Ee.__webglTexture)}const k={[Mu]:10497,[Un]:33071,[Su]:33648},Y={[un]:9728,[Jd]:9984,[Qd]:9986,[mn]:9729,[Ex]:9985,[Ul]:9987};function D(I,U,Ee){Ee?(t.texParameteri(I,10242,k[U.wrapS]),t.texParameteri(I,10243,k[U.wrapT]),(I===32879||I===35866)&&t.texParameteri(I,32882,k[U.wrapR]),t.texParameteri(I,10240,Y[U.magFilter]),t.texParameteri(I,10241,Y[U.minFilter])):(t.texParameteri(I,10242,33071),t.texParameteri(I,10243,33071),(I===32879||I===35866)&&t.texParameteri(I,32882,33071),(U.wrapS!==Un||U.wrapT!==Un)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(I,10240,E(U.magFilter)),t.texParameteri(I,10241,E(U.minFilter)),U.minFilter!==un&&U.minFilter!==mn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const Me=e.get("EXT_texture_filter_anisotropic");if(Me){if(U.type===Vr&&e.get("OES_texture_float_linear")===null||U.type===Eu&&(u||e.get("OES_texture_half_float_linear"))===null)return;(U.anisotropy>1||i.get(U).__currentAnisotropy)&&(t.texParameterf(I,Me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,s.getMaxAnisotropy())),i.get(U).__currentAnisotropy=U.anisotropy)}}function V(I,U){I.__webglInit===void 0&&(I.__webglInit=!0,U.addEventListener("dispose",N),I.__webglTexture=t.createTexture(),l.memory.textures++)}function ee(I,U,Ee){let Me=3553;U.isDataTexture2DArray&&(Me=35866),U.isDataTexture3D&&(Me=32879),V(I,U),n.activeTexture(33984+Ee),n.bindTexture(Me,I.__webglTexture),t.pixelStorei(37440,U.flipY),t.pixelStorei(37441,U.premultiplyAlpha),t.pixelStorei(3317,U.unpackAlignment);const Z=w(U)&&_(U.image)===!1,Re=S(U.image,Z,!1,m),Pe=_(Re)||u,ke=o.convert(U.format);let Ne=o.convert(U.type),He=R(U.internalFormat,ke,Ne);D(Me,U,Pe);let Ie;const Je=U.mipmaps;if(U.isDepthTexture)He=6402,u?U.type===Vr?He=36012:U.type===cu?He=33190:U.type===dl?He=35056:He=33189:U.type===Vr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===Pa&&He===6402&&U.type!==Tu&&U.type!==cu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=Tu,Ne=o.convert(U.type)),U.format===yl&&He===6402&&(He=34041,U.type!==dl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=dl,Ne=o.convert(U.type))),n.texImage2D(3553,0,He,Re.width,Re.height,0,ke,Ne,null);else if(U.isDataTexture)if(Je.length>0&&Pe){for(let Be=0,Ke=Je.length;Be<Ke;Be++)Ie=Je[Be],n.texImage2D(3553,Be,He,Ie.width,Ie.height,0,ke,Ne,Ie.data);U.generateMipmaps=!1,I.__maxMipLevel=Je.length-1}else n.texImage2D(3553,0,He,Re.width,Re.height,0,ke,Ne,Re.data),I.__maxMipLevel=0;else if(U.isCompressedTexture){for(let Be=0,Ke=Je.length;Be<Ke;Be++)Ie=Je[Be],U.format!==ui&&U.format!==Us?ke!==null?n.compressedTexImage2D(3553,Be,He,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,Be,He,Ie.width,Ie.height,0,ke,Ne,Ie.data);I.__maxMipLevel=Je.length-1}else if(U.isDataTexture2DArray)n.texImage3D(35866,0,He,Re.width,Re.height,Re.depth,0,ke,Ne,Re.data),I.__maxMipLevel=0;else if(U.isDataTexture3D)n.texImage3D(32879,0,He,Re.width,Re.height,Re.depth,0,ke,Ne,Re.data),I.__maxMipLevel=0;else if(Je.length>0&&Pe){for(let Be=0,Ke=Je.length;Be<Ke;Be++)Ie=Je[Be],n.texImage2D(3553,Be,He,ke,Ne,Ie);U.generateMipmaps=!1,I.__maxMipLevel=Je.length-1}else n.texImage2D(3553,0,He,ke,Ne,Re),I.__maxMipLevel=0;T(U,Pe)&&C(Me,U,Re.width,Re.height),I.__version=U.version,U.onUpdate&&U.onUpdate(U)}function te(I,U,Ee){if(U.image.length!==6)return;V(I,U),n.activeTexture(33984+Ee),n.bindTexture(34067,I.__webglTexture),t.pixelStorei(37440,U.flipY);const Me=U&&(U.isCompressedTexture||U.image[0].isCompressedTexture),Z=U.image[0]&&U.image[0].isDataTexture,Re=[];for(let Be=0;Be<6;Be++)!Me&&!Z?Re[Be]=S(U.image[Be],!1,!0,f):Re[Be]=Z?U.image[Be].image:U.image[Be];const Pe=Re[0],ke=_(Pe)||u,Ne=o.convert(U.format),He=o.convert(U.type),Ie=R(U.internalFormat,Ne,He);D(34067,U,ke);let Je;if(Me){for(let Be=0;Be<6;Be++){Je=Re[Be].mipmaps;for(let Ke=0;Ke<Je.length;Ke++){const Pt=Je[Ke];U.format!==ui&&U.format!==Us?Ne!==null?n.compressedTexImage2D(34069+Be,Ke,Ie,Pt.width,Pt.height,0,Pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+Be,Ke,Ie,Pt.width,Pt.height,0,Ne,He,Pt.data)}}I.__maxMipLevel=Je.length-1}else{Je=U.mipmaps;for(let Be=0;Be<6;Be++)if(Z){n.texImage2D(34069+Be,0,Ie,Re[Be].width,Re[Be].height,0,Ne,He,Re[Be].data);for(let Ke=0;Ke<Je.length;Ke++){const Sn=Je[Ke].image[Be].image;n.texImage2D(34069+Be,Ke+1,Ie,Sn.width,Sn.height,0,Ne,He,Sn.data)}}else{n.texImage2D(34069+Be,0,Ie,Ne,He,Re[Be]);for(let Ke=0;Ke<Je.length;Ke++){const Pt=Je[Ke];n.texImage2D(34069+Be,Ke+1,Ie,Ne,He,Pt.image[Be])}}I.__maxMipLevel=Je.length}T(U,ke)&&C(34067,U,Pe.width,Pe.height),I.__version=U.version,U.onUpdate&&U.onUpdate(U)}function fe(I,U,Ee,Me){const Z=o.convert(U.texture.format),Re=o.convert(U.texture.type),Pe=R(U.texture.internalFormat,Z,Re);n.texImage2D(Me,0,Pe,U.width,U.height,0,Z,Re,null),t.bindFramebuffer(36160,I),t.framebufferTexture2D(36160,Ee,Me,i.get(U.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function ne(I,U,Ee){if(t.bindRenderbuffer(36161,I),U.depthBuffer&&!U.stencilBuffer){let Me=33189;if(Ee){const Z=U.depthTexture;Z&&Z.isDepthTexture&&(Z.type===Vr?Me=36012:Z.type===cu&&(Me=33190));const Re=Le(U);t.renderbufferStorageMultisample(36161,Re,Me,U.width,U.height)}else t.renderbufferStorage(36161,Me,U.width,U.height);t.framebufferRenderbuffer(36160,36096,36161,I)}else if(U.depthBuffer&&U.stencilBuffer){if(Ee){const Me=Le(U);t.renderbufferStorageMultisample(36161,Me,35056,U.width,U.height)}else t.renderbufferStorage(36161,34041,U.width,U.height);t.framebufferRenderbuffer(36160,33306,36161,I)}else{const Me=o.convert(U.texture.format),Z=o.convert(U.texture.type),Re=R(U.texture.internalFormat,Me,Z);if(Ee){const Pe=Le(U);t.renderbufferStorageMultisample(36161,Pe,Re,U.width,U.height)}else t.renderbufferStorage(36161,Re,U.width,U.height)}t.bindRenderbuffer(36161,null)}function Ce(I,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,I),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),Q(U.depthTexture,0);const Me=i.get(U.depthTexture).__webglTexture;if(U.depthTexture.format===Pa)t.framebufferTexture2D(36160,36096,3553,Me,0);else if(U.depthTexture.format===yl)t.framebufferTexture2D(36160,33306,3553,Me,0);else throw new Error("Unknown depthTexture format")}function be(I){const U=i.get(I),Ee=I.isWebGLCubeRenderTarget===!0;if(I.depthTexture){if(Ee)throw new Error("target.depthTexture not supported in Cube render targets");Ce(U.__webglFramebuffer,I)}else if(Ee){U.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)t.bindFramebuffer(36160,U.__webglFramebuffer[Me]),U.__webglDepthbuffer[Me]=t.createRenderbuffer(),ne(U.__webglDepthbuffer[Me],I,!1)}else t.bindFramebuffer(36160,U.__webglFramebuffer),U.__webglDepthbuffer=t.createRenderbuffer(),ne(U.__webglDepthbuffer,I,!1);t.bindFramebuffer(36160,null)}function Se(I){const U=i.get(I),Ee=i.get(I.texture);I.addEventListener("dispose",P),Ee.__webglTexture=t.createTexture(),l.memory.textures++;const Me=I.isWebGLCubeRenderTarget===!0,Z=I.isWebGLMultisampleRenderTarget===!0,Re=_(I)||u;if(u&&I.texture.format===Us&&(I.texture.type===Vr||I.texture.type===Eu)&&(I.texture.format=ui,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Me){U.__webglFramebuffer=[];for(let Pe=0;Pe<6;Pe++)U.__webglFramebuffer[Pe]=t.createFramebuffer()}else if(U.__webglFramebuffer=t.createFramebuffer(),Z)if(u){U.__webglMultisampledFramebuffer=t.createFramebuffer(),U.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,U.__webglColorRenderbuffer);const Pe=o.convert(I.texture.format),ke=o.convert(I.texture.type),Ne=R(I.texture.internalFormat,Pe,ke),He=Le(I);t.renderbufferStorageMultisample(36161,He,Ne,I.width,I.height),t.bindFramebuffer(36160,U.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,U.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),I.depthBuffer&&(U.__webglDepthRenderbuffer=t.createRenderbuffer(),ne(U.__webglDepthRenderbuffer,I,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Me){n.bindTexture(34067,Ee.__webglTexture),D(34067,I.texture,Re);for(let Pe=0;Pe<6;Pe++)fe(U.__webglFramebuffer[Pe],I,36064,34069+Pe);T(I.texture,Re)&&C(34067,I.texture,I.width,I.height),n.bindTexture(34067,null)}else n.bindTexture(3553,Ee.__webglTexture),D(3553,I.texture,Re),fe(U.__webglFramebuffer,I,36064,3553),T(I.texture,Re)&&C(3553,I.texture,I.width,I.height),n.bindTexture(3553,null);I.depthBuffer&&be(I)}function ye(I){const U=I.texture,Ee=_(I)||u;if(T(U,Ee)){const Me=I.isWebGLCubeRenderTarget?34067:3553,Z=i.get(U).__webglTexture;n.bindTexture(Me,Z),C(Me,U,I.width,I.height),n.bindTexture(Me,null)}}function Te(I){if(I.isWebGLMultisampleRenderTarget)if(u){const U=i.get(I);t.bindFramebuffer(36008,U.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,U.__webglFramebuffer);const Ee=I.width,Me=I.height;let Z=16384;I.depthBuffer&&(Z|=256),I.stencilBuffer&&(Z|=1024),t.blitFramebuffer(0,0,Ee,Me,0,0,Ee,Me,Z,9728),t.bindFramebuffer(36160,U.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Le(I){return u&&I.isWebGLMultisampleRenderTarget?Math.min(p,I.samples):0}function he(I){const U=l.render.frame;g.get(I)!==U&&(g.set(I,U),I.update())}let xe=!1,we=!1;function Fe(I,U){I&&I.isWebGLRenderTarget&&(xe===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),xe=!0),I=I.texture),Q(I,U)}function De(I,U){I&&I.isWebGLCubeRenderTarget&&(we===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),we=!0),I=I.texture),z(I,U)}this.allocateTextureUnit=ae,this.resetTextureUnits=K,this.setTexture2D=Q,this.setTexture2DArray=X,this.setTexture3D=H,this.setTextureCube=z,this.setupRenderTarget=Se,this.updateRenderTargetMipmap=ye,this.updateMultisampleRenderTarget=Te,this.safeSetTexture2D=Fe,this.safeSetTextureCube=De}function s3(t,e,n){const i=n.isWebGL2;function s(o){let l;if(o===Fl)return 5121;if(o===Y2)return 32819;if(o===Z2)return 32820;if(o===J2)return 33635;if(o===W2)return 5120;if(o===q2)return 5122;if(o===Tu)return 5123;if(o===X2)return 5124;if(o===cu)return 5125;if(o===Vr)return 5126;if(o===Eu)return i?5131:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(o===Q2)return 6406;if(o===Us)return 6407;if(o===ui)return 6408;if(o===K2)return 6409;if(o===$2)return 6410;if(o===Pa)return 6402;if(o===yl)return 34041;if(o===tR)return 6403;if(o===nR)return 36244;if(o===iR)return 33319;if(o===rR)return 33320;if(o===sR)return 36248;if(o===aR)return 36249;if(o===J0||o===Q0||o===K0||o===$0)if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(o===J0)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Q0)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===K0)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===$0)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===ev||o===tv||o===nv||o===iv)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(o===ev)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===tv)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===nv)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===iv)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===oR)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===rv||o===sv)&&(l=e.get("WEBGL_compressed_texture_etc"),l!==null)){if(o===rv)return l.COMPRESSED_RGB8_ETC2;if(o===sv)return l.COMPRESSED_RGBA8_ETC2_EAC}if(o===lR||o===cR||o===uR||o===fR||o===hR||o===dR||o===pR||o===mR||o===gR||o===yR||o===vR||o===xR||o===bR||o===_R||o===MR||o===SR||o===TR||o===ER||o===AR||o===RR||o===CR||o===LR||o===DR||o===NR||o===OR||o===PR||o===BR||o===zR)return l=e.get("WEBGL_compressed_texture_astc"),l!==null?o:null;if(o===wR)return l=e.get("EXT_texture_compression_bptc"),l!==null?o:null;if(o===dl)return i?34042:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:s}}function Kd(t=[]){an.call(this),this.cameras=t}Kd.prototype=Object.assign(Object.create(an.prototype),{constructor:Kd,isArrayCamera:!0});function zs(){Ge.call(this),this.type="Group"}zs.prototype=Object.assign(Object.create(Ge.prototype),{constructor:zs,isGroup:!0});function hu(){this._targetRay=null,this._grip=null,this._hand=null}Object.assign(hu.prototype,{constructor:hu,getHandSpace:function(){if(this._hand===null&&(this._hand=new zs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){const e=new zs;e.matrixAutoUpdate=!1,e.visible=!1,this._hand.joints.push(e),this._hand.add(e)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new zs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new zs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(t,e,n){let i=null,s=null,o=null;const l=this._targetRay,u=this._grip,h=this._hand;if(t&&e.session.visibilityState!=="visible-blurred")if(h&&t.hand){o=!0;for(let f=0;f<=window.XRHand.LITTLE_PHALANX_TIP;f++)if(t.hand[f]){const m=e.getJointPose(t.hand[f],n),p=h.joints[f];m!==null&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=m.radius),p.visible=m!==null;const g=h.joints[window.XRHand.INDEX_PHALANX_TIP],y=h.joints[window.XRHand.THUMB_PHALANX_TIP],x=g.position.distanceTo(y.position),M=.02,S=.005;h.inputState.pinching&&x>M+S?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!h.inputState.pinching&&x<=M-S&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else l!==null&&(i=e.getPose(t.targetRaySpace,n),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale))),u!==null&&t.gripSpace&&(s=e.getPose(t.gripSpace,n),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale)));return l!==null&&(l.visible=i!==null),u!==null&&(u.visible=s!==null),h!==null&&(h.visible=o!==null),this}});function a3(t,e){const n=this;let i=null,s=1,o=null,l="local-floor",u=null;const h=[],f=new Map,m=new an;m.layers.enable(1),m.viewport=new Et;const p=new an;p.layers.enable(2),p.viewport=new Et;const g=[m,p],y=new Kd;y.layers.enable(1),y.layers.enable(2);let x=null,M=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let K=h[J];return K===void 0&&(K=new hu,h[J]=K),K.getTargetRaySpace()},this.getControllerGrip=function(J){let K=h[J];return K===void 0&&(K=new hu,h[J]=K),K.getGripSpace()},this.getHand=function(J){let K=h[J];return K===void 0&&(K=new hu,h[J]=K),K.getHandSpace()};function S(J){const K=f.get(J.inputSource);K&&K.dispatchEvent({type:J.type,data:J.inputSource})}function _(){f.forEach(function(J,K){J.disconnect(K)}),f.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),se.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function w(J){o=J,se.setContext(i),se.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(J){s=J,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){l=J,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(J){if(i=J,i!==null){i.addEventListener("select",S),i.addEventListener("selectstart",S),i.addEventListener("selectend",S),i.addEventListener("squeeze",S),i.addEventListener("squeezestart",S),i.addEventListener("squeezeend",S),i.addEventListener("end",_);const K=e.getContextAttributes();K.xrCompatible!==!0&&e.makeXRCompatible();const ae={antialias:K.antialias,alpha:K.alpha,depth:K.depth,stencil:K.stencil,framebufferScaleFactor:s},Q=new XRWebGLLayer(i,e,ae);i.updateRenderState({baseLayer:Q}),i.requestReferenceSpace(l).then(w),i.addEventListener("inputsourceschange",T)}};function T(J){const K=i.inputSources;for(let ae=0;ae<h.length;ae++)f.set(K[ae],h[ae]);for(let ae=0;ae<J.removed.length;ae++){const Q=J.removed[ae],X=f.get(Q);X&&(X.dispatchEvent({type:"disconnected",data:Q}),f.delete(Q))}for(let ae=0;ae<J.added.length;ae++){const Q=J.added[ae],X=f.get(Q);X&&X.dispatchEvent({type:"connected",data:Q})}}const C=new O,R=new O;function E(J,K,ae){C.setFromMatrixPosition(K.matrixWorld),R.setFromMatrixPosition(ae.matrixWorld);const Q=C.distanceTo(R),X=K.projectionMatrix.elements,H=ae.projectionMatrix.elements,z=X[14]/(X[10]-1),k=X[14]/(X[10]+1),Y=(X[9]+1)/X[5],D=(X[9]-1)/X[5],V=(X[8]-1)/X[0],ee=(H[8]+1)/H[0],te=z*V,fe=z*ee,ne=Q/(-V+ee),Ce=ne*-V;K.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Ce),J.translateZ(ne),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert();const be=z+ne,Se=k+ne,ye=te-Ce,Te=fe+(Q-Ce),Le=Y*k/Se*be,he=D*k/Se*be;J.projectionMatrix.makePerspective(ye,Te,Le,he,be,Se)}function N(J,K){K===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(K.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.getCamera=function(J){y.near=p.near=m.near=J.near,y.far=p.far=m.far=J.far,(x!==y.near||M!==y.far)&&(i.updateRenderState({depthNear:y.near,depthFar:y.far}),x=y.near,M=y.far);const K=J.parent,ae=y.cameras;N(y,K);for(let X=0;X<ae.length;X++)N(ae[X],K);J.matrixWorld.copy(y.matrixWorld);const Q=J.children;for(let X=0,H=Q.length;X<H;X++)Q[X].updateMatrixWorld(!0);return ae.length===2?E(y,m,p):y.projectionMatrix.copy(m.projectionMatrix),y};let P=null;function j(J,K){if(u=K.getViewerPose(o),u!==null){const Q=u.views,X=i.renderState.baseLayer;t.setFramebuffer(X.framebuffer);let H=!1;Q.length!==y.cameras.length&&(y.cameras.length=0,H=!0);for(let z=0;z<Q.length;z++){const k=Q[z],Y=X.getViewport(k),D=g[z];D.matrix.fromArray(k.transform.matrix),D.projectionMatrix.fromArray(k.projectionMatrix),D.viewport.set(Y.x,Y.y,Y.width,Y.height),z===0&&y.matrix.copy(D.matrix),H===!0&&y.cameras.push(D)}}const ae=i.inputSources;for(let Q=0;Q<h.length;Q++){const X=h[Q],H=ae[Q];X.update(H,K,o)}P&&P(J,K)}const se=new JR;se.setAnimationLoop(j),this.setAnimationLoop=function(J){P=J},this.dispose=function(){}}Object.assign(a3.prototype,vr.prototype);function KH(t){function e(_,w){_.fogColor.value.copy(w.color),w.isFog?(_.fogNear.value=w.near,_.fogFar.value=w.far):w.isFogExp2&&(_.fogDensity.value=w.density)}function n(_,w,T,C){w.isMeshBasicMaterial?i(_,w):w.isMeshLambertMaterial?(i(_,w),h(_,w)):w.isMeshToonMaterial?(i(_,w),m(_,w)):w.isMeshPhongMaterial?(i(_,w),f(_,w)):w.isMeshStandardMaterial?(i(_,w),w.isMeshPhysicalMaterial?g(_,w):p(_,w)):w.isMeshMatcapMaterial?(i(_,w),y(_,w)):w.isMeshDepthMaterial?(i(_,w),x(_,w)):w.isMeshDistanceMaterial?(i(_,w),M(_,w)):w.isMeshNormalMaterial?(i(_,w),S(_,w)):w.isLineBasicMaterial?(s(_,w),w.isLineDashedMaterial&&o(_,w)):w.isPointsMaterial?l(_,w,T,C):w.isSpriteMaterial?u(_,w):w.isShadowMaterial?(_.color.value.copy(w.color),_.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function i(_,w){_.opacity.value=w.opacity,w.color&&_.diffuse.value.copy(w.color),w.emissive&&_.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(_.map.value=w.map),w.alphaMap&&(_.alphaMap.value=w.alphaMap),w.specularMap&&(_.specularMap.value=w.specularMap);const T=t.get(w).envMap;if(T){_.envMap.value=T,_.flipEnvMap.value=T.isCubeTexture&&T._needsFlipEnvMap?-1:1,_.reflectivity.value=w.reflectivity,_.refractionRatio.value=w.refractionRatio;const E=t.get(T).__maxMipLevel;E!==void 0&&(_.maxMipLevel.value=E)}w.lightMap&&(_.lightMap.value=w.lightMap,_.lightMapIntensity.value=w.lightMapIntensity),w.aoMap&&(_.aoMap.value=w.aoMap,_.aoMapIntensity.value=w.aoMapIntensity);let C;w.map?C=w.map:w.specularMap?C=w.specularMap:w.displacementMap?C=w.displacementMap:w.normalMap?C=w.normalMap:w.bumpMap?C=w.bumpMap:w.roughnessMap?C=w.roughnessMap:w.metalnessMap?C=w.metalnessMap:w.alphaMap?C=w.alphaMap:w.emissiveMap?C=w.emissiveMap:w.clearcoatMap?C=w.clearcoatMap:w.clearcoatNormalMap?C=w.clearcoatNormalMap:w.clearcoatRoughnessMap&&(C=w.clearcoatRoughnessMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),_.uvTransform.value.copy(C.matrix));let R;w.aoMap?R=w.aoMap:w.lightMap&&(R=w.lightMap),R!==void 0&&(R.isWebGLRenderTarget&&(R=R.texture),R.matrixAutoUpdate===!0&&R.updateMatrix(),_.uv2Transform.value.copy(R.matrix))}function s(_,w){_.diffuse.value.copy(w.color),_.opacity.value=w.opacity}function o(_,w){_.dashSize.value=w.dashSize,_.totalSize.value=w.dashSize+w.gapSize,_.scale.value=w.scale}function l(_,w,T,C){_.diffuse.value.copy(w.color),_.opacity.value=w.opacity,_.size.value=w.size*T,_.scale.value=C*.5,w.map&&(_.map.value=w.map),w.alphaMap&&(_.alphaMap.value=w.alphaMap);let R;w.map?R=w.map:w.alphaMap&&(R=w.alphaMap),R!==void 0&&(R.matrixAutoUpdate===!0&&R.updateMatrix(),_.uvTransform.value.copy(R.matrix))}function u(_,w){_.diffuse.value.copy(w.color),_.opacity.value=w.opacity,_.rotation.value=w.rotation,w.map&&(_.map.value=w.map),w.alphaMap&&(_.alphaMap.value=w.alphaMap);let T;w.map?T=w.map:w.alphaMap&&(T=w.alphaMap),T!==void 0&&(T.matrixAutoUpdate===!0&&T.updateMatrix(),_.uvTransform.value.copy(T.matrix))}function h(_,w){w.emissiveMap&&(_.emissiveMap.value=w.emissiveMap)}function f(_,w){_.specular.value.copy(w.specular),_.shininess.value=Math.max(w.shininess,1e-4),w.emissiveMap&&(_.emissiveMap.value=w.emissiveMap),w.bumpMap&&(_.bumpMap.value=w.bumpMap,_.bumpScale.value=w.bumpScale,w.side===cn&&(_.bumpScale.value*=-1)),w.normalMap&&(_.normalMap.value=w.normalMap,_.normalScale.value.copy(w.normalScale),w.side===cn&&_.normalScale.value.negate()),w.displacementMap&&(_.displacementMap.value=w.displacementMap,_.displacementScale.value=w.displacementScale,_.displacementBias.value=w.displacementBias)}function m(_,w){w.gradientMap&&(_.gradientMap.value=w.gradientMap),w.emissiveMap&&(_.emissiveMap.value=w.emissiveMap),w.bumpMap&&(_.bumpMap.value=w.bumpMap,_.bumpScale.value=w.bumpScale,w.side===cn&&(_.bumpScale.value*=-1)),w.normalMap&&(_.normalMap.value=w.normalMap,_.normalScale.value.copy(w.normalScale),w.side===cn&&_.normalScale.value.negate()),w.displacementMap&&(_.displacementMap.value=w.displacementMap,_.displacementScale.value=w.displacementScale,_.displacementBias.value=w.displacementBias)}function p(_,w){_.roughness.value=w.roughness,_.metalness.value=w.metalness,w.roughnessMap&&(_.roughnessMap.value=w.roughnessMap),w.metalnessMap&&(_.metalnessMap.value=w.metalnessMap),w.emissiveMap&&(_.emissiveMap.value=w.emissiveMap),w.bumpMap&&(_.bumpMap.value=w.bumpMap,_.bumpScale.value=w.bumpScale,w.side===cn&&(_.bumpScale.value*=-1)),w.normalMap&&(_.normalMap.value=w.normalMap,_.normalScale.value.copy(w.normalScale),w.side===cn&&_.normalScale.value.negate()),w.displacementMap&&(_.displacementMap.value=w.displacementMap,_.displacementScale.value=w.displacementScale,_.displacementBias.value=w.displacementBias),t.get(w).envMap&&(_.envMapIntensity.value=w.envMapIntensity)}function g(_,w){p(_,w),_.reflectivity.value=w.reflectivity,_.clearcoat.value=w.clearcoat,_.clearcoatRoughness.value=w.clearcoatRoughness,w.sheen&&_.sheen.value.copy(w.sheen),w.clearcoatMap&&(_.clearcoatMap.value=w.clearcoatMap),w.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap),w.clearcoatNormalMap&&(_.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),_.clearcoatNormalMap.value=w.clearcoatNormalMap,w.side===cn&&_.clearcoatNormalScale.value.negate()),_.transmission.value=w.transmission,w.transmissionMap&&(_.transmissionMap.value=w.transmissionMap)}function y(_,w){w.matcap&&(_.matcap.value=w.matcap),w.bumpMap&&(_.bumpMap.value=w.bumpMap,_.bumpScale.value=w.bumpScale,w.side===cn&&(_.bumpScale.value*=-1)),w.normalMap&&(_.normalMap.value=w.normalMap,_.normalScale.value.copy(w.normalScale),w.side===cn&&_.normalScale.value.negate()),w.displacementMap&&(_.displacementMap.value=w.displacementMap,_.displacementScale.value=w.displacementScale,_.displacementBias.value=w.displacementBias)}function x(_,w){w.displacementMap&&(_.displacementMap.value=w.displacementMap,_.displacementScale.value=w.displacementScale,_.displacementBias.value=w.displacementBias)}function M(_,w){w.displacementMap&&(_.displacementMap.value=w.displacementMap,_.displacementScale.value=w.displacementScale,_.displacementBias.value=w.displacementBias),_.referencePosition.value.copy(w.referencePosition),_.nearDistance.value=w.nearDistance,_.farDistance.value=w.farDistance}function S(_,w){w.bumpMap&&(_.bumpMap.value=w.bumpMap,_.bumpScale.value=w.bumpScale,w.side===cn&&(_.bumpScale.value*=-1)),w.normalMap&&(_.normalMap.value=w.normalMap,_.normalScale.value.copy(w.normalScale),w.side===cn&&_.normalScale.value.negate()),w.displacementMap&&(_.displacementMap.value=w.displacementMap,_.displacementScale.value=w.displacementScale,_.displacementBias.value=w.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:n}}function $H(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}function gf(t){t=t||{};const e=t.canvas!==void 0?t.canvas:$H(),n=t.context!==void 0?t.context:null,i=t.alpha!==void 0?t.alpha:!1,s=t.depth!==void 0?t.depth:!0,o=t.stencil!==void 0?t.stencil:!0,l=t.antialias!==void 0?t.antialias:!1,u=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,h=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,f=t.powerPreference!==void 0?t.powerPreference:"default",m=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let p=null,g=null;const y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Hn,this.physicallyCorrectLights=!1,this.toneMapping=Oa,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const x=this;let M=!1,S=null,_=0,w=0,T=null,C=null,R=-1,E=null;const N=new Et,P=new Et;let j=null,se=e.width,J=e.height,K=1,ae=null,Q=null;const X=new Et(0,0,se,J),H=new Et(0,0,se,J);let z=!1;const k=new mf;let Y=!1,D=!1;const V=new lt,ee=new O,te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function fe(){return T===null?K:1}let ne=n;function Ce(F,de){for(let ue=0;ue<F.length;ue++){const me=F[ue],Ae=e.getContext(me,de);if(Ae!==null)return Ae}return null}try{const F={alpha:i,depth:s,stencil:o,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:f,failIfMajorPerformanceCaveat:m};if(e.addEventListener("webglcontextlost",Pt,!1),e.addEventListener("webglcontextrestored",Sn,!1),ne===null){const de=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&de.shift(),ne=Ce(de,F),ne===null)throw Ce(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ne.getShaderPrecisionFormat===void 0&&(ne.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let be,Se,ye,Te,Le,he,xe,we,Fe,De,I,U,Ee,Me,Z,Re,Pe,ke,Ne,He,Ie;function Je(){be=new DI(ne),Se=new RI(ne,be,t),Se.isWebGL2===!1&&(be.get("WEBGL_depth_texture"),be.get("OES_texture_float"),be.get("OES_texture_half_float"),be.get("OES_texture_half_float_linear"),be.get("OES_standard_derivatives"),be.get("OES_element_index_uint"),be.get("OES_vertex_array_object"),be.get("ANGLE_instanced_arrays")),be.get("OES_texture_float_linear"),He=new s3(ne,be,Se),ye=new JH(ne,be,Se),ye.scissor(P.copy(H).multiplyScalar(K).floor()),ye.viewport(N.copy(X).multiplyScalar(K).floor()),Te=new PI,Le=new FH,he=new QH(ne,be,ye,Le,Se,He,Te),xe=new LI(x),we=new i5(ne,Se),Ie=new EI(ne,be,we,Se),Fe=new NI(ne,we,Te,Ie),De=new FI(ne,Fe,we,Te),Pe=new UI(ne),Z=new CI(Le),I=new UH(x,xe,be,Se,Ie,Z),U=new KH(Le),Ee=new VH(Le),Me=new XH(be,Se),Re=new TI(x,xe,ye,De,u),ke=new AI(ne,be,Te,Se),Ne=new OI(ne,be,Te,Se),Te.programs=I.programs,x.capabilities=Se,x.extensions=be,x.properties=Le,x.renderLists=Ee,x.state=ye,x.info=Te}Je();const Be=new a3(x,ne);this.xr=Be;const Ke=new r3(x,De,Se.maxTextureSize);this.shadowMap=Ke,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const F=be.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=be.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(F){F!==void 0&&(K=F,this.setSize(se,J,!1))},this.getSize=function(F){return F===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),F=new _e),F.set(se,J)},this.setSize=function(F,de,ue){if(Be.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}se=F,J=de,e.width=Math.floor(F*K),e.height=Math.floor(de*K),ue!==!1&&(e.style.width=F+"px",e.style.height=de+"px"),this.setViewport(0,0,F,de)},this.getDrawingBufferSize=function(F){return F===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),F=new _e),F.set(se*K,J*K).floor()},this.setDrawingBufferSize=function(F,de,ue){se=F,J=de,K=ue,e.width=Math.floor(F*ue),e.height=Math.floor(de*ue),this.setViewport(0,0,F,de)},this.getCurrentViewport=function(F){return F===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),F=new Et),F.copy(N)},this.getViewport=function(F){return F.copy(X)},this.setViewport=function(F,de,ue,me){F.isVector4?X.set(F.x,F.y,F.z,F.w):X.set(F,de,ue,me),ye.viewport(N.copy(X).multiplyScalar(K).floor())},this.getScissor=function(F){return F.copy(H)},this.setScissor=function(F,de,ue,me){F.isVector4?H.set(F.x,F.y,F.z,F.w):H.set(F,de,ue,me),ye.scissor(P.copy(H).multiplyScalar(K).floor())},this.getScissorTest=function(){return z},this.setScissorTest=function(F){ye.setScissorTest(z=F)},this.setOpaqueSort=function(F){ae=F},this.setTransparentSort=function(F){Q=F},this.getClearColor=function(F){return F===void 0&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),F=new Ue),F.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor.apply(Re,arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha.apply(Re,arguments)},this.clear=function(F,de,ue){let me=0;(F===void 0||F)&&(me|=16384),(de===void 0||de)&&(me|=256),(ue===void 0||ue)&&(me|=1024),ne.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Pt,!1),e.removeEventListener("webglcontextrestored",Sn,!1),Ee.dispose(),Me.dispose(),Le.dispose(),xe.dispose(),De.dispose(),Ie.dispose(),Be.dispose(),ns.stop()};function Pt(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function Sn(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1,Je()}function Qs(F){const de=F.target;de.removeEventListener("dispose",Qs),Ka(de)}function Ka(F){Ji(F),Le.remove(F)}function Ji(F){const de=Le.get(F).program;de!==void 0&&I.releaseProgram(de)}function $a(F,de){F.render(function(ue){x.renderBufferImmediate(ue,de)})}this.renderBufferImmediate=function(F,de){Ie.initAttributes();const ue=Le.get(F);F.hasPositions&&!ue.position&&(ue.position=ne.createBuffer()),F.hasNormals&&!ue.normal&&(ue.normal=ne.createBuffer()),F.hasUvs&&!ue.uv&&(ue.uv=ne.createBuffer()),F.hasColors&&!ue.color&&(ue.color=ne.createBuffer());const me=de.getAttributes();F.hasPositions&&(ne.bindBuffer(34962,ue.position),ne.bufferData(34962,F.positionArray,35048),Ie.enableAttribute(me.position),ne.vertexAttribPointer(me.position,3,5126,!1,0,0)),F.hasNormals&&(ne.bindBuffer(34962,ue.normal),ne.bufferData(34962,F.normalArray,35048),Ie.enableAttribute(me.normal),ne.vertexAttribPointer(me.normal,3,5126,!1,0,0)),F.hasUvs&&(ne.bindBuffer(34962,ue.uv),ne.bufferData(34962,F.uvArray,35048),Ie.enableAttribute(me.uv),ne.vertexAttribPointer(me.uv,2,5126,!1,0,0)),F.hasColors&&(ne.bindBuffer(34962,ue.color),ne.bufferData(34962,F.colorArray,35048),Ie.enableAttribute(me.color),ne.vertexAttribPointer(me.color,3,5126,!1,0,0)),Ie.disableUnusedAttributes(),ne.drawArrays(4,0,F.count),F.count=0},this.renderBufferDirect=function(F,de,ue,me,Ae,Ye){de===null&&(de=te);const rt=Ae.isMesh&&Ae.matrixWorld.determinant()<0,ct=Wl(F,de,me,Ae);ye.setMaterial(me,rt);let at=ue.index;const Xt=ue.attributes.position;if(at===null){if(Xt===void 0||Xt.count===0)return}else if(at.count===0)return;let Ft=1;me.wireframe===!0&&(at=Fe.getWireframeAttribute(ue),Ft=2),(me.morphTargets||me.morphNormals)&&Pe.update(Ae,ue,me,ct),Ie.setup(Ae,me,ct,ue,at);let nt,xt=ke;at!==null&&(nt=we.get(at),xt=Ne,xt.setIndex(nt));const Tn=at!==null?at.count:Xt.count,gt=ue.drawRange.start*Ft,Kn=ue.drawRange.count*Ft,Bt=Ye!==null?Ye.start*Ft:0,Yt=Ye!==null?Ye.count*Ft:1/0,gn=Math.max(gt,Bt),rs=Math.min(Tn,gt+Kn,Bt+Yt)-1,kn=Math.max(0,rs-gn+1);if(kn!==0){if(Ae.isMesh)me.wireframe===!0?(ye.setLineWidth(me.wireframeLinewidth*fe()),xt.setMode(1)):xt.setMode(4);else if(Ae.isLine){let mi=me.linewidth;mi===void 0&&(mi=1),ye.setLineWidth(mi*fe()),Ae.isLineSegments?xt.setMode(1):Ae.isLineLoop?xt.setMode(2):xt.setMode(3)}else Ae.isPoints?xt.setMode(0):Ae.isSprite&&xt.setMode(4);if(Ae.isInstancedMesh)xt.renderInstances(gn,kn,Ae.count);else if(ue.isInstancedBufferGeometry){const mi=Math.min(ue.instanceCount,ue._maxInstanceCount);xt.renderInstances(gn,kn,mi)}else xt.render(gn,kn)}},this.compile=function(F,de){g=Me.get(F),g.init(),F.traverseVisible(function(me){me.isLight&&me.layers.test(de.layers)&&(g.pushLight(me),me.castShadow&&g.pushShadow(me))}),g.setupLights();const ue=new WeakMap;F.traverse(function(me){const Ae=me.material;if(Ae)if(Array.isArray(Ae))for(let Ye=0;Ye<Ae.length;Ye++){const rt=Ae[Ye];ue.has(rt)===!1&&(Oi(rt,F,me),ue.set(rt))}else ue.has(Ae)===!1&&(Oi(Ae,F,me),ue.set(Ae))})};let br=null;function Xp(F){Be.isPresenting||br&&br(F)}const ns=new JR;ns.setAnimationLoop(Xp),typeof window<"u"&&ns.setContext(window),this.setAnimationLoop=function(F){br=F,Be.setAnimationLoop(F),F===null?ns.stop():ns.start()},this.render=function(F,de){let ue,me;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),ue=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),me=arguments[3]),de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;Ie.resetDefaultState(),R=-1,E=null,F.autoUpdate===!0&&F.updateMatrixWorld(),de.parent===null&&de.updateMatrixWorld(),Be.enabled===!0&&Be.isPresenting===!0&&(de=Be.getCamera(de)),F.isScene===!0&&F.onBeforeRender(x,F,de,ue||T),g=Me.get(F,y.length),g.init(),y.push(g),V.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),k.setFromProjectionMatrix(V),D=this.localClippingEnabled,Y=Z.init(this.clippingPlanes,D,de),p=Ee.get(F,de),p.init(),jl(F,de,0,x.sortObjects),p.finish(),x.sortObjects===!0&&p.sort(ae,Q),Y===!0&&Z.beginShadows();const Ae=g.state.shadowsArray;Ke.render(Ae,F,de),g.setupLights(),g.setupLightsView(de),Y===!0&&Z.endShadows(),this.info.autoReset===!0&&this.info.reset(),ue!==void 0&&this.setRenderTarget(ue),Re.render(p,F,de,me);const Ye=p.opaque,rt=p.transparent;Ye.length>0&&eo(Ye,F,de),rt.length>0&&eo(rt,F,de),F.isScene===!0&&F.onAfterRender(x,F,de),T!==null&&(he.updateRenderTargetMipmap(T),he.updateMultisampleRenderTarget(T)),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1),y.pop(),y.length>0?g=y[y.length-1]:g=null,p=null};function jl(F,de,ue,me){if(F.visible===!1)return;if(F.layers.test(de.layers)){if(F.isGroup)ue=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(de);else if(F.isLight)g.pushLight(F),F.castShadow&&g.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||k.intersectsSprite(F)){me&&ee.setFromMatrixPosition(F.matrixWorld).applyMatrix4(V);const rt=De.update(F),ct=F.material;ct.visible&&p.push(F,rt,ct,ue,ee.z,null)}}else if(F.isImmediateRenderObject)me&&ee.setFromMatrixPosition(F.matrixWorld).applyMatrix4(V),p.push(F,null,F.material,ue,ee.z,null);else if((F.isMesh||F.isLine||F.isPoints)&&(F.isSkinnedMesh&&F.skeleton.frame!==Te.render.frame&&(F.skeleton.update(),F.skeleton.frame=Te.render.frame),!F.frustumCulled||k.intersectsObject(F))){me&&ee.setFromMatrixPosition(F.matrixWorld).applyMatrix4(V);const rt=De.update(F),ct=F.material;if(Array.isArray(ct)){const at=rt.groups;for(let Xt=0,Ft=at.length;Xt<Ft;Xt++){const nt=at[Xt],xt=ct[nt.materialIndex];xt&&xt.visible&&p.push(F,rt,xt,ue,ee.z,nt)}}else ct.visible&&p.push(F,rt,ct,ue,ee.z,null)}}const Ye=F.children;for(let rt=0,ct=Ye.length;rt<ct;rt++)jl(Ye[rt],de,ue,me)}function eo(F,de,ue){const me=de.isScene===!0?de.overrideMaterial:null;for(let Ae=0,Ye=F.length;Ae<Ye;Ae++){const rt=F[Ae],ct=rt.object,at=rt.geometry,Xt=me===null?rt.material:me,Ft=rt.group;if(ue.isArrayCamera){const nt=ue.cameras;for(let xt=0,Tn=nt.length;xt<Tn;xt++){const gt=nt[xt];ct.layers.test(gt.layers)&&(ye.viewport(N.copy(gt.viewport)),g.setupLightsView(gt),is(ct,de,gt,at,Xt,Ft))}}else is(ct,de,ue,at,Xt,Ft)}}function is(F,de,ue,me,Ae,Ye){if(F.onBeforeRender(x,de,ue,me,Ae,Ye),F.modelViewMatrix.multiplyMatrices(ue.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),F.isImmediateRenderObject){const rt=Wl(ue,de,Ae,F);ye.setMaterial(Ae),Ie.reset(),$a(F,rt)}else x.renderBufferDirect(ue,de,me,Ae,F,Ye);F.onAfterRender(x,de,ue,me,Ae,Ye)}function Oi(F,de,ue){de.isScene!==!0&&(de=te);const me=Le.get(F),Ae=g.state.lights,Ye=g.state.shadowsArray,rt=Ae.state.version,ct=I.getParameters(F,Ae.state,Ye,de,ue),at=I.getProgramCacheKey(ct);let Xt=me.program,Ft=!0;if(Xt===void 0)F.addEventListener("dispose",Qs);else if(Xt.cacheKey!==at)Ji(F);else if(me.lightsStateVersion!==rt)Ft=!1;else if(ct.shaderID!==void 0){const gt=F.isMeshStandardMaterial?de.environment:null;me.envMap=xe.get(F.envMap||gt);return}else Ft=!1;Ft&&(ct.uniforms=I.getUniforms(F),F.onBeforeCompile(ct,x),Xt=I.acquireProgram(ct,at),me.program=Xt,me.uniforms=ct.uniforms,me.outputEncoding=ct.outputEncoding);const nt=me.uniforms;(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(me.numClippingPlanes=Z.numPlanes,me.numIntersection=Z.numIntersection,nt.clippingPlanes=Z.uniform),me.environment=F.isMeshStandardMaterial?de.environment:null,me.fog=de.fog,me.envMap=xe.get(F.envMap||me.environment),me.needsLights=ql(F),me.lightsStateVersion=rt,me.needsLights&&(nt.ambientLightColor.value=Ae.state.ambient,nt.lightProbe.value=Ae.state.probe,nt.directionalLights.value=Ae.state.directional,nt.directionalLightShadows.value=Ae.state.directionalShadow,nt.spotLights.value=Ae.state.spot,nt.spotLightShadows.value=Ae.state.spotShadow,nt.rectAreaLights.value=Ae.state.rectArea,nt.ltc_1.value=Ae.state.rectAreaLTC1,nt.ltc_2.value=Ae.state.rectAreaLTC2,nt.pointLights.value=Ae.state.point,nt.pointLightShadows.value=Ae.state.pointShadow,nt.hemisphereLights.value=Ae.state.hemi,nt.directionalShadowMap.value=Ae.state.directionalShadowMap,nt.directionalShadowMatrix.value=Ae.state.directionalShadowMatrix,nt.spotShadowMap.value=Ae.state.spotShadowMap,nt.spotShadowMatrix.value=Ae.state.spotShadowMatrix,nt.pointShadowMap.value=Ae.state.pointShadowMap,nt.pointShadowMatrix.value=Ae.state.pointShadowMatrix);const xt=me.program.getUniforms(),Tn=Fs.seqWithValue(xt.seq,nt);me.uniformsList=Tn}function Wl(F,de,ue,me){de.isScene!==!0&&(de=te),he.resetTextureUnits();const Ae=de.fog,Ye=ue.isMeshStandardMaterial?de.environment:null,rt=T===null?x.outputEncoding:T.texture.encoding,ct=xe.get(ue.envMap||Ye),at=Le.get(ue),Xt=g.state.lights;if(Y===!0&&(D===!0||F!==E)){const Bt=F===E&&ue.id===R;Z.setState(ue,F,Bt)}ue.version===at.__version?(ue.fog&&at.fog!==Ae||at.environment!==Ye||at.needsLights&&at.lightsStateVersion!==Xt.state.version||at.numClippingPlanes!==void 0&&(at.numClippingPlanes!==Z.numPlanes||at.numIntersection!==Z.numIntersection)||at.outputEncoding!==rt||at.envMap!==ct)&&Oi(ue,de,me):(Oi(ue,de,me),at.__version=ue.version);let Ft=!1,nt=!1,xt=!1;const Tn=at.program,gt=Tn.getUniforms(),Kn=at.uniforms;if(ye.useProgram(Tn.program)&&(Ft=!0,nt=!0,xt=!0),ue.id!==R&&(R=ue.id,nt=!0),Ft||E!==F){if(gt.setValue(ne,"projectionMatrix",F.projectionMatrix),Se.logarithmicDepthBuffer&&gt.setValue(ne,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),E!==F&&(E=F,nt=!0,xt=!0),ue.isShaderMaterial||ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshStandardMaterial||ue.envMap){const Bt=gt.map.cameraPosition;Bt!==void 0&&Bt.setValue(ne,ee.setFromMatrixPosition(F.matrixWorld))}(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial)&&gt.setValue(ne,"isOrthographic",F.isOrthographicCamera===!0),(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial||ue.isShadowMaterial||ue.skinning)&&gt.setValue(ne,"viewMatrix",F.matrixWorldInverse)}if(ue.skinning){gt.setOptional(ne,me,"bindMatrix"),gt.setOptional(ne,me,"bindMatrixInverse");const Bt=me.skeleton;if(Bt){const Yt=Bt.bones;if(Se.floatVertexTextures){if(Bt.boneTexture===null){let gn=Math.sqrt(Yt.length*4);gn=it.ceilPowerOfTwo(gn),gn=Math.max(gn,4);const rs=new Float32Array(gn*gn*4);rs.set(Bt.boneMatrices);const kn=new Jr(rs,gn,gn,ui,Vr);Bt.boneMatrices=rs,Bt.boneTexture=kn,Bt.boneTextureSize=gn}gt.setValue(ne,"boneTexture",Bt.boneTexture,he),gt.setValue(ne,"boneTextureSize",Bt.boneTextureSize)}else gt.setOptional(ne,Bt,"boneMatrices")}}return(nt||at.receiveShadow!==me.receiveShadow)&&(at.receiveShadow=me.receiveShadow,gt.setValue(ne,"receiveShadow",me.receiveShadow)),nt&&(gt.setValue(ne,"toneMappingExposure",x.toneMappingExposure),at.needsLights&&_f(Kn,xt),Ae&&ue.fog&&U.refreshFogUniforms(Kn,Ae),U.refreshMaterialUniforms(Kn,ue,K,J),Fs.upload(ne,at.uniformsList,Kn,he)),ue.isShaderMaterial&&ue.uniformsNeedUpdate===!0&&(Fs.upload(ne,at.uniformsList,Kn,he),ue.uniformsNeedUpdate=!1),ue.isSpriteMaterial&&gt.setValue(ne,"center",me.center),gt.setValue(ne,"modelViewMatrix",me.modelViewMatrix),gt.setValue(ne,"normalMatrix",me.normalMatrix),gt.setValue(ne,"modelMatrix",me.matrixWorld),Tn}function _f(F,de){F.ambientLightColor.needsUpdate=de,F.lightProbe.needsUpdate=de,F.directionalLights.needsUpdate=de,F.directionalLightShadows.needsUpdate=de,F.pointLights.needsUpdate=de,F.pointLightShadows.needsUpdate=de,F.spotLights.needsUpdate=de,F.spotLightShadows.needsUpdate=de,F.rectAreaLights.needsUpdate=de,F.hemisphereLights.needsUpdate=de}function ql(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.setFramebuffer=function(F){S!==F&&T===null&&ne.bindFramebuffer(36160,F),S=F},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return w},this.getRenderList=function(){return p},this.setRenderList=function(F){p=F},this.getRenderTarget=function(){return T},this.setRenderTarget=function(F,de=0,ue=0){T=F,_=de,w=ue,F&&Le.get(F).__webglFramebuffer===void 0&&he.setupRenderTarget(F);let me=S,Ae=!1;if(F){const Ye=Le.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(me=Ye[de],Ae=!0):F.isWebGLMultisampleRenderTarget?me=Le.get(F).__webglMultisampledFramebuffer:me=Ye,N.copy(F.viewport),P.copy(F.scissor),j=F.scissorTest}else N.copy(X).multiplyScalar(K).floor(),P.copy(H).multiplyScalar(K).floor(),j=z;if(C!==me&&(ne.bindFramebuffer(36160,me),C=me),ye.viewport(N),ye.scissor(P),ye.setScissorTest(j),Ae){const Ye=Le.get(F.texture);ne.framebufferTexture2D(36160,36064,34069+de,Ye.__webglTexture,ue)}},this.readRenderTargetPixels=function(F,de,ue,me,Ae,Ye,rt){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ct=Le.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&rt!==void 0&&(ct=ct[rt]),ct){let at=!1;ct!==C&&(ne.bindFramebuffer(36160,ct),at=!0);try{const Xt=F.texture,Ft=Xt.format,nt=Xt.type;if(Ft!==ui&&He.convert(Ft)!==ne.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(nt!==Fl&&He.convert(nt)!==ne.getParameter(35738)&&!(nt===Vr&&(Se.isWebGL2||be.get("OES_texture_float")||be.get("WEBGL_color_buffer_float")))&&!(nt===Eu&&(Se.isWebGL2?be.get("EXT_color_buffer_float"):be.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ne.checkFramebufferStatus(36160)===36053?de>=0&&de<=F.width-me&&ue>=0&&ue<=F.height-Ae&&ne.readPixels(de,ue,me,Ae,He.convert(Ft),He.convert(nt),Ye):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{at&&ne.bindFramebuffer(36160,C)}}},this.copyFramebufferToTexture=function(F,de,ue=0){const me=Math.pow(2,-ue),Ae=Math.floor(de.image.width*me),Ye=Math.floor(de.image.height*me),rt=He.convert(de.format);he.setTexture2D(de,0),ne.copyTexImage2D(3553,ue,rt,F.x,F.y,Ae,Ye,0),ye.unbindTexture()},this.copyTextureToTexture=function(F,de,ue,me=0){const Ae=de.image.width,Ye=de.image.height,rt=He.convert(ue.format),ct=He.convert(ue.type);he.setTexture2D(ue,0),ne.pixelStorei(37440,ue.flipY),ne.pixelStorei(37441,ue.premultiplyAlpha),ne.pixelStorei(3317,ue.unpackAlignment),de.isDataTexture?ne.texSubImage2D(3553,me,F.x,F.y,Ae,Ye,rt,ct,de.image.data):de.isCompressedTexture?ne.compressedTexSubImage2D(3553,me,F.x,F.y,de.mipmaps[0].width,de.mipmaps[0].height,rt,de.mipmaps[0].data):ne.texSubImage2D(3553,me,F.x,F.y,rt,ct,de.image),me===0&&ue.generateMipmaps&&ne.generateMipmap(3553),ye.unbindTexture()},this.initTexture=function(F){he.setTexture2D(F,0),ye.unbindTexture()},this.resetState=function(){ye.reset(),Ie.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function cv(t){gf.call(this,t)}cv.prototype=Object.assign(Object.create(gf.prototype),{constructor:cv,isWebGL1Renderer:!0});class Pp{constructor(e,n){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new Ue(e),this.density=n!==void 0?n:25e-5}clone(){return new Pp(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Bp{constructor(e,n,i){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new Ue(e),this.near=n!==void 0?n:1,this.far=i!==void 0?i:1e3}clone(){return new Bp(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Nx extends Ge{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.background!==null&&(n.object.background=this.background.toJSON(e)),this.environment!==null&&(n.object.environment=this.environment.toJSON(e)),this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}function ci(t,e){this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=df,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=it.generateUUID()}Object.defineProperty(ci.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});Object.assign(ci.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,s=this.stride;i<s;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e=0){return this.array.set(t,e),this},clone:function(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=it.generateUUID()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new ci(e,this.stride);return n.setUsage(this.usage),n},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=it.generateUUID()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const va=new O;function Ws(t,e,n,i){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=i===!0}Object.defineProperties(Ws.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}});Object.assign(Ws.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,n=this.data.count;e<n;e++)va.x=this.getX(e),va.y=this.getY(e),va.z=this.getZ(e),va.applyMatrix4(t),this.setXYZ(e,va.x,va.y,va.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,s){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=s,this},clone:function(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[i+s])}return new Xe(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ws(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function qs(t){$e.call(this),this.type="SpriteMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}qs.prototype=Object.create($e.prototype);qs.prototype.constructor=qs;qs.prototype.isSpriteMaterial=!0;qs.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};let Yo;const Zc=new O,Zo=new O,Jo=new O,Qo=new _e,Jc=new _e,o3=new lt,ed=new O,Qc=new O,td=new O,rT=new _e,Zy=new _e,sT=new _e;function Uu(t){if(Ge.call(this),this.type="Sprite",Yo===void 0){Yo=new qe;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new ci(e,5);Yo.setIndex([0,1,2,0,2,3]),Yo.setAttribute("position",new Ws(n,3,0,!1)),Yo.setAttribute("uv",new Ws(n,2,3,!1))}this.geometry=Yo,this.material=t!==void 0?t:new qs,this.center=new _e(.5,.5)}Uu.prototype=Object.assign(Object.create(Ge.prototype),{constructor:Uu,isSprite:!0,raycast:function(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zo.setFromMatrixScale(this.matrixWorld),o3.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Jo.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Zo.multiplyScalar(-Jo.z);const n=this.material.rotation;let i,s;n!==0&&(s=Math.cos(n),i=Math.sin(n));const o=this.center;nd(ed.set(-.5,-.5,0),Jo,o,Zo,i,s),nd(Qc.set(.5,-.5,0),Jo,o,Zo,i,s),nd(td.set(.5,.5,0),Jo,o,Zo,i,s),rT.set(0,0),Zy.set(1,0),sT.set(1,1);let l=t.ray.intersectTriangle(ed,Qc,td,!1,Zc);if(l===null&&(nd(Qc.set(-.5,.5,0),Jo,o,Zo,i,s),Zy.set(0,1),l=t.ray.intersectTriangle(ed,td,Qc,!1,Zc),l===null))return;const u=t.ray.origin.distanceTo(Zc);u<t.near||u>t.far||e.push({distance:u,point:Zc.clone(),uv:wn.getUV(Zc,ed,Qc,td,rT,Zy,sT,new _e),face:null,object:this})},copy:function(t){return Ge.prototype.copy.call(this,t),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}});function nd(t,e,n,i,s,o){Qo.subVectors(t,n).addScalar(.5).multiply(i),s!==void 0?(Jc.x=o*Qo.x-s*Qo.y,Jc.y=s*Qo.x+o*Qo.y):Jc.copy(Qo),t.copy(e),t.x+=Jc.x,t.y+=Jc.y,t.applyMatrix4(o3)}const id=new O,aT=new O;function Fu(){Ge.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Fu.prototype=Object.assign(Object.create(Ge.prototype),{constructor:Fu,isLOD:!0,copy:function(t){Ge.prototype.copy.call(this,t,!1);const e=t.levels;for(let n=0,i=e.length;n<i;n++){const s=e[n];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e=0){e=Math.abs(e);const n=this.levels;let i;for(i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){id.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(id);this.getObjectForDistance(i).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){id.setFromMatrixPosition(t.matrixWorld),aT.setFromMatrixPosition(this.matrixWorld);const n=id.distanceTo(aT)/t.zoom;e[0].object.visible=!0;let i,s;for(i=1,s=e.length;i<s&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)e[i].object.visible=!1}},toJSON:function(t){const e=Ge.prototype.toJSON.call(this,t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}});const oT=new O,lT=new Et,cT=new Et,eV=new O,uT=new lt;function Iu(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Ut.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new lt,this.bindMatrixInverse=new lt}Iu.prototype=Object.assign(Object.create(Ut.prototype),{constructor:Iu,isSkinnedMesh:!0,copy:function(t){return Ut.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new Et,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Ut.prototype.updateMatrixWorld.call(this,t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(t,e){const n=this.skeleton,i=this.geometry;lT.fromBufferAttribute(i.attributes.skinIndex,t),cT.fromBufferAttribute(i.attributes.skinWeight,t),oT.fromBufferAttribute(i.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let s=0;s<4;s++){const o=cT.getComponent(s);if(o!==0){const l=lT.getComponent(s);uT.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),e.addScaledVector(eV.copy(oT).applyMatrix4(uT),o)}}return e.applyMatrix4(this.bindMatrixInverse)}});function Hu(){Ge.call(this),this.type="Bone"}Hu.prototype=Object.assign(Object.create(Ge.prototype),{constructor:Hu,isBone:!0});const fT=new lt,tV=new lt;function Vu(t=[],e=[]){this.uuid=it.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Vu.prototype,{init:function(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new lt)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const n=new lt;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let s=0,o=t.length;s<o;s++){const l=t[s]?t[s].matrixWorld:tV;fT.multiplyMatrices(l,e[s]),fT.toArray(n,s*16)}i!==null&&(i.needsUpdate=!0)},clone:function(){return new Vu(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];if(i.name===t)return i}},dispose:function(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){const s=t.bones[n];let o=e[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Hu),this.bones.push(o),this.boneInverses.push(new lt().fromArray(t.boneInverses[n]))}return this.init(),this},toJSON:function(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,s=e.length;i<s;i++){const o=e[i];t.bones.push(o.uuid);const l=n[i];t.boneInverses.push(l.toArray())}return t}});const hT=new lt,dT=new lt,rd=[],Kc=new Ut;function $d(t,e,n){Ut.call(this,t,e),this.instanceMatrix=new Xe(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}$d.prototype=Object.assign(Object.create(Ut.prototype),{constructor:$d,isInstancedMesh:!0,copy:function(t){return Ut.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,t*3)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,t*16)},raycast:function(t,e){const n=this.matrixWorld,i=this.count;if(Kc.geometry=this.geometry,Kc.material=this.material,Kc.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,hT),dT.multiplyMatrices(n,hT),Kc.matrixWorld=dT,Kc.raycast(t,rd);for(let o=0,l=rd.length;o<l;o++){const u=rd[o];u.instanceId=s,u.object=this,e.push(u)}rd.length=0}},setColorAt:function(t,e){this.instanceColor===null&&(this.instanceColor=new Xe(new Float32Array(this.count*3),3)),e.toArray(this.instanceColor.array,t*3)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,t*16)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Ht(t){$e.call(this),this.type="LineBasicMaterial",this.color=new Ue(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}Ht.prototype=Object.create($e.prototype);Ht.prototype.constructor=Ht;Ht.prototype.isLineBasicMaterial=!0;Ht.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const pT=new O,mT=new O,gT=new lt,sd=new Il,ad=new ts;function Di(t=new qe,e=new Ht){Ge.call(this),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}Di.prototype=Object.assign(Object.create(Ge.prototype),{constructor:Di,isLine:!0,copy:function(t){return Ge.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,n=[0];for(let i=1,s=e.count;i<s;i++)pT.fromBufferAttribute(e,i-1),mT.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=pT.distanceTo(mT);t.setAttribute("lineDistance",new ze(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;n[0]=0;for(let i=1,s=e.length;i<s;i++)n[i]=n[i-1],n[i]+=e[i-1].distanceTo(e[i])}return this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,s=t.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),ad.copy(n.boundingSphere),ad.applyMatrix4(i),ad.radius+=s,t.ray.intersectsSphere(ad)===!1)return;gT.copy(i).invert(),sd.copy(t.ray).applyMatrix4(gT);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=new O,h=new O,f=new O,m=new O,p=this.isLineSegments?2:1;if(n.isBufferGeometry){const g=n.index,x=n.attributes.position;if(g!==null){const M=g.array;for(let S=0,_=M.length-1;S<_;S+=p){const w=M[S],T=M[S+1];if(u.fromBufferAttribute(x,w),h.fromBufferAttribute(x,T),sd.distanceSqToSegment(u,h,m,f)>l)continue;m.applyMatrix4(this.matrixWorld);const R=t.ray.origin.distanceTo(m);R<t.near||R>t.far||e.push({distance:R,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else for(let M=0,S=x.count-1;M<S;M+=p){if(u.fromBufferAttribute(x,M),h.fromBufferAttribute(x,M+1),sd.distanceSqToSegment(u,h,m,f)>l)continue;m.applyMatrix4(this.matrixWorld);const w=t.ray.origin.distanceTo(m);w<t.near||w>t.far||e.push({distance:w,point:f.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const g=n.vertices,y=g.length;for(let x=0;x<y-1;x+=p){if(sd.distanceSqToSegment(g[x],g[x+1],m,f)>l)continue;m.applyMatrix4(this.matrixWorld);const S=t.ray.origin.distanceTo(m);S<t.near||S>t.far||e.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const i=e[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const od=new O,ld=new O;function Gn(t,e){Di.call(this,t,e),this.type="LineSegments"}Gn.prototype=Object.assign(Object.create(Di.prototype),{constructor:Gn,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const e=t.attributes.position,n=[];for(let i=0,s=e.count;i<s;i+=2)od.fromBufferAttribute(e,i),ld.fromBufferAttribute(e,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+od.distanceTo(ld);t.setAttribute("lineDistance",new ze(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;for(let i=0,s=e.length;i<s;i+=2)od.copy(e[i]),ld.copy(e[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+od.distanceTo(ld)}return this}});function ep(t,e){Di.call(this,t,e),this.type="LineLoop"}ep.prototype=Object.assign(Object.create(Di.prototype),{constructor:ep,isLineLoop:!0});function ji(t){$e.call(this),this.type="PointsMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}ji.prototype=Object.create($e.prototype);ji.prototype.constructor=ji;ji.prototype.isPointsMaterial=!0;ji.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const yT=new lt,uv=new Il,cd=new ts,ud=new O;function _l(t=new qe,e=new ji){Ge.call(this),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}_l.prototype=Object.assign(Object.create(Ge.prototype),{constructor:_l,isPoints:!0,copy:function(t){return Ge.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,s=t.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),cd.copy(n.boundingSphere),cd.applyMatrix4(i),cd.radius+=s,t.ray.intersectsSphere(cd)===!1)return;yT.copy(i).invert(),uv.copy(t.ray).applyMatrix4(yT);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o;if(n.isBufferGeometry){const u=n.index,f=n.attributes.position;if(u!==null){const m=u.array;for(let p=0,g=m.length;p<g;p++){const y=m[p];ud.fromBufferAttribute(f,y),Jy(ud,y,l,i,t,e,this)}}else for(let m=0,p=f.count;m<p;m++)ud.fromBufferAttribute(f,m),Jy(ud,m,l,i,t,e,this)}else{const u=n.vertices;for(let h=0,f=u.length;h<f;h++)Jy(u[h],h,l,i,t,e,this)}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const i=e[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}else{const e=t.morphTargets;e!==void 0&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function Jy(t,e,n,i,s,o,l){const u=uv.distanceSqToPoint(t);if(u<n){const h=new O;uv.closestPointToPoint(t,h),h.applyMatrix4(i);const f=s.ray.origin.distanceTo(h);if(f<s.near||f>s.far)return;o.push({distance:f,distanceToRay:Math.sqrt(u),point:h,index:e,face:null,object:l})}}function fv(t,e,n,i,s,o,l,u,h){Rt.call(this,t,e,n,i,s,o,l,u,h),this.format=l!==void 0?l:Us,this.minFilter=o!==void 0?o:mn,this.magFilter=s!==void 0?s:mn,this.generateMipmaps=!1;const f=this;function m(){f.needsUpdate=!0,t.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(m)}fv.prototype=Object.assign(Object.create(Rt.prototype),{constructor:fv,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function wl(t,e,n,i,s,o,l,u,h,f,m,p){Rt.call(this,null,o,l,u,h,f,i,s,m,p),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}wl.prototype=Object.create(Rt.prototype);wl.prototype.constructor=wl;wl.prototype.isCompressedTexture=!0;function Gu(t,e,n,i,s,o,l,u,h){Rt.call(this,t,e,n,i,s,o,l,u,h),this.needsUpdate=!0}Gu.prototype=Object.create(Rt.prototype);Gu.prototype.constructor=Gu;Gu.prototype.isCanvasTexture=!0;function ku(t,e,n,i,s,o,l,u,h,f){if(f=f!==void 0?f:Pa,f!==Pa&&f!==yl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&f===Pa&&(n=Tu),n===void 0&&f===yl&&(n=dl),Rt.call(this,null,i,s,o,l,u,f,n,h),this.image={width:t,height:e},this.magFilter=l!==void 0?l:un,this.minFilter=u!==void 0?u:un,this.flipY=!1,this.generateMipmaps=!1}ku.prototype=Object.create(Rt.prototype);ku.prototype.constructor=ku;ku.prototype.isDepthTexture=!0;let nV=0;const ir=new lt,Qy=new Ge,fd=new O;function At(){Object.defineProperty(this,"id",{value:nV+=2}),this.uuid=it.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}At.prototype=Object.assign(Object.create(vr.prototype),{constructor:At,isGeometry:!0,applyMatrix4:function(t){const e=new In().getNormalMatrix(t);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(t);for(let n=0,i=this.faces.length;n<i;n++){const s=this.faces[n];s.normal.applyMatrix3(e).normalize();for(let o=0,l=s.vertexNormals.length;o<l;o++)s.vertexNormals[o].applyMatrix3(e).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return ir.makeRotationX(t),this.applyMatrix4(ir),this},rotateY:function(t){return ir.makeRotationY(t),this.applyMatrix4(ir),this},rotateZ:function(t){return ir.makeRotationZ(t),this.applyMatrix4(ir),this},translate:function(t,e,n){return ir.makeTranslation(t,e,n),this.applyMatrix4(ir),this},scale:function(t,e,n){return ir.makeScale(t,e,n),this.applyMatrix4(ir),this},lookAt:function(t){return Qy.lookAt(t),Qy.updateMatrix(),this.applyMatrix4(Qy.matrix),this},fromBufferGeometry:function(t){const e=this,n=t.index!==null?t.index:void 0,i=t.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const s=i.position,o=i.normal,l=i.color,u=i.uv,h=i.uv2;h!==void 0&&(this.faceVertexUvs[1]=[]);for(let p=0;p<s.count;p++)e.vertices.push(new O().fromBufferAttribute(s,p)),l!==void 0&&e.colors.push(new Ue().fromBufferAttribute(l,p));function f(p,g,y,x){const M=l===void 0?[]:[e.colors[p].clone(),e.colors[g].clone(),e.colors[y].clone()],S=o===void 0?[]:[new O().fromBufferAttribute(o,p),new O().fromBufferAttribute(o,g),new O().fromBufferAttribute(o,y)],_=new Cu(p,g,y,S,M,x);e.faces.push(_),u!==void 0&&e.faceVertexUvs[0].push([new _e().fromBufferAttribute(u,p),new _e().fromBufferAttribute(u,g),new _e().fromBufferAttribute(u,y)]),h!==void 0&&e.faceVertexUvs[1].push([new _e().fromBufferAttribute(h,p),new _e().fromBufferAttribute(h,g),new _e().fromBufferAttribute(h,y)])}const m=t.groups;if(m.length>0)for(let p=0;p<m.length;p++){const g=m[p],y=g.start,x=g.count;for(let M=y,S=y+x;M<S;M+=3)n!==void 0?f(n.getX(M),n.getX(M+1),n.getX(M+2),g.materialIndex):f(M,M+1,M+2,g.materialIndex)}else if(n!==void 0)for(let p=0;p<n.count;p+=3)f(n.getX(p),n.getX(p+1),n.getX(p+2));else for(let p=0;p<s.count;p+=3)f(p,p+1,p+2);return this.computeFaceNormals(),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(fd).negate(),this.translate(fd.x,fd.y,fd.z),this},normalize:function(){this.computeBoundingSphere();const t=this.boundingSphere.center,e=this.boundingSphere.radius,n=e===0?1:1/e,i=new lt;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const t=new O,e=new O;for(let n=0,i=this.faces.length;n<i;n++){const s=this.faces[n],o=this.vertices[s.a],l=this.vertices[s.b],u=this.vertices[s.c];t.subVectors(u,l),e.subVectors(o,l),t.cross(e),t.normalize(),s.normal.copy(t)}},computeVertexNormals:function(t=!0){const e=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)e[n]=new O;if(t){const n=new O,i=new O;for(let s=0,o=this.faces.length;s<o;s++){const l=this.faces[s],u=this.vertices[l.a],h=this.vertices[l.b],f=this.vertices[l.c];n.subVectors(f,h),i.subVectors(u,h),n.cross(i),e[l.a].add(n),e[l.b].add(n),e[l.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const s=this.faces[n];e[s.a].add(s.normal),e[s.b].add(s.normal),e[s.c].add(s.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)e[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const s=this.faces[n],o=s.vertexNormals;o.length===3?(o[0].copy(e[s.a]),o[1].copy(e[s.b]),o[2].copy(e[s.c])):(o[0]=e[s.a].clone(),o[1]=e[s.b].clone(),o[2]=e[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,e=this.faces.length;t<e;t++){const n=this.faces[t],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let e=0,n=this.faces.length;e<n;e++){const i=this.faces[e];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let s=0,o=i.vertexNormals.length;s<o;s++)i.__originalVertexNormals[s]?i.__originalVertexNormals[s].copy(i.vertexNormals[s]):i.__originalVertexNormals[s]=i.vertexNormals[s].clone()}const t=new At;t.faces=this.faces;for(let e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];const s=this.morphNormals[e].faceNormals,o=this.morphNormals[e].vertexNormals;for(let l=0,u=this.faces.length;l<u;l++){const h=new O,f={a:new O,b:new O,c:new O};s.push(h),o.push(f)}}const i=this.morphNormals[e];t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let s=0,o=this.faces.length;s<o;s++){const l=this.faces[s],u=i.faceNormals[s],h=i.vertexNormals[s];u.copy(l.normal),h.a.copy(l.vertexNormals[0]),h.b.copy(l.vertexNormals[1]),h.c.copy(l.vertexNormals[2])}}for(let e=0,n=this.faces.length;e<n;e++){const i=this.faces[e];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new xr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new ts),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n=0){if(!(t&&t.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);return}let i;const s=this.vertices.length,o=this.vertices,l=t.vertices,u=this.faces,h=t.faces,f=this.colors,m=t.colors;e!==void 0&&(i=new In().getNormalMatrix(e));for(let p=0,g=l.length;p<g;p++){const x=l[p].clone();e!==void 0&&x.applyMatrix4(e),o.push(x)}for(let p=0,g=m.length;p<g;p++)f.push(m[p].clone());for(let p=0,g=h.length;p<g;p++){const y=h[p];let x,M;const S=y.vertexNormals,_=y.vertexColors,w=new Cu(y.a+s,y.b+s,y.c+s);w.normal.copy(y.normal),i!==void 0&&w.normal.applyMatrix3(i).normalize();for(let T=0,C=S.length;T<C;T++)x=S[T].clone(),i!==void 0&&x.applyMatrix3(i).normalize(),w.vertexNormals.push(x);w.color.copy(y.color);for(let T=0,C=_.length;T<C;T++)M=_[T],w.vertexColors.push(M.clone());w.materialIndex=y.materialIndex+n,u.push(w)}for(let p=0,g=t.faceVertexUvs.length;p<g;p++){const y=t.faceVertexUvs[p];this.faceVertexUvs[p]===void 0&&(this.faceVertexUvs[p]=[]);for(let x=0,M=y.length;x<M;x++){const S=y[x],_=[];for(let w=0,T=S.length;w<T;w++)_.push(S[w].clone());this.faceVertexUvs[p].push(_)}}},mergeMesh:function(t){if(!(t&&t.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);return}t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(t=4){const e={},n=[],i=[],s=Math.pow(10,t);for(let u=0,h=this.vertices.length;u<h;u++){const f=this.vertices[u],m=Math.round(f.x*s)+"_"+Math.round(f.y*s)+"_"+Math.round(f.z*s);e[m]===void 0?(e[m]=u,n.push(this.vertices[u]),i[u]=n.length-1):i[u]=i[e[m]]}const o=[];for(let u=0,h=this.faces.length;u<h;u++){const f=this.faces[u];f.a=i[f.a],f.b=i[f.b],f.c=i[f.c];const m=[f.a,f.b,f.c];for(let p=0;p<3;p++)if(m[p]===m[(p+1)%3]){o.push(u);break}}for(let u=o.length-1;u>=0;u--){const h=o[u];this.faces.splice(h,1);for(let f=0,m=this.faceVertexUvs.length;f<m;f++)this.faceVertexUvs[f].splice(h,1)}const l=this.vertices.length-n.length;return this.vertices=n,l},setFromPoints:function(t){this.vertices=[];for(let e=0,n=t.length;e<n;e++){const i=t[e];this.vertices.push(new O(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const t=this.faces,e=t.length;for(let u=0;u<e;u++)t[u]._id=u;function n(u,h){return u.materialIndex-h.materialIndex}t.sort(n);const i=this.faceVertexUvs[0],s=this.faceVertexUvs[1];let o,l;i&&i.length===e&&(o=[]),s&&s.length===e&&(l=[]);for(let u=0;u<e;u++){const h=t[u]._id;o&&o.push(i[h]),l&&l.push(s[h])}o&&(this.faceVertexUvs[0]=o),l&&(this.faceVertexUvs[1]=l)},toJSON:function(){const t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),this.parameters!==void 0){const y=this.parameters;for(const x in y)y[x]!==void 0&&(t[x]=y[x]);return t}const e=[];for(let y=0;y<this.vertices.length;y++){const x=this.vertices[y];e.push(x.x,x.y,x.z)}const n=[],i=[],s={},o=[],l={},u=[],h={};for(let y=0;y<this.faces.length;y++){const x=this.faces[y],M=!0,S=!1,_=this.faceVertexUvs[0][y]!==void 0,w=x.normal.length()>0,T=x.vertexNormals.length>0,C=x.color.r!==1||x.color.g!==1||x.color.b!==1,R=x.vertexColors.length>0;let E=0;if(E=f(E,0,0),E=f(E,1,M),E=f(E,2,S),E=f(E,3,_),E=f(E,4,w),E=f(E,5,T),E=f(E,6,C),E=f(E,7,R),n.push(E),n.push(x.a,x.b,x.c),n.push(x.materialIndex),_){const N=this.faceVertexUvs[0][y];n.push(g(N[0]),g(N[1]),g(N[2]))}if(w&&n.push(m(x.normal)),T){const N=x.vertexNormals;n.push(m(N[0]),m(N[1]),m(N[2]))}if(C&&n.push(p(x.color)),R){const N=x.vertexColors;n.push(p(N[0]),p(N[1]),p(N[2]))}}function f(y,x,M){return M?y|1<<x:y&~(1<<x)}function m(y){const x=y.x.toString()+y.y.toString()+y.z.toString();return s[x]!==void 0||(s[x]=i.length/3,i.push(y.x,y.y,y.z)),s[x]}function p(y){const x=y.r.toString()+y.g.toString()+y.b.toString();return l[x]!==void 0||(l[x]=o.length,o.push(y.getHex())),l[x]}function g(y){const x=y.x.toString()+y.y.toString();return h[x]!==void 0||(h[x]=u.length/2,u.push(y.x,y.y)),h[x]}return t.data={},t.data.vertices=e,t.data.normals=i,o.length>0&&(t.data.colors=o),u.length>0&&(t.data.uvs=[u]),t.data.faces=n,t},clone:function(){return new At().copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;const e=t.vertices;for(let p=0,g=e.length;p<g;p++)this.vertices.push(e[p].clone());const n=t.colors;for(let p=0,g=n.length;p<g;p++)this.colors.push(n[p].clone());const i=t.faces;for(let p=0,g=i.length;p<g;p++)this.faces.push(i[p].clone());for(let p=0,g=t.faceVertexUvs.length;p<g;p++){const y=t.faceVertexUvs[p];this.faceVertexUvs[p]===void 0&&(this.faceVertexUvs[p]=[]);for(let x=0,M=y.length;x<M;x++){const S=y[x],_=[];for(let w=0,T=S.length;w<T;w++){const C=S[w];_.push(C.clone())}this.faceVertexUvs[p].push(_)}}const s=t.morphTargets;for(let p=0,g=s.length;p<g;p++){const y={};if(y.name=s[p].name,s[p].vertices!==void 0){y.vertices=[];for(let x=0,M=s[p].vertices.length;x<M;x++)y.vertices.push(s[p].vertices[x].clone())}if(s[p].normals!==void 0){y.normals=[];for(let x=0,M=s[p].normals.length;x<M;x++)y.normals.push(s[p].normals[x].clone())}this.morphTargets.push(y)}const o=t.morphNormals;for(let p=0,g=o.length;p<g;p++){const y={};if(o[p].vertexNormals!==void 0){y.vertexNormals=[];for(let x=0,M=o[p].vertexNormals.length;x<M;x++){const S=o[p].vertexNormals[x],_={};_.a=S.a.clone(),_.b=S.b.clone(),_.c=S.c.clone(),y.vertexNormals.push(_)}}if(o[p].faceNormals!==void 0){y.faceNormals=[];for(let x=0,M=o[p].faceNormals.length;x<M;x++)y.faceNormals.push(o[p].faceNormals[x].clone())}this.morphNormals.push(y)}const l=t.skinWeights;for(let p=0,g=l.length;p<g;p++)this.skinWeights.push(l[p].clone());const u=t.skinIndices;for(let p=0,g=u.length;p<g;p++)this.skinIndices.push(u[p].clone());const h=t.lineDistances;for(let p=0,g=h.length;p<g;p++)this.lineDistances.push(h[p]);const f=t.boundingBox;f!==null&&(this.boundingBox=f.clone());const m=t.boundingSphere;return m!==null&&(this.boundingSphere=m.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class hv extends At{constructor(e,n,i,s,o,l){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:s,heightSegments:o,depthSegments:l},this.fromBufferGeometry(new pf(e,n,i,s,o,l)),this.mergeVertices()}}class Ox extends qe{constructor(e=1,n=8,i=0,s=Math.PI*2){super(),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:s},n=Math.max(3,n);const o=[],l=[],u=[],h=[],f=new O,m=new _e;l.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let p=0,g=3;p<=n;p++,g+=3){const y=i+p/n*s;f.x=e*Math.cos(y),f.y=e*Math.sin(y),l.push(f.x,f.y,f.z),u.push(0,0,1),m.x=(l[g]/e+1)/2,m.y=(l[g+1]/e+1)/2,h.push(m.x,m.y)}for(let p=1;p<=n;p++)o.push(p,p+1,0);this.setIndex(o),this.setAttribute("position",new ze(l,3)),this.setAttribute("normal",new ze(u,3)),this.setAttribute("uv",new ze(h,2))}}class l3 extends At{constructor(e,n,i,s){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:s},this.fromBufferGeometry(new Ox(e,n,i,s)),this.mergeVertices()}}class yf extends qe{constructor(e=1,n=1,i=1,s=8,o=1,l=!1,u=0,h=Math.PI*2){super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:s,heightSegments:o,openEnded:l,thetaStart:u,thetaLength:h};const f=this;s=Math.floor(s),o=Math.floor(o);const m=[],p=[],g=[],y=[];let x=0;const M=[],S=i/2;let _=0;w(),l===!1&&(e>0&&T(!0),n>0&&T(!1)),this.setIndex(m),this.setAttribute("position",new ze(p,3)),this.setAttribute("normal",new ze(g,3)),this.setAttribute("uv",new ze(y,2));function w(){const C=new O,R=new O;let E=0;const N=(n-e)/i;for(let P=0;P<=o;P++){const j=[],se=P/o,J=se*(n-e)+e;for(let K=0;K<=s;K++){const ae=K/s,Q=ae*h+u,X=Math.sin(Q),H=Math.cos(Q);R.x=J*X,R.y=-se*i+S,R.z=J*H,p.push(R.x,R.y,R.z),C.set(X,N,H).normalize(),g.push(C.x,C.y,C.z),y.push(ae,1-se),j.push(x++)}M.push(j)}for(let P=0;P<s;P++)for(let j=0;j<o;j++){const se=M[j][P],J=M[j+1][P],K=M[j+1][P+1],ae=M[j][P+1];m.push(se,J,ae),m.push(J,K,ae),E+=6}f.addGroup(_,E,0),_+=E}function T(C){const R=x,E=new _e,N=new O;let P=0;const j=C===!0?e:n,se=C===!0?1:-1;for(let K=1;K<=s;K++)p.push(0,S*se,0),g.push(0,se,0),y.push(.5,.5),x++;const J=x;for(let K=0;K<=s;K++){const Q=K/s*h+u,X=Math.cos(Q),H=Math.sin(Q);N.x=j*H,N.y=S*se,N.z=j*X,p.push(N.x,N.y,N.z),g.push(0,se,0),E.x=X*.5+.5,E.y=H*.5*se+.5,y.push(E.x,E.y),x++}for(let K=0;K<s;K++){const ae=R+K,Q=J+K;C===!0?m.push(Q,Q+1,ae):m.push(Q+1,Q,ae),P+=3}f.addGroup(_,P,C===!0?1:2),_+=P}}}class Px extends At{constructor(e,n,i,s,o,l,u,h){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:s,heightSegments:o,openEnded:l,thetaStart:u,thetaLength:h},this.fromBufferGeometry(new yf(e,n,i,s,o,l,u,h)),this.mergeVertices()}}class c3 extends Px{constructor(e,n,i,s,o,l,u){super(0,e,n,i,s,o,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:u}}}class u3 extends yf{constructor(e=1,n=1,i=8,s=1,o=!1,l=0,u=Math.PI*2){super(0,e,n,i,s,o,l,u),this.type="ConeBufferGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:u}}}class Qa extends qe{constructor(e,n,i=1,s=0){super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:s};const o=[],l=[];u(s),f(i),m(),this.setAttribute("position",new ze(o,3)),this.setAttribute("normal",new ze(o.slice(),3)),this.setAttribute("uv",new ze(l,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function u(w){const T=new O,C=new O,R=new O;for(let E=0;E<n.length;E+=3)y(n[E+0],T),y(n[E+1],C),y(n[E+2],R),h(T,C,R,w)}function h(w,T,C,R){const E=R+1,N=[];for(let P=0;P<=E;P++){N[P]=[];const j=w.clone().lerp(C,P/E),se=T.clone().lerp(C,P/E),J=E-P;for(let K=0;K<=J;K++)K===0&&P===E?N[P][K]=j:N[P][K]=j.clone().lerp(se,K/J)}for(let P=0;P<E;P++)for(let j=0;j<2*(E-P)-1;j++){const se=Math.floor(j/2);j%2===0?(g(N[P][se+1]),g(N[P+1][se]),g(N[P][se])):(g(N[P][se+1]),g(N[P+1][se+1]),g(N[P+1][se]))}}function f(w){const T=new O;for(let C=0;C<o.length;C+=3)T.x=o[C+0],T.y=o[C+1],T.z=o[C+2],T.normalize().multiplyScalar(w),o[C+0]=T.x,o[C+1]=T.y,o[C+2]=T.z}function m(){const w=new O;for(let T=0;T<o.length;T+=3){w.x=o[T+0],w.y=o[T+1],w.z=o[T+2];const C=S(w)/2/Math.PI+.5,R=_(w)/Math.PI+.5;l.push(C,1-R)}x(),p()}function p(){for(let w=0;w<l.length;w+=6){const T=l[w+0],C=l[w+2],R=l[w+4],E=Math.max(T,C,R),N=Math.min(T,C,R);E>.9&&N<.1&&(T<.2&&(l[w+0]+=1),C<.2&&(l[w+2]+=1),R<.2&&(l[w+4]+=1))}}function g(w){o.push(w.x,w.y,w.z)}function y(w,T){const C=w*3;T.x=e[C+0],T.y=e[C+1],T.z=e[C+2]}function x(){const w=new O,T=new O,C=new O,R=new O,E=new _e,N=new _e,P=new _e;for(let j=0,se=0;j<o.length;j+=9,se+=6){w.set(o[j+0],o[j+1],o[j+2]),T.set(o[j+3],o[j+4],o[j+5]),C.set(o[j+6],o[j+7],o[j+8]),E.set(l[se+0],l[se+1]),N.set(l[se+2],l[se+3]),P.set(l[se+4],l[se+5]),R.copy(w).add(T).add(C).divideScalar(3);const J=S(R);M(E,se+0,w,J),M(N,se+2,T,J),M(P,se+4,C,J)}}function M(w,T,C,R){R<0&&w.x===1&&(l[T]=w.x-1),C.x===0&&C.z===0&&(l[T]=R/2/Math.PI+.5)}function S(w){return Math.atan2(w.z,-w.x)}function _(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}}class Bx extends Qa{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,s=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,n),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:n}}}class f3 extends At{constructor(e,n){super(),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n},this.fromBufferGeometry(new Bx(e,n)),this.mergeVertices()}}const hd=new O,dd=new O,Ky=new O,pd=new wn;class zx extends qe{constructor(e,n){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:n},n=n!==void 0?n:1,e.isGeometry&&(e=new qe().fromGeometry(e));const s=Math.pow(10,4),o=Math.cos(it.DEG2RAD*n),l=e.getIndex(),u=e.getAttribute("position"),h=l?l.count:u.count,f=[0,0,0],m=["a","b","c"],p=new Array(3),g={},y=[];for(let x=0;x<h;x+=3){l?(f[0]=l.getX(x),f[1]=l.getX(x+1),f[2]=l.getX(x+2)):(f[0]=x,f[1]=x+1,f[2]=x+2);const{a:M,b:S,c:_}=pd;if(M.fromBufferAttribute(u,f[0]),S.fromBufferAttribute(u,f[1]),_.fromBufferAttribute(u,f[2]),pd.getNormal(Ky),p[0]=`${Math.round(M.x*s)},${Math.round(M.y*s)},${Math.round(M.z*s)}`,p[1]=`${Math.round(S.x*s)},${Math.round(S.y*s)},${Math.round(S.z*s)}`,p[2]=`${Math.round(_.x*s)},${Math.round(_.y*s)},${Math.round(_.z*s)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let w=0;w<3;w++){const T=(w+1)%3,C=p[w],R=p[T],E=pd[m[w]],N=pd[m[T]],P=`${C}_${R}`,j=`${R}_${C}`;j in g&&g[j]?(Ky.dot(g[j].normal)<=o&&(y.push(E.x,E.y,E.z),y.push(N.x,N.y,N.z)),g[j]=null):P in g||(g[P]={index0:f[w],index1:f[T],normal:Ky.clone()})}}for(const x in g)if(g[x]){const{index0:M,index1:S}=g[x];hd.fromBufferAttribute(u,M),dd.fromBufferAttribute(u,S),y.push(hd.x,hd.y,hd.z),y.push(dd.x,dd.y,dd.z)}this.setAttribute("position",new ze(y,3))}}const iV={triangulate:function(t,e,n){n=n||2;const i=e&&e.length,s=i?e[0]*n:t.length;let o=h3(t,0,s,n,!0);const l=[];if(!o||o.next===o.prev)return l;let u,h,f,m,p,g,y;if(i&&(o=lV(t,e,o,n)),t.length>80*n){u=f=t[0],h=m=t[1];for(let x=n;x<s;x+=n)p=t[x],g=t[x+1],p<u&&(u=p),g<h&&(h=g),p>f&&(f=p),g>m&&(m=g);y=Math.max(f-u,m-h),y=y!==0?1/y:0}return ju(o,l,n,u,h,y),l}};function h3(t,e,n,i,s){let o,l;if(s===xV(t,e,n,i)>0)for(o=e;o<n;o+=i)l=vT(o,t[o],t[o+1],l);else for(o=n-i;o>=e;o-=i)l=vT(o,t[o],t[o+1],l);return l&&zp(l,l.next)&&(qu(l),l=l.next),l}function Xs(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(zp(n,n.next)||jt(n.prev,n,n.next)===0)){if(qu(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function ju(t,e,n,i,s,o,l){if(!t)return;!l&&o&&dV(t,i,s,o);let u=t,h,f;for(;t.prev!==t.next;){if(h=t.prev,f=t.next,o?sV(t,i,s,o):rV(t)){e.push(h.i/n),e.push(t.i/n),e.push(f.i/n),qu(t),t=f.next,u=f.next;continue}if(t=f,t===u){l?l===1?(t=aV(Xs(t),e,n),ju(t,e,n,i,s,o,2)):l===2&&oV(t,e,n,i,s,o):ju(Xs(t),e,n,i,s,o,1);break}}}function rV(t){const e=t.prev,n=t,i=t.next;if(jt(e,n,i)>=0)return!1;let s=t.next.next;for(;s!==t.prev;){if(fl(e.x,e.y,n.x,n.y,i.x,i.y,s.x,s.y)&&jt(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function sV(t,e,n,i){const s=t.prev,o=t,l=t.next;if(jt(s,o,l)>=0)return!1;const u=s.x<o.x?s.x<l.x?s.x:l.x:o.x<l.x?o.x:l.x,h=s.y<o.y?s.y<l.y?s.y:l.y:o.y<l.y?o.y:l.y,f=s.x>o.x?s.x>l.x?s.x:l.x:o.x>l.x?o.x:l.x,m=s.y>o.y?s.y>l.y?s.y:l.y:o.y>l.y?o.y:l.y,p=dv(u,h,e,n,i),g=dv(f,m,e,n,i);let y=t.prevZ,x=t.nextZ;for(;y&&y.z>=p&&x&&x.z<=g;){if(y!==t.prev&&y!==t.next&&fl(s.x,s.y,o.x,o.y,l.x,l.y,y.x,y.y)&&jt(y.prev,y,y.next)>=0||(y=y.prevZ,x!==t.prev&&x!==t.next&&fl(s.x,s.y,o.x,o.y,l.x,l.y,x.x,x.y)&&jt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=p;){if(y!==t.prev&&y!==t.next&&fl(s.x,s.y,o.x,o.y,l.x,l.y,y.x,y.y)&&jt(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=g;){if(x!==t.prev&&x!==t.next&&fl(s.x,s.y,o.x,o.y,l.x,l.y,x.x,x.y)&&jt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function aV(t,e,n){let i=t;do{const s=i.prev,o=i.next.next;!zp(s,o)&&d3(s,i,i.next,o)&&Wu(s,o)&&Wu(o,s)&&(e.push(s.i/n),e.push(i.i/n),e.push(o.i/n),qu(i),qu(i.next),i=t=o),i=i.next}while(i!==t);return Xs(i)}function oV(t,e,n,i,s,o){let l=t;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&gV(l,u)){let h=p3(l,u);l=Xs(l,l.next),h=Xs(h,h.next),ju(l,e,n,i,s,o),ju(h,e,n,i,s,o);return}u=u.next}l=l.next}while(l!==t)}function lV(t,e,n,i){const s=[];let o,l,u,h,f;for(o=0,l=e.length;o<l;o++)u=e[o]*i,h=o<l-1?e[o+1]*i:t.length,f=h3(t,u,h,i,!1),f===f.next&&(f.steiner=!0),s.push(mV(f));for(s.sort(cV),o=0;o<s.length;o++)uV(s[o],n),n=Xs(n,n.next);return n}function cV(t,e){return t.x-e.x}function uV(t,e){if(e=fV(t,e),e){const n=p3(e,t);Xs(e,e.next),Xs(n,n.next)}}function fV(t,e){let n=e;const i=t.x,s=t.y;let o=-1/0,l;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const g=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=i&&g>o){if(o=g,g===i){if(s===n.y)return n;if(s===n.next.y)return n.next}l=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!l)return null;if(i===o)return l;const u=l,h=l.x,f=l.y;let m=1/0,p;n=l;do i>=n.x&&n.x>=h&&i!==n.x&&fl(s<f?i:o,s,h,f,s<f?o:i,s,n.x,n.y)&&(p=Math.abs(s-n.y)/(i-n.x),Wu(n,t)&&(p<m||p===m&&(n.x>l.x||n.x===l.x&&hV(l,n)))&&(l=n,m=p)),n=n.next;while(n!==u);return l}function hV(t,e){return jt(t.prev,t,e.prev)<0&&jt(e.next,t,t.next)<0}function dV(t,e,n,i){let s=t;do s.z===null&&(s.z=dv(s.x,s.y,e,n,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,pV(s)}function pV(t){let e,n,i,s,o,l,u,h,f=1;do{for(n=t,t=null,o=null,l=0;n;){for(l++,i=n,u=0,e=0;e<f&&(u++,i=i.nextZ,!!i);e++);for(h=f;u>0||h>0&&i;)u!==0&&(h===0||!i||n.z<=i.z)?(s=n,n=n.nextZ,u--):(s=i,i=i.nextZ,h--),o?o.nextZ=s:t=s,s.prevZ=o,o=s;n=i}o.nextZ=null,f*=2}while(l>1);return t}function dv(t,e,n,i,s){return t=32767*(t-n)*s,e=32767*(e-i)*s,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function mV(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function fl(t,e,n,i,s,o,l,u){return(s-l)*(e-u)-(t-l)*(o-u)>=0&&(t-l)*(i-u)-(n-l)*(e-u)>=0&&(n-l)*(o-u)-(s-l)*(i-u)>=0}function gV(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!yV(t,e)&&(Wu(t,e)&&Wu(e,t)&&vV(t,e)&&(jt(t.prev,t,e.prev)||jt(t,e.prev,e))||zp(t,e)&&jt(t.prev,t,t.next)>0&&jt(e.prev,e,e.next)>0)}function jt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function zp(t,e){return t.x===e.x&&t.y===e.y}function d3(t,e,n,i){const s=gd(jt(t,e,n)),o=gd(jt(t,e,i)),l=gd(jt(n,i,t)),u=gd(jt(n,i,e));return!!(s!==o&&l!==u||s===0&&md(t,n,e)||o===0&&md(t,i,e)||l===0&&md(n,t,i)||u===0&&md(n,e,i))}function md(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function gd(t){return t>0?1:t<0?-1:0}function yV(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&d3(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Wu(t,e){return jt(t.prev,t,t.next)<0?jt(t,e,t.next)>=0&&jt(t,t.prev,e)>=0:jt(t,e,t.prev)<0||jt(t,t.next,e)<0}function vV(t,e){let n=t,i=!1;const s=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&s<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function p3(t,e){const n=new pv(t.i,t.x,t.y),i=new pv(e.i,e.x,e.y),s=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=s,s.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function vT(t,e,n,i){const s=new pv(t,e,n);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function qu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function pv(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xV(t,e,n,i){let s=0;for(let o=e,l=n-i;o<n;o+=i)s+=(t[l]-t[o])*(t[o+1]+t[l+1]),l=o;return s}const Wr={area:function(t){const e=t.length;let n=0;for(let i=e-1,s=0;s<e;i=s++)n+=t[i].x*t[s].y-t[s].x*t[i].y;return n*.5},isClockWise:function(t){return Wr.area(t)<0},triangulateShape:function(t,e){const n=[],i=[],s=[];xT(t),bT(n,t);let o=t.length;e.forEach(xT);for(let u=0;u<e.length;u++)i.push(o),o+=e[u].length,bT(n,e[u]);const l=iV.triangulate(n,i);for(let u=0;u<l.length;u+=3)s.push(l.slice(u,u+3));return s}};function xT(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function bT(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class vf extends qe{constructor(e,n){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,s=[],o=[];for(let u=0,h=e.length;u<h;u++){const f=e[u];l(f)}this.setAttribute("position",new ze(s,3)),this.setAttribute("uv",new ze(o,2)),this.computeVertexNormals();function l(u){const h=[],f=n.curveSegments!==void 0?n.curveSegments:12,m=n.steps!==void 0?n.steps:1;let p=n.depth!==void 0?n.depth:100,g=n.bevelEnabled!==void 0?n.bevelEnabled:!0,y=n.bevelThickness!==void 0?n.bevelThickness:6,x=n.bevelSize!==void 0?n.bevelSize:y-2,M=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const _=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:bV;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),p=n.amount);let T,C=!1,R,E,N,P;_&&(T=_.getSpacedPoints(m),C=!0,g=!1,R=_.computeFrenetFrames(m,!1),E=new O,N=new O,P=new O),g||(S=0,y=0,x=0,M=0);const j=u.extractPoints(f);let se=j.shape;const J=j.holes;if(!Wr.isClockWise(se)){se=se.reverse();for(let he=0,xe=J.length;he<xe;he++){const we=J[he];Wr.isClockWise(we)&&(J[he]=we.reverse())}}const ae=Wr.triangulateShape(se,J),Q=se;for(let he=0,xe=J.length;he<xe;he++){const we=J[he];se=se.concat(we)}function X(he,xe,we){return xe||console.error("THREE.ExtrudeGeometry: vec does not exist"),xe.clone().multiplyScalar(we).add(he)}const H=se.length,z=ae.length;function k(he,xe,we){let Fe,De,I;const U=he.x-xe.x,Ee=he.y-xe.y,Me=we.x-he.x,Z=we.y-he.y,Re=U*U+Ee*Ee,Pe=U*Z-Ee*Me;if(Math.abs(Pe)>Number.EPSILON){const ke=Math.sqrt(Re),Ne=Math.sqrt(Me*Me+Z*Z),He=xe.x-Ee/ke,Ie=xe.y+U/ke,Je=we.x-Z/Ne,Be=we.y+Me/Ne,Ke=((Je-He)*Z-(Be-Ie)*Me)/(U*Z-Ee*Me);Fe=He+U*Ke-he.x,De=Ie+Ee*Ke-he.y;const Pt=Fe*Fe+De*De;if(Pt<=2)return new _e(Fe,De);I=Math.sqrt(Pt/2)}else{let ke=!1;U>Number.EPSILON?Me>Number.EPSILON&&(ke=!0):U<-Number.EPSILON?Me<-Number.EPSILON&&(ke=!0):Math.sign(Ee)===Math.sign(Z)&&(ke=!0),ke?(Fe=-Ee,De=U,I=Math.sqrt(Re)):(Fe=U,De=Ee,I=Math.sqrt(Re/2))}return new _e(Fe/I,De/I)}const Y=[];for(let he=0,xe=Q.length,we=xe-1,Fe=he+1;he<xe;he++,we++,Fe++)we===xe&&(we=0),Fe===xe&&(Fe=0),Y[he]=k(Q[he],Q[we],Q[Fe]);const D=[];let V,ee=Y.concat();for(let he=0,xe=J.length;he<xe;he++){const we=J[he];V=[];for(let Fe=0,De=we.length,I=De-1,U=Fe+1;Fe<De;Fe++,I++,U++)I===De&&(I=0),U===De&&(U=0),V[Fe]=k(we[Fe],we[I],we[U]);D.push(V),ee=ee.concat(V)}for(let he=0;he<S;he++){const xe=he/S,we=y*Math.cos(xe*Math.PI/2),Fe=x*Math.sin(xe*Math.PI/2)+M;for(let De=0,I=Q.length;De<I;De++){const U=X(Q[De],Y[De],Fe);be(U.x,U.y,-we)}for(let De=0,I=J.length;De<I;De++){const U=J[De];V=D[De];for(let Ee=0,Me=U.length;Ee<Me;Ee++){const Z=X(U[Ee],V[Ee],Fe);be(Z.x,Z.y,-we)}}}const te=x+M;for(let he=0;he<H;he++){const xe=g?X(se[he],ee[he],te):se[he];C?(N.copy(R.normals[0]).multiplyScalar(xe.x),E.copy(R.binormals[0]).multiplyScalar(xe.y),P.copy(T[0]).add(N).add(E),be(P.x,P.y,P.z)):be(xe.x,xe.y,0)}for(let he=1;he<=m;he++)for(let xe=0;xe<H;xe++){const we=g?X(se[xe],ee[xe],te):se[xe];C?(N.copy(R.normals[he]).multiplyScalar(we.x),E.copy(R.binormals[he]).multiplyScalar(we.y),P.copy(T[he]).add(N).add(E),be(P.x,P.y,P.z)):be(we.x,we.y,p/m*he)}for(let he=S-1;he>=0;he--){const xe=he/S,we=y*Math.cos(xe*Math.PI/2),Fe=x*Math.sin(xe*Math.PI/2)+M;for(let De=0,I=Q.length;De<I;De++){const U=X(Q[De],Y[De],Fe);be(U.x,U.y,p+we)}for(let De=0,I=J.length;De<I;De++){const U=J[De];V=D[De];for(let Ee=0,Me=U.length;Ee<Me;Ee++){const Z=X(U[Ee],V[Ee],Fe);C?be(Z.x,Z.y+T[m-1].y,T[m-1].x+we):be(Z.x,Z.y,p+we)}}}fe(),ne();function fe(){const he=s.length/3;if(g){let xe=0,we=H*xe;for(let Fe=0;Fe<z;Fe++){const De=ae[Fe];Se(De[2]+we,De[1]+we,De[0]+we)}xe=m+S*2,we=H*xe;for(let Fe=0;Fe<z;Fe++){const De=ae[Fe];Se(De[0]+we,De[1]+we,De[2]+we)}}else{for(let xe=0;xe<z;xe++){const we=ae[xe];Se(we[2],we[1],we[0])}for(let xe=0;xe<z;xe++){const we=ae[xe];Se(we[0]+H*m,we[1]+H*m,we[2]+H*m)}}i.addGroup(he,s.length/3-he,0)}function ne(){const he=s.length/3;let xe=0;Ce(Q,xe),xe+=Q.length;for(let we=0,Fe=J.length;we<Fe;we++){const De=J[we];Ce(De,xe),xe+=De.length}i.addGroup(he,s.length/3-he,1)}function Ce(he,xe){let we=he.length;for(;--we>=0;){const Fe=we;let De=we-1;De<0&&(De=he.length-1);for(let I=0,U=m+S*2;I<U;I++){const Ee=H*I,Me=H*(I+1),Z=xe+Fe+Ee,Re=xe+De+Ee,Pe=xe+De+Me,ke=xe+Fe+Me;ye(Z,Re,Pe,ke)}}}function be(he,xe,we){h.push(he),h.push(xe),h.push(we)}function Se(he,xe,we){Te(he),Te(xe),Te(we);const Fe=s.length/3,De=w.generateTopUV(i,s,Fe-3,Fe-2,Fe-1);Le(De[0]),Le(De[1]),Le(De[2])}function ye(he,xe,we,Fe){Te(he),Te(xe),Te(Fe),Te(xe),Te(we),Te(Fe);const De=s.length/3,I=w.generateSideWallUV(i,s,De-6,De-3,De-2,De-1);Le(I[0]),Le(I[1]),Le(I[3]),Le(I[1]),Le(I[2]),Le(I[3])}function Te(he){s.push(h[he*3+0]),s.push(h[he*3+1]),s.push(h[he*3+2])}function Le(he){o.push(he.x),o.push(he.y)}}}toJSON(){const e=qe.prototype.toJSON.call(this),n=this.parameters.shapes,i=this.parameters.options;return _V(n,i,e)}}const bV={generateTopUV:function(t,e,n,i,s){const o=e[n*3],l=e[n*3+1],u=e[i*3],h=e[i*3+1],f=e[s*3],m=e[s*3+1];return[new _e(o,l),new _e(u,h),new _e(f,m)]},generateSideWallUV:function(t,e,n,i,s,o){const l=e[n*3],u=e[n*3+1],h=e[n*3+2],f=e[i*3],m=e[i*3+1],p=e[i*3+2],g=e[s*3],y=e[s*3+1],x=e[s*3+2],M=e[o*3],S=e[o*3+1],_=e[o*3+2];return Math.abs(u-m)<.01?[new _e(l,1-h),new _e(f,1-p),new _e(g,1-x),new _e(M,1-_)]:[new _e(u,1-h),new _e(m,1-p),new _e(y,1-x),new _e(S,1-_)]}};function _V(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){const o=t[i];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Ux extends At{constructor(e,n){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},this.fromBufferGeometry(new vf(e,n)),this.mergeVertices()}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return wV(n,i,e)}}function wV(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){const o=t[i];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Fx extends Qa{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,o,e,n),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:n}}}class m3 extends At{constructor(e,n){super(),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n},this.fromBufferGeometry(new Fx(e,n)),this.mergeVertices()}}class Ix extends qe{constructor(e,n=12,i=0,s=Math.PI*2){super(),this.type="LatheBufferGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:s},n=Math.floor(n),s=it.clamp(s,0,Math.PI*2);const o=[],l=[],u=[],h=1/n,f=new O,m=new _e;for(let p=0;p<=n;p++){const g=i+p*h*s,y=Math.sin(g),x=Math.cos(g);for(let M=0;M<=e.length-1;M++)f.x=e[M].x*y,f.y=e[M].y,f.z=e[M].x*x,l.push(f.x,f.y,f.z),m.x=p/n,m.y=M/(e.length-1),u.push(m.x,m.y)}for(let p=0;p<n;p++)for(let g=0;g<e.length-1;g++){const y=g+p*e.length,x=y,M=y+e.length,S=y+e.length+1,_=y+1;o.push(x,M,_),o.push(M,S,_)}if(this.setIndex(o),this.setAttribute("position",new ze(l,3)),this.setAttribute("uv",new ze(u,2)),this.computeVertexNormals(),s===Math.PI*2){const p=this.attributes.normal.array,g=new O,y=new O,x=new O,M=n*e.length*3;for(let S=0,_=0;S<e.length;S++,_+=3)g.x=p[_+0],g.y=p[_+1],g.z=p[_+2],y.x=p[M+_+0],y.y=p[M+_+1],y.z=p[M+_+2],x.addVectors(g,y).normalize(),p[_+0]=p[M+_+0]=x.x,p[_+1]=p[M+_+1]=x.y,p[_+2]=p[M+_+2]=x.z}}}class g3 extends At{constructor(e,n,i,s){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:s},this.fromBufferGeometry(new Ix(e,n,i,s)),this.mergeVertices()}}class Up extends Qa{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,n),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:n}}}class y3 extends At{constructor(e,n){super(),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n},this.fromBufferGeometry(new Up(e,n)),this.mergeVertices()}}function Ml(t,e,n){qe.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};const i=[],s=[],o=[],l=[],u=1e-5,h=new O,f=new O,m=new O,p=new O,g=new O;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const y=e+1;for(let x=0;x<=n;x++){const M=x/n;for(let S=0;S<=e;S++){const _=S/e;t(_,M,f),s.push(f.x,f.y,f.z),_-u>=0?(t(_-u,M,m),p.subVectors(f,m)):(t(_+u,M,m),p.subVectors(m,f)),M-u>=0?(t(_,M-u,m),g.subVectors(f,m)):(t(_,M+u,m),g.subVectors(m,f)),h.crossVectors(p,g).normalize(),o.push(h.x,h.y,h.z),l.push(_,M)}}for(let x=0;x<n;x++)for(let M=0;M<e;M++){const S=x*y+M,_=x*y+M+1,w=(x+1)*y+M+1,T=(x+1)*y+M;i.push(S,_,T),i.push(_,w,T)}this.setIndex(i),this.setAttribute("position",new ze(s,3)),this.setAttribute("normal",new ze(o,3)),this.setAttribute("uv",new ze(l,2))}Ml.prototype=Object.create(qe.prototype);Ml.prototype.constructor=Ml;function Xu(t,e,n){At.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Ml(t,e,n)),this.mergeVertices()}Xu.prototype=Object.create(At.prototype);Xu.prototype.constructor=Xu;class v3 extends At{constructor(e,n,i,s){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:s},this.fromBufferGeometry(new Op(e,n,i,s)),this.mergeVertices()}}class x3 extends At{constructor(e,n,i,s){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:s},this.fromBufferGeometry(new Qa(e,n,i,s)),this.mergeVertices()}}class Hx extends qe{constructor(e=.5,n=1,i=8,s=1,o=0,l=Math.PI*2){super(),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:s,thetaStart:o,thetaLength:l},i=Math.max(3,i),s=Math.max(1,s);const u=[],h=[],f=[],m=[];let p=e;const g=(n-e)/s,y=new O,x=new _e;for(let M=0;M<=s;M++){for(let S=0;S<=i;S++){const _=o+S/i*l;y.x=p*Math.cos(_),y.y=p*Math.sin(_),h.push(y.x,y.y,y.z),f.push(0,0,1),x.x=(y.x/n+1)/2,x.y=(y.y/n+1)/2,m.push(x.x,x.y)}p+=g}for(let M=0;M<s;M++){const S=M*(i+1);for(let _=0;_<i;_++){const w=_+S,T=w,C=w+i+1,R=w+i+2,E=w+1;u.push(T,C,E),u.push(C,R,E)}}this.setIndex(u),this.setAttribute("position",new ze(h,3)),this.setAttribute("normal",new ze(f,3)),this.setAttribute("uv",new ze(m,2))}}class b3 extends At{constructor(e,n,i,s,o,l){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:s,thetaStart:o,thetaLength:l},this.fromBufferGeometry(new Hx(e,n,i,s,o,l)),this.mergeVertices()}}class Vx extends qe{constructor(e,n=12){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],s=[],o=[],l=[];let u=0,h=0;if(Array.isArray(e)===!1)f(e);else for(let m=0;m<e.length;m++)f(e[m]),this.addGroup(u,h,m),u+=h,h=0;this.setIndex(i),this.setAttribute("position",new ze(s,3)),this.setAttribute("normal",new ze(o,3)),this.setAttribute("uv",new ze(l,2));function f(m){const p=s.length/3,g=m.extractPoints(n);let y=g.shape;const x=g.holes;Wr.isClockWise(y)===!1&&(y=y.reverse());for(let S=0,_=x.length;S<_;S++){const w=x[S];Wr.isClockWise(w)===!0&&(x[S]=w.reverse())}const M=Wr.triangulateShape(y,x);for(let S=0,_=x.length;S<_;S++){const w=x[S];y=y.concat(w)}for(let S=0,_=y.length;S<_;S++){const w=y[S];s.push(w.x,w.y,0),o.push(0,0,1),l.push(w.x,w.y)}for(let S=0,_=M.length;S<_;S++){const w=M[S],T=w[0]+p,C=w[1]+p,R=w[2]+p;i.push(T,C,R),h+=3}}}toJSON(){const e=qe.prototype.toJSON.call(this),n=this.parameters.shapes;return MV(n,e)}}function MV(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const s=t[n];e.shapes.push(s.uuid)}else e.shapes.push(t.uuid);return e}class Gx extends At{constructor(e,n){super(),this.type="ShapeGeometry",typeof n=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),n=n.curveSegments),this.parameters={shapes:e,curveSegments:n},this.fromBufferGeometry(new Vx(e,n)),this.mergeVertices()}toJSON(){const e=At.prototype.toJSON.call(this),n=this.parameters.shapes;return SV(n,e)}}function SV(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const s=t[n];e.shapes.push(s.uuid)}else e.shapes.push(t.uuid);return e}class Fp extends qe{constructor(e=1,n=8,i=6,s=0,o=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:s,phiLength:o,thetaStart:l,thetaLength:u},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const h=Math.min(l+u,Math.PI);let f=0;const m=[],p=new O,g=new O,y=[],x=[],M=[],S=[];for(let _=0;_<=i;_++){const w=[],T=_/i;let C=0;_==0&&l==0?C=.5/n:_==i&&h==Math.PI&&(C=-.5/n);for(let R=0;R<=n;R++){const E=R/n;p.x=-e*Math.cos(s+E*o)*Math.sin(l+T*u),p.y=e*Math.cos(l+T*u),p.z=e*Math.sin(s+E*o)*Math.sin(l+T*u),x.push(p.x,p.y,p.z),g.copy(p).normalize(),M.push(g.x,g.y,g.z),S.push(E+C,1-T),w.push(f++)}m.push(w)}for(let _=0;_<i;_++)for(let w=0;w<n;w++){const T=m[_][w+1],C=m[_][w],R=m[_+1][w],E=m[_+1][w+1];(_!==0||l>0)&&y.push(T,C,E),(_!==i-1||h<Math.PI)&&y.push(C,R,E)}this.setIndex(y),this.setAttribute("position",new ze(x,3)),this.setAttribute("normal",new ze(M,3)),this.setAttribute("uv",new ze(S,2))}}class _3 extends At{constructor(e,n,i,s,o,l,u){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:s,phiLength:o,thetaStart:l,thetaLength:u},this.fromBufferGeometry(new Fp(e,n,i,s,o,l,u)),this.mergeVertices()}}class kx extends Qa{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,n),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:n}}}class w3 extends At{constructor(e,n){super(),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n},this.fromBufferGeometry(new kx(e,n)),this.mergeVertices()}}class jx extends vf{constructor(e,n={}){const i=n.font;if(!(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new qe;const s=i.generateShapes(e,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(s,n),this.type="TextBufferGeometry"}}class M3 extends At{constructor(e,n){super(),this.type="TextGeometry",this.parameters={text:e,parameters:n},this.fromBufferGeometry(new jx(e,n)),this.mergeVertices()}}class Wx extends qe{constructor(e=1,n=.4,i=8,s=6,o=Math.PI*2){super(),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:s,arc:o},i=Math.floor(i),s=Math.floor(s);const l=[],u=[],h=[],f=[],m=new O,p=new O,g=new O;for(let y=0;y<=i;y++)for(let x=0;x<=s;x++){const M=x/s*o,S=y/i*Math.PI*2;p.x=(e+n*Math.cos(S))*Math.cos(M),p.y=(e+n*Math.cos(S))*Math.sin(M),p.z=n*Math.sin(S),u.push(p.x,p.y,p.z),m.x=e*Math.cos(M),m.y=e*Math.sin(M),g.subVectors(p,m).normalize(),h.push(g.x,g.y,g.z),f.push(x/s),f.push(y/i)}for(let y=1;y<=i;y++)for(let x=1;x<=s;x++){const M=(s+1)*y+x-1,S=(s+1)*(y-1)+x-1,_=(s+1)*(y-1)+x,w=(s+1)*y+x;l.push(M,S,w),l.push(S,_,w)}this.setIndex(l),this.setAttribute("position",new ze(u,3)),this.setAttribute("normal",new ze(h,3)),this.setAttribute("uv",new ze(f,2))}}class S3 extends At{constructor(e,n,i,s,o){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:s,arc:o},this.fromBufferGeometry(new Wx(e,n,i,s,o)),this.mergeVertices()}}class qx extends qe{constructor(e=1,n=.4,i=64,s=8,o=2,l=3){super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:s,p:o,q:l},i=Math.floor(i),s=Math.floor(s);const u=[],h=[],f=[],m=[],p=new O,g=new O,y=new O,x=new O,M=new O,S=new O,_=new O;for(let T=0;T<=i;++T){const C=T/i*o*Math.PI*2;w(C,o,l,e,y),w(C+.01,o,l,e,x),S.subVectors(x,y),_.addVectors(x,y),M.crossVectors(S,_),_.crossVectors(M,S),M.normalize(),_.normalize();for(let R=0;R<=s;++R){const E=R/s*Math.PI*2,N=-n*Math.cos(E),P=n*Math.sin(E);p.x=y.x+(N*_.x+P*M.x),p.y=y.y+(N*_.y+P*M.y),p.z=y.z+(N*_.z+P*M.z),h.push(p.x,p.y,p.z),g.subVectors(p,y).normalize(),f.push(g.x,g.y,g.z),m.push(T/i),m.push(R/s)}}for(let T=1;T<=i;T++)for(let C=1;C<=s;C++){const R=(s+1)*(T-1)+(C-1),E=(s+1)*T+(C-1),N=(s+1)*T+C,P=(s+1)*(T-1)+C;u.push(R,E,P),u.push(E,N,P)}this.setIndex(u),this.setAttribute("position",new ze(h,3)),this.setAttribute("normal",new ze(f,3)),this.setAttribute("uv",new ze(m,2));function w(T,C,R,E,N){const P=Math.cos(T),j=Math.sin(T),se=R/C*T,J=Math.cos(se);N.x=E*(2+J)*.5*P,N.y=E*(2+J)*j*.5,N.z=E*Math.sin(se)*.5}}}class T3 extends At{constructor(e,n,i,s,o,l,u){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:s,p:o,q:l},u!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new qx(e,n,i,s,o,l)),this.mergeVertices()}}class Xx extends qe{constructor(e,n=64,i=1,s=8,o=!1){super(),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:s,closed:o};const l=e.computeFrenetFrames(n,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new O,h=new O,f=new _e;let m=new O;const p=[],g=[],y=[],x=[];M(),this.setIndex(x),this.setAttribute("position",new ze(p,3)),this.setAttribute("normal",new ze(g,3)),this.setAttribute("uv",new ze(y,2));function M(){for(let T=0;T<n;T++)S(T);S(o===!1?n:0),w(),_()}function S(T){m=e.getPointAt(T/n,m);const C=l.normals[T],R=l.binormals[T];for(let E=0;E<=s;E++){const N=E/s*Math.PI*2,P=Math.sin(N),j=-Math.cos(N);h.x=j*C.x+P*R.x,h.y=j*C.y+P*R.y,h.z=j*C.z+P*R.z,h.normalize(),g.push(h.x,h.y,h.z),u.x=m.x+i*h.x,u.y=m.y+i*h.y,u.z=m.z+i*h.z,p.push(u.x,u.y,u.z)}}function _(){for(let T=1;T<=n;T++)for(let C=1;C<=s;C++){const R=(s+1)*(T-1)+(C-1),E=(s+1)*T+(C-1),N=(s+1)*T+C,P=(s+1)*(T-1)+C;x.push(R,E,P),x.push(E,N,P)}}function w(){for(let T=0;T<=n;T++)for(let C=0;C<=s;C++)f.x=T/n,f.y=C/s,y.push(f.x,f.y)}}toJSON(){const e=qe.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}class E3 extends At{constructor(e,n,i,s,o,l){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:s,closed:o},l!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const u=new Xx(e,n,i,s,o);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals,this.fromBufferGeometry(u),this.mergeVertices()}}class Yx extends qe{constructor(e){super(),this.type="WireframeGeometry";const n=[],i=[0,0],s={},o=["a","b","c"];if(e&&e.isGeometry){const l=e.faces;for(let u=0,h=l.length;u<h;u++){const f=l[u];for(let m=0;m<3;m++){const p=f[o[m]],g=f[o[(m+1)%3]];i[0]=Math.min(p,g),i[1]=Math.max(p,g);const y=i[0]+","+i[1];s[y]===void 0&&(s[y]={index1:i[0],index2:i[1]})}}for(const u in s){const h=s[u];let f=e.vertices[h.index1];n.push(f.x,f.y,f.z),f=e.vertices[h.index2],n.push(f.x,f.y,f.z)}}else if(e&&e.isBufferGeometry){const l=new O;if(e.index!==null){const u=e.attributes.position,h=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:h.count,materialIndex:0}]);for(let m=0,p=f.length;m<p;++m){const g=f[m],y=g.start,x=g.count;for(let M=y,S=y+x;M<S;M+=3)for(let _=0;_<3;_++){const w=h.getX(M+_),T=h.getX(M+(_+1)%3);i[0]=Math.min(w,T),i[1]=Math.max(w,T);const C=i[0]+","+i[1];s[C]===void 0&&(s[C]={index1:i[0],index2:i[1]})}}for(const m in s){const p=s[m];l.fromBufferAttribute(u,p.index1),n.push(l.x,l.y,l.z),l.fromBufferAttribute(u,p.index2),n.push(l.x,l.y,l.z)}}else{const u=e.attributes.position;for(let h=0,f=u.count/3;h<f;h++)for(let m=0;m<3;m++){const p=3*h+m;l.fromBufferAttribute(u,p),n.push(l.x,l.y,l.z);const g=3*h+(m+1)%3;l.fromBufferAttribute(u,g),n.push(l.x,l.y,l.z)}}}this.setAttribute("position",new ze(n,3))}}var zn=Object.freeze({__proto__:null,BoxGeometry:hv,BoxBufferGeometry:pf,CircleGeometry:l3,CircleBufferGeometry:Ox,ConeGeometry:c3,ConeBufferGeometry:u3,CylinderGeometry:Px,CylinderBufferGeometry:yf,DodecahedronGeometry:f3,DodecahedronBufferGeometry:Bx,EdgesGeometry:zx,ExtrudeGeometry:Ux,ExtrudeBufferGeometry:vf,IcosahedronGeometry:m3,IcosahedronBufferGeometry:Fx,LatheGeometry:g3,LatheBufferGeometry:Ix,OctahedronGeometry:y3,OctahedronBufferGeometry:Up,ParametricGeometry:Xu,ParametricBufferGeometry:Ml,PlaneGeometry:v3,PlaneBufferGeometry:Op,PolyhedronGeometry:x3,PolyhedronBufferGeometry:Qa,RingGeometry:b3,RingBufferGeometry:Hx,ShapeGeometry:Gx,ShapeBufferGeometry:Vx,SphereGeometry:_3,SphereBufferGeometry:Fp,TetrahedronGeometry:w3,TetrahedronBufferGeometry:kx,TextGeometry:M3,TextBufferGeometry:jx,TorusGeometry:S3,TorusBufferGeometry:Wx,TorusKnotGeometry:T3,TorusKnotBufferGeometry:qx,TubeGeometry:E3,TubeBufferGeometry:Xx,WireframeGeometry:Yx});function Ha(t){$e.call(this),this.type="ShadowMaterial",this.color=new Ue(0),this.transparent=!0,this.setValues(t)}Ha.prototype=Object.create($e.prototype);Ha.prototype.constructor=Ha;Ha.prototype.isShadowMaterial=!0;Ha.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.color.copy(t.color),this};function Qr(t){Vn.call(this,t),this.type="RawShaderMaterial"}Qr.prototype=Object.create(Vn.prototype);Qr.prototype.constructor=Qr;Qr.prototype.isRawShaderMaterial=!0;function pr(t){$e.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ue(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}pr.prototype=Object.create($e.prototype);pr.prototype.constructor=pr;pr.prototype.isMeshStandardMaterial=!0;pr.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this};function Ys(t){pr.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _e(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=it.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}Ys.prototype=Object.create(pr.prototype);Ys.prototype.constructor=Ys;Ys.prototype.isMeshPhysicalMaterial=!0;Ys.prototype.copy=function(t){return pr.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new Ue).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this};function Zs(t){$e.call(this),this.type="MeshPhongMaterial",this.color=new Ue(16777215),this.specular=new Ue(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}Zs.prototype=Object.create($e.prototype);Zs.prototype.constructor=Zs;Zs.prototype.isMeshPhongMaterial=!0;Zs.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function Va(t){$e.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ue(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}Va.prototype=Object.create($e.prototype);Va.prototype.constructor=Va;Va.prototype.isMeshToonMaterial=!0;Va.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function Ga(t){$e.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}Ga.prototype=Object.create($e.prototype);Ga.prototype.constructor=Ga;Ga.prototype.isMeshNormalMaterial=!0;Ga.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function ka(t){$e.call(this),this.type="MeshLambertMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}ka.prototype=Object.create($e.prototype);ka.prototype.constructor=ka;ka.prototype.isMeshLambertMaterial=!0;ka.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function ja(t){$e.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ue(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}ja.prototype=Object.create($e.prototype);ja.prototype.constructor=ja;ja.prototype.isMeshMatcapMaterial=!0;ja.prototype.copy=function(t){return $e.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this};function Wa(t){Ht.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Wa.prototype=Object.create(Ht.prototype);Wa.prototype.constructor=Wa;Wa.prototype.isLineDashedMaterial=!0;Wa.prototype.copy=function(t){return Ht.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var TV=Object.freeze({__proto__:null,ShadowMaterial:Ha,SpriteMaterial:qs,RawShaderMaterial:Qr,ShaderMaterial:Vn,PointsMaterial:ji,MeshPhysicalMaterial:Ys,MeshStandardMaterial:pr,MeshPhongMaterial:Zs,MeshToonMaterial:Va,MeshNormalMaterial:Ga,MeshLambertMaterial:ka,MeshDepthMaterial:ks,MeshDistanceMaterial:js,MeshBasicMaterial:Ci,MeshMatcapMaterial:ja,LineDashedMaterial:Wa,LineBasicMaterial:Ht,Material:$e});const zt={arraySlice:function(t,e,n){return zt.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(s,o){return t[s]-t[o]}const n=t.length,i=new Array(n);for(let s=0;s!==n;++s)i[s]=s;return i.sort(e),i},sortedArray:function(t,e,n){const i=t.length,s=new t.constructor(i);for(let o=0,l=0;l!==i;++o){const u=n[o]*e;for(let h=0;h!==e;++h)s[l++]=t[u+h]}return s},flattenJSON:function(t,e,n,i){let s=1,o=t[0];for(;o!==void 0&&o[i]===void 0;)o=t[s++];if(o===void 0)return;let l=o[i];if(l!==void 0)if(Array.isArray(l))do l=o[i],l!==void 0&&(e.push(o.time),n.push.apply(n,l)),o=t[s++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[i],l!==void 0&&(e.push(o.time),l.toArray(n,n.length)),o=t[s++];while(o!==void 0);else do l=o[i],l!==void 0&&(e.push(o.time),n.push(l)),o=t[s++];while(o!==void 0)},subclip:function(t,e,n,i,s=30){const o=t.clone();o.name=e;const l=[];for(let h=0;h<o.tracks.length;++h){const f=o.tracks[h],m=f.getValueSize(),p=[],g=[];for(let y=0;y<f.times.length;++y){const x=f.times[y]*s;if(!(x<n||x>=i)){p.push(f.times[y]);for(let M=0;M<m;++M)g.push(f.values[y*m+M])}}p.length!==0&&(f.times=zt.convertArray(p,f.times.constructor),f.values=zt.convertArray(g,f.values.constructor),l.push(f))}o.tracks=l;let u=1/0;for(let h=0;h<o.tracks.length;++h)u>o.tracks[h].times[0]&&(u=o.tracks[h].times[0]);for(let h=0;h<o.tracks.length;++h)o.tracks[h].shift(-1*u);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const s=n.tracks.length,o=e/i;for(let l=0;l<s;++l){const u=n.tracks[l],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const f=t.tracks.find(function(_){return _.name===u.name&&_.ValueTypeName===h});if(f===void 0)continue;let m=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=p/3);let g=0;const y=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const x=u.times.length-1;let M;if(o<=u.times[0]){const _=m,w=p-m;M=zt.arraySlice(u.values,_,w)}else if(o>=u.times[x]){const _=x*p+m,w=_+p-m;M=zt.arraySlice(u.values,_,w)}else{const _=u.createInterpolant(),w=m,T=p-m;_.evaluate(o),M=zt.arraySlice(_.resultBuffer,w,T)}h==="quaternion"&&new Nn().fromArray(M).normalize().conjugate().toArray(M);const S=f.times.length;for(let _=0;_<S;++_){const w=_*y+g;if(h==="quaternion")Nn.multiplyQuaternionsFlat(f.values,w,M,0,f.values,w);else{const T=y-g*2;for(let C=0;C<T;++C)f.values[w+C]-=M[C]}}}return t.blendMode=Ax,t}};function hi(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}Object.assign(hi.prototype,{evaluate:function(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],s=e[n-1];e:{t:{let o;n:{i:if(!(t<i)){for(let l=n+2;;){if(i===void 0){if(t<s)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,s)}if(n===l)break;if(s=i,i=e[++n],t<i)break t}o=e.length;break n}if(!(t>=s)){const l=e[1];t<l&&(n=2,s=l);for(let u=n-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===u)break;if(i=s,s=e[--n-1],t>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const l=n+o>>>1;t<e[l]?o=l:n=l+1}if(i=e[n],s=e[n-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(i===void 0)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,s,t)}this._cachedIndex=n,this.intervalChanged_(n,s,i)}return this.interpolate_(n,s,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=t*i;for(let o=0;o!==i;++o)e[o]=n[s+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(hi.prototype,{beforeStart_:hi.prototype.copySampleValue_,afterEnd_:hi.prototype.copySampleValue_});function tp(t,e,n,i){hi.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}tp.prototype=Object.assign(Object.create(hi.prototype),{constructor:tp,DefaultSettings_:{endingStart:Ra,endingEnd:Ra},intervalChanged_:function(t,e,n){const i=this.parameterPositions;let s=t-2,o=t+1,l=i[s],u=i[o];if(l===void 0)switch(this.getSettings_().endingStart){case Ca:s=t,l=2*e-n;break;case Ru:s=i.length-2,l=e+i[s]-i[s+1];break;default:s=t,l=n}if(u===void 0)switch(this.getSettings_().endingEnd){case Ca:o=t,u=2*n-e;break;case Ru:o=1,u=n+i[1]-i[0];break;default:o=t-1,u=e}const h=(n-e)*.5,f=this.valueSize;this._weightPrev=h/(e-l),this._weightNext=h/(u-n),this._offsetPrev=s*f,this._offsetNext=o*f},interpolate_:function(t,e,n,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=t*l,h=u-l,f=this._offsetPrev,m=this._offsetNext,p=this._weightPrev,g=this._weightNext,y=(n-e)/(i-e),x=y*y,M=x*y,S=-p*M+2*p*x-p*y,_=(1+p)*M+(-1.5-2*p)*x+(-.5+p)*y+1,w=(-1-g)*M+(1.5+g)*x+.5*y,T=g*M-g*x;for(let C=0;C!==l;++C)s[C]=S*o[f+C]+_*o[h+C]+w*o[u+C]+T*o[m+C];return s}});function Yu(t,e,n,i){hi.call(this,t,e,n,i)}Yu.prototype=Object.assign(Object.create(hi.prototype),{constructor:Yu,interpolate_:function(t,e,n,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=t*l,h=u-l,f=(n-e)/(i-e),m=1-f;for(let p=0;p!==l;++p)s[p]=o[h+p]*m+o[u+p]*f;return s}});function np(t,e,n,i){hi.call(this,t,e,n,i)}np.prototype=Object.assign(Object.create(hi.prototype),{constructor:np,interpolate_:function(t){return this.copySampleValue_(t-1)}});function Mn(t,e,n,i){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=zt.convertArray(e,this.TimeBufferType),this.values=zt.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(Mn,{toJSON:function(t){const e=t.constructor;let n;if(e.toJSON!==void 0)n=e.toJSON(t);else{n={name:t.name,times:zt.convertArray(t.times,Array),values:zt.convertArray(t.values,Array)};const i=t.getInterpolation();i!==t.DefaultInterpolation&&(n.interpolation=i)}return n.type=t.ValueTypeName,n}});Object.assign(Mn.prototype,{constructor:Mn,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:uu,InterpolantFactoryMethodDiscrete:function(t){return new np(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Yu(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new tp(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case Au:e=this.InterpolantFactoryMethodDiscrete;break;case uu:e=this.InterpolantFactoryMethodLinear;break;case Pd:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Au;case this.InterpolantFactoryMethodLinear:return uu;case this.InterpolantFactoryMethodSmooth:return Pd}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(t!==0){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this},scale:function(t){if(t!==1){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this},trim:function(t,e){const n=this.times,i=n.length;let s=0,o=i-1;for(;s!==i&&n[s]<t;)++s;for(;o!==-1&&n[o]>e;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const l=this.getValueSize();this.times=zt.arraySlice(n,s,o),this.values=zt.arraySlice(this.values,s*l,o*l)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let l=0;l!==s;l++){const u=n[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),t=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,o),t=!1;break}o=u}if(i!==void 0&&zt.isTypedArray(i))for(let l=0,u=i.length;l!==u;++l){const h=i[l];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,h),t=!1;break}}return t},optimize:function(){const t=zt.arraySlice(this.times),e=zt.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Pd,s=t.length-1;let o=1;for(let l=1;l<s;++l){let u=!1;const h=t[l],f=t[l+1];if(h!==f&&(l!==1||h!==h[0]))if(i)u=!0;else{const m=l*n,p=m-n,g=m+n;for(let y=0;y!==n;++y){const x=e[m+y];if(x!==e[p+y]||x!==e[g+y]){u=!0;break}}}if(u){if(l!==o){t[o]=t[l];const m=l*n,p=o*n;for(let g=0;g!==n;++g)e[p+g]=e[m+g]}++o}}if(s>0){t[o]=t[s];for(let l=s*n,u=o*n,h=0;h!==n;++h)e[u+h]=e[l+h];++o}return o!==t.length?(this.times=zt.arraySlice(t,0,o),this.values=zt.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this},clone:function(){const t=zt.arraySlice(this.times,0),e=zt.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}});function ip(t,e,n){Mn.call(this,t,e,n)}ip.prototype=Object.assign(Object.create(Mn.prototype),{constructor:ip,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Au,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function rp(t,e,n,i){Mn.call(this,t,e,n,i)}rp.prototype=Object.assign(Object.create(Mn.prototype),{constructor:rp,ValueTypeName:"color"});function Sl(t,e,n,i){Mn.call(this,t,e,n,i)}Sl.prototype=Object.assign(Object.create(Mn.prototype),{constructor:Sl,ValueTypeName:"number"});function sp(t,e,n,i){hi.call(this,t,e,n,i)}sp.prototype=Object.assign(Object.create(hi.prototype),{constructor:sp,interpolate_:function(t,e,n,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=(n-e)/(i-e);let h=t*l;for(let f=h+l;h!==f;h+=4)Nn.slerpFlat(s,0,o,h-l,o,h,u);return s}});function Zu(t,e,n,i){Mn.call(this,t,e,n,i)}Zu.prototype=Object.assign(Object.create(Mn.prototype),{constructor:Zu,ValueTypeName:"quaternion",DefaultInterpolation:uu,InterpolantFactoryMethodLinear:function(t){return new sp(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0});function ap(t,e,n,i){Mn.call(this,t,e,n,i)}ap.prototype=Object.assign(Object.create(Mn.prototype),{constructor:ap,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Au,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Tl(t,e,n,i){Mn.call(this,t,e,n,i)}Tl.prototype=Object.assign(Object.create(Mn.prototype),{constructor:Tl,ValueTypeName:"vector"});function li(t,e=-1,n,i=Lp){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=it.generateUUID(),this.duration<0&&this.resetDuration()}function EV(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Sl;case"vector":case"vector2":case"vector3":case"vector4":return Tl;case"color":return rp;case"quaternion":return Zu;case"bool":case"boolean":return ip;case"string":return ap}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function AV(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=EV(t.type);if(t.times===void 0){const n=[],i=[];zt.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(li,{parse:function(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let o=0,l=n.length;o!==l;++o)e.push(AV(n[o]).scale(i));const s=new li(t.name,t.duration,e,t.blendMode);return s.uuid=t.uuid,s},toJSON:function(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let s=0,o=n.length;s!==o;++s)e.push(Mn.toJSON(n[s]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){const s=e.length,o=[];for(let l=0;l<s;l++){let u=[],h=[];u.push((l+s-1)%s,l,(l+1)%s),h.push(0,1,0);const f=zt.getKeyframeOrder(u);u=zt.sortedArray(u,1,f),h=zt.sortedArray(h,1,f),!i&&u[0]===0&&(u.push(s),h.push(h[0])),o.push(new Sl(".morphTargetInfluences["+e[l].name+"]",u,h).scale(1/n))}return new li(t,-1,o)},findByName:function(t,e){let n=t;if(!Array.isArray(t)){const i=t;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){const i={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,u=t.length;l<u;l++){const h=t[l],f=h.name.match(s);if(f&&f.length>1){const m=f[1];let p=i[m];p||(i[m]=p=[]),p.push(h)}}const o=[];for(const l in i)o.push(li.CreateFromMorphTargetSequence(l,i[l],e,n));return o},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(m,p,g,y,x){if(g.length!==0){const M=[],S=[];zt.flattenJSON(g,M,S,y),M.length!==0&&x.push(new m(p,M,S))}},i=[],s=t.name||"default",o=t.fps||30,l=t.blendMode;let u=t.length||-1;const h=t.hierarchy||[];for(let m=0;m<h.length;m++){const p=h[m].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let x=0;x<p[y].morphTargets.length;x++)g[p[y].morphTargets[x]]=-1;for(const x in g){const M=[],S=[];for(let _=0;_!==p[y].morphTargets.length;++_){const w=p[y];M.push(w.time),S.push(w.morphTarget===x?1:0)}i.push(new Sl(".morphTargetInfluence["+x+"]",M,S))}u=g.length*o}else{const g=".bones["+e[m].name+"]";n(Tl,g+".position",p,"pos",i),n(Zu,g+".quaternion",p,"rot",i),n(Tl,g+".scale",p,"scl",i)}}return i.length===0?null:new li(s,u,i,l)}});Object.assign(li.prototype,{resetDuration:function(){const t=this.tracks;let e=0;for(let n=0,i=t.length;n!==i;++n){const s=this.tracks[n];e=Math.max(e,s.times[s.times.length-1])}return this.duration=e,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new li(this.name,this.duration,t,this.blendMode)},toJSON:function(){return li.toJSON(this)}});const qa={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Zx(t,e,n){const i=this;let s=!1,o=0,l=0,u;const h=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(f){l++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,l),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,l),o===l&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return u?u(f):f},this.setURLModifier=function(f){return u=f,this},this.addHandler=function(f,m){return h.push(f,m),this},this.removeHandler=function(f){const m=h.indexOf(f);return m!==-1&&h.splice(m,2),this},this.getHandler=function(f){for(let m=0,p=h.length;m<p;m+=2){const g=h[m],y=h[m+1];if(g.global&&(g.lastIndex=0),g.test(f))return y}return null}}const A3=new Zx;function wt(t){this.manager=t!==void 0?t:A3,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(wt.prototype,{load:function(){},loadAsync:function(t,e){const n=this;return new Promise(function(i,s){n.load(t,i,e,s)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const Hi={};function Ni(t){wt.call(this,t)}Ni.prototype=Object.assign(Object.create(wt.prototype),{constructor:Ni,load:function(t,e,n,i){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=qa.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;if(Hi[t]!==void 0){Hi[t].push({onLoad:e,onProgress:n,onError:i});return}const l=/^data:(.*?)(;base64)?,(.*)$/,u=t.match(l);let h;if(u){const f=u[1],m=!!u[2];let p=u[3];p=decodeURIComponent(p),m&&(p=atob(p));try{let g;const y=(this.responseType||"").toLowerCase();switch(y){case"arraybuffer":case"blob":const x=new Uint8Array(p.length);for(let S=0;S<p.length;S++)x[S]=p.charCodeAt(S);y==="blob"?g=new Blob([x.buffer],{type:f}):g=x.buffer;break;case"document":g=new DOMParser().parseFromString(p,f);break;case"json":g=JSON.parse(p);break;default:g=p;break}setTimeout(function(){e&&e(g),s.manager.itemEnd(t)},0)}catch(g){setTimeout(function(){i&&i(g),s.manager.itemError(t),s.manager.itemEnd(t)},0)}}else{Hi[t]=[],Hi[t].push({onLoad:e,onProgress:n,onError:i}),h=new XMLHttpRequest,h.open("GET",t,!0),h.addEventListener("load",function(f){const m=this.response,p=Hi[t];if(delete Hi[t],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),qa.add(t,m);for(let g=0,y=p.length;g<y;g++){const x=p[g];x.onLoad&&x.onLoad(m)}s.manager.itemEnd(t)}else{for(let g=0,y=p.length;g<y;g++){const x=p[g];x.onError&&x.onError(f)}s.manager.itemError(t),s.manager.itemEnd(t)}},!1),h.addEventListener("progress",function(f){const m=Hi[t];for(let p=0,g=m.length;p<g;p++){const y=m[p];y.onProgress&&y.onProgress(f)}},!1),h.addEventListener("error",function(f){const m=Hi[t];delete Hi[t];for(let p=0,g=m.length;p<g;p++){const y=m[p];y.onError&&y.onError(f)}s.manager.itemError(t),s.manager.itemEnd(t)},!1),h.addEventListener("abort",function(f){const m=Hi[t];delete Hi[t];for(let p=0,g=m.length;p<g;p++){const y=m[p];y.onError&&y.onError(f)}s.manager.itemError(t),s.manager.itemEnd(t)},!1),this.responseType!==void 0&&(h.responseType=this.responseType),this.withCredentials!==void 0&&(h.withCredentials=this.withCredentials),h.overrideMimeType&&h.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const f in this.requestHeader)h.setRequestHeader(f,this.requestHeader[f]);h.send(null)}return s.manager.itemStart(t),h},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}});function mv(t){wt.call(this,t)}mv.prototype=Object.assign(Object.create(wt.prototype),{constructor:mv,load:function(t,e,n,i){const s=this,o=new Ni(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(l){try{e(s.parse(JSON.parse(l)))}catch(u){i?i(u):console.error(u),s.manager.itemError(t)}},n,i)},parse:function(t){const e=[];for(let n=0;n<t.length;n++){const i=li.parse(t[n]);e.push(i)}return e}});function gv(t){wt.call(this,t)}gv.prototype=Object.assign(Object.create(wt.prototype),{constructor:gv,load:function(t,e,n,i){const s=this,o=[],l=new wl,u=new Ni(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(s.withCredentials);let h=0;function f(m){u.load(t[m],function(p){const g=s.parse(p,!0);o[m]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},h+=1,h===6&&(g.mipmapCount===1&&(l.minFilter=mn),l.image=o,l.format=g.format,l.needsUpdate=!0,e&&e(l))},n,i)}if(Array.isArray(t))for(let m=0,p=t.length;m<p;++m)f(m);else u.load(t,function(m){const p=s.parse(m,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let y=0;y<g;y++){o[y]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+x]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}l.image=o}else l.image.width=p.width,l.image.height=p.height,l.mipmaps=p.mipmaps;p.mipmapCount===1&&(l.minFilter=mn),l.format=p.format,l.needsUpdate=!0,e&&e(l)},n,i);return l}});function El(t){wt.call(this,t)}El.prototype=Object.assign(Object.create(wt.prototype),{constructor:El,load:function(t,e,n,i){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=qa.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const l=document.createElementNS("http://www.w3.org/1999/xhtml","img");function u(){l.removeEventListener("load",u,!1),l.removeEventListener("error",h,!1),qa.add(t,this),e&&e(this),s.manager.itemEnd(t)}function h(f){l.removeEventListener("load",u,!1),l.removeEventListener("error",h,!1),i&&i(f),s.manager.itemError(t),s.manager.itemEnd(t)}return l.addEventListener("load",u,!1),l.addEventListener("error",h,!1),t.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(t),l.src=t,l}});function op(t){wt.call(this,t)}op.prototype=Object.assign(Object.create(wt.prototype),{constructor:op,load:function(t,e,n,i){const s=new dr,o=new El(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function u(h){o.load(t[h],function(f){s.images[h]=f,l++,l===6&&(s.needsUpdate=!0,e&&e(s))},void 0,i)}for(let h=0;h<t.length;++h)u(h);return s}});function lp(t){wt.call(this,t)}lp.prototype=Object.assign(Object.create(wt.prototype),{constructor:lp,load:function(t,e,n,i){const s=this,o=new Jr,l=new Ni(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(t,function(u){const h=s.parse(u);h&&(h.image!==void 0?o.image=h.image:h.data!==void 0&&(o.image.width=h.width,o.image.height=h.height,o.image.data=h.data),o.wrapS=h.wrapS!==void 0?h.wrapS:Un,o.wrapT=h.wrapT!==void 0?h.wrapT:Un,o.magFilter=h.magFilter!==void 0?h.magFilter:mn,o.minFilter=h.minFilter!==void 0?h.minFilter:mn,o.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.format!==void 0&&(o.format=h.format),h.type!==void 0&&(o.type=h.type),h.mipmaps!==void 0&&(o.mipmaps=h.mipmaps,o.minFilter=Ul),h.mipmapCount===1&&(o.minFilter=mn),o.needsUpdate=!0,e&&e(o,h))},n,i),o}});function cp(t){wt.call(this,t)}cp.prototype=Object.assign(Object.create(wt.prototype),{constructor:cp,load:function(t,e,n,i){const s=new Rt,o=new El(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(l){s.image=l;const u=t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0;s.format=u?Us:ui,s.needsUpdate=!0,e!==void 0&&e(s)},n,i),s}});function We(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(We.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),s=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),s+=n.distanceTo(i),e.push(s),i=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const n=this.getLengths();let i=0;const s=n.length;let o;e?o=e:o=t*n[s-1];let l=0,u=s-1,h;for(;l<=u;)if(i=Math.floor(l+(u-l)/2),h=n[i]-o,h<0)l=i+1;else if(h>0)u=i-1;else{u=i;break}if(i=u,n[i]===o)return i/(s-1);const f=n[i],p=n[i+1]-f,g=(o-f)/p;return(i+g)/(s-1)},getTangent:function(t,e){let i=t-1e-4,s=t+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),l=this.getPoint(s),u=e||(o.isVector2?new _e:new O);return u.copy(l).sub(o).normalize(),u},getTangentAt:function(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){const n=new O,i=[],s=[],o=[],l=new O,u=new lt;for(let g=0;g<=t;g++){const y=g/t;i[g]=this.getTangentAt(y,new O),i[g].normalize()}s[0]=new O,o[0]=new O;let h=Number.MAX_VALUE;const f=Math.abs(i[0].x),m=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=h&&(h=f,n.set(1,0,0)),m<=h&&(h=m,n.set(0,1,0)),p<=h&&n.set(0,0,1),l.crossVectors(i[0],n).normalize(),s[0].crossVectors(i[0],l),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=t;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),l.crossVectors(i[g-1],i[g]),l.length()>Number.EPSILON){l.normalize();const y=Math.acos(it.clamp(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(u.makeRotationAxis(l,y))}o[g].crossVectors(i[g],s[g])}if(e===!0){let g=Math.acos(it.clamp(s[0].dot(s[t]),-1,1));g/=t,i[0].dot(l.crossVectors(s[0],s[t]))>0&&(g=-g);for(let y=1;y<=t;y++)s[y].applyMatrix4(u.makeRotationAxis(i[y],g*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}});function pi(t,e,n,i,s,o,l,u){We.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=s||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=l||!1,this.aRotation=u||0}pi.prototype=Object.create(We.prototype);pi.prototype.constructor=pi;pi.prototype.isEllipseCurve=!0;pi.prototype.getPoint=function(t,e){const n=e||new _e,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const l=this.aStartAngle+t*s;let u=this.aX+this.xRadius*Math.cos(l),h=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const f=Math.cos(this.aRotation),m=Math.sin(this.aRotation),p=u-this.aX,g=h-this.aY;u=p*f-g*m+this.aX,h=p*m+g*f+this.aY}return n.set(u,h)};pi.prototype.copy=function(t){return We.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this};pi.prototype.toJSON=function(){const t=We.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t};pi.prototype.fromJSON=function(t){return We.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this};function Al(t,e,n,i,s,o){pi.call(this,t,e,n,n,i,s,o),this.type="ArcCurve"}Al.prototype=Object.create(pi.prototype);Al.prototype.constructor=Al;Al.prototype.isArcCurve=!0;function Jx(){let t=0,e=0,n=0,i=0;function s(o,l,u,h){t=o,e=u,n=-3*o+3*l-2*u-h,i=2*o-2*l+u+h}return{initCatmullRom:function(o,l,u,h,f){s(l,u,f*(u-o),f*(h-l))},initNonuniformCatmullRom:function(o,l,u,h,f,m,p){let g=(l-o)/f-(u-o)/(f+m)+(u-l)/m,y=(u-l)/m-(h-l)/(m+p)+(h-u)/p;g*=m,y*=m,s(l,u,g,y)},calc:function(o){const l=o*o,u=l*o;return t+e*o+n*l+i*u}}}const yd=new O,$y=new Jx,e0=new Jx,t0=new Jx;function Pn(t=[],e=!1,n="centripetal",i=.5){We.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}Pn.prototype=Object.create(We.prototype);Pn.prototype.constructor=Pn;Pn.prototype.isCatmullRomCurve3=!0;Pn.prototype.getPoint=function(t,e=new O){const n=e,i=this.points,s=i.length,o=(s-(this.closed?0:1))*t;let l=Math.floor(o),u=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:u===0&&l===s-1&&(l=s-2,u=1);let h,f;this.closed||l>0?h=i[(l-1)%s]:(yd.subVectors(i[0],i[1]).add(i[0]),h=yd);const m=i[l%s],p=i[(l+1)%s];if(this.closed||l+2<s?f=i[(l+2)%s]:(yd.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=yd),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let y=Math.pow(h.distanceToSquared(m),g),x=Math.pow(m.distanceToSquared(p),g),M=Math.pow(p.distanceToSquared(f),g);x<1e-4&&(x=1),y<1e-4&&(y=x),M<1e-4&&(M=x),$y.initNonuniformCatmullRom(h.x,m.x,p.x,f.x,y,x,M),e0.initNonuniformCatmullRom(h.y,m.y,p.y,f.y,y,x,M),t0.initNonuniformCatmullRom(h.z,m.z,p.z,f.z,y,x,M)}else this.curveType==="catmullrom"&&($y.initCatmullRom(h.x,m.x,p.x,f.x,this.tension),e0.initCatmullRom(h.y,m.y,p.y,f.y,this.tension),t0.initCatmullRom(h.z,m.z,p.z,f.z,this.tension));return n.set($y.calc(u),e0.calc(u),t0.calc(u)),n};Pn.prototype.copy=function(t){We.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this};Pn.prototype.toJSON=function(){const t=We.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t};Pn.prototype.fromJSON=function(t){We.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(new O().fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this};function _T(t,e,n,i,s){const o=(i-e)*.5,l=(s-n)*.5,u=t*t,h=t*u;return(2*n-2*i+o+l)*h+(-3*n+3*i-2*o-l)*u+o*t+n}function RV(t,e){const n=1-t;return n*n*e}function CV(t,e){return 2*(1-t)*t*e}function LV(t,e){return t*t*e}function du(t,e,n,i){return RV(t,e)+CV(t,n)+LV(t,i)}function DV(t,e){const n=1-t;return n*n*n*e}function NV(t,e){const n=1-t;return 3*n*n*t*e}function OV(t,e){return 3*(1-t)*t*t*e}function PV(t,e){return t*t*t*e}function pu(t,e,n,i,s){return DV(t,e)+NV(t,n)+OV(t,i)+PV(t,s)}function Wi(t=new _e,e=new _e,n=new _e,i=new _e){We.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}Wi.prototype=Object.create(We.prototype);Wi.prototype.constructor=Wi;Wi.prototype.isCubicBezierCurve=!0;Wi.prototype.getPoint=function(t,e=new _e){const n=e,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return n.set(pu(t,i.x,s.x,o.x,l.x),pu(t,i.y,s.y,o.y,l.y)),n};Wi.prototype.copy=function(t){return We.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this};Wi.prototype.toJSON=function(){const t=We.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t};Wi.prototype.fromJSON=function(t){return We.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this};function mr(t=new O,e=new O,n=new O,i=new O){We.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}mr.prototype=Object.create(We.prototype);mr.prototype.constructor=mr;mr.prototype.isCubicBezierCurve3=!0;mr.prototype.getPoint=function(t,e=new O){const n=e,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return n.set(pu(t,i.x,s.x,o.x,l.x),pu(t,i.y,s.y,o.y,l.y),pu(t,i.z,s.z,o.z,l.z)),n};mr.prototype.copy=function(t){return We.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this};mr.prototype.toJSON=function(){const t=We.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t};mr.prototype.fromJSON=function(t){return We.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this};function Qn(t=new _e,e=new _e){We.call(this),this.type="LineCurve",this.v1=t,this.v2=e}Qn.prototype=Object.create(We.prototype);Qn.prototype.constructor=Qn;Qn.prototype.isLineCurve=!0;Qn.prototype.getPoint=function(t,e=new _e){const n=e;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n};Qn.prototype.getPointAt=function(t,e){return this.getPoint(t,e)};Qn.prototype.getTangent=function(t,e){const n=e||new _e;return n.copy(this.v2).sub(this.v1).normalize(),n};Qn.prototype.copy=function(t){return We.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this};Qn.prototype.toJSON=function(){const t=We.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};Qn.prototype.fromJSON=function(t){return We.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function qi(t=new O,e=new O){We.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}qi.prototype=Object.create(We.prototype);qi.prototype.constructor=qi;qi.prototype.isLineCurve3=!0;qi.prototype.getPoint=function(t,e=new O){const n=e;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n};qi.prototype.getPointAt=function(t,e){return this.getPoint(t,e)};qi.prototype.copy=function(t){return We.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this};qi.prototype.toJSON=function(){const t=We.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};qi.prototype.fromJSON=function(t){return We.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function Xi(t=new _e,e=new _e,n=new _e){We.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}Xi.prototype=Object.create(We.prototype);Xi.prototype.constructor=Xi;Xi.prototype.isQuadraticBezierCurve=!0;Xi.prototype.getPoint=function(t,e=new _e){const n=e,i=this.v0,s=this.v1,o=this.v2;return n.set(du(t,i.x,s.x,o.x),du(t,i.y,s.y,o.y)),n};Xi.prototype.copy=function(t){return We.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this};Xi.prototype.toJSON=function(){const t=We.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};Xi.prototype.fromJSON=function(t){return We.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function gr(t=new O,e=new O,n=new O){We.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}gr.prototype=Object.create(We.prototype);gr.prototype.constructor=gr;gr.prototype.isQuadraticBezierCurve3=!0;gr.prototype.getPoint=function(t,e=new O){const n=e,i=this.v0,s=this.v1,o=this.v2;return n.set(du(t,i.x,s.x,o.x),du(t,i.y,s.y,o.y),du(t,i.z,s.z,o.z)),n};gr.prototype.copy=function(t){return We.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this};gr.prototype.toJSON=function(){const t=We.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t};gr.prototype.fromJSON=function(t){return We.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};function Yi(t=[]){We.call(this),this.type="SplineCurve",this.points=t}Yi.prototype=Object.create(We.prototype);Yi.prototype.constructor=Yi;Yi.prototype.isSplineCurve=!0;Yi.prototype.getPoint=function(t,e=new _e){const n=e,i=this.points,s=(i.length-1)*t,o=Math.floor(s),l=s-o,u=i[o===0?o:o-1],h=i[o],f=i[o>i.length-2?i.length-1:o+1],m=i[o>i.length-3?i.length-1:o+2];return n.set(_T(l,u.x,h.x,f.x,m.x),_T(l,u.y,h.y,f.y,m.y)),n};Yi.prototype.copy=function(t){We.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(i.clone())}return this};Yi.prototype.toJSON=function(){const t=We.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const i=this.points[e];t.points.push(i.toArray())}return t};Yi.prototype.fromJSON=function(t){We.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const i=t.points[e];this.points.push(new _e().fromArray(i))}return this};var yv=Object.freeze({__proto__:null,ArcCurve:Al,CatmullRomCurve3:Pn,CubicBezierCurve:Wi,CubicBezierCurve3:mr,EllipseCurve:pi,LineCurve:Qn,LineCurve3:qi,QuadraticBezierCurve:Xi,QuadraticBezierCurve3:gr,SplineCurve:Yi});function Gr(){We.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Gr.prototype=Object.assign(Object.create(We.prototype),{constructor:Gr,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Qn(e,t))},getPoint:function(t){const e=t*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=e){const s=n[i]-e,o=this.curves[i],l=o.getLength(),u=l===0?0:1-s/l;return o.getPointAt(u)}i++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t=12){const e=[];let n;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],l=o&&o.isEllipseCurve?t*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,u=o.getPoints(l);for(let h=0;h<u.length;h++){const f=u[h];n&&n.equals(f)||(e.push(f),n=f)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){We.prototype.copy.call(this,t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){const t=We.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const i=this.curves[e];t.curves.push(i.toJSON())}return t},fromJSON:function(t){We.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const i=t.curves[e];this.curves.push(new yv[i.type]().fromJSON(i))}return this}});function ki(t){Gr.call(this),this.type="Path",this.currentPoint=new _e,t&&this.setFromPoints(t)}ki.prototype=Object.assign(Object.create(Gr.prototype),{constructor:ki,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const n=new Qn(this.currentPoint.clone(),new _e(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,i){const s=new Xi(this.currentPoint.clone(),new _e(t,e),new _e(n,i));return this.curves.push(s),this.currentPoint.set(n,i),this},bezierCurveTo:function(t,e,n,i,s,o){const l=new Wi(this.currentPoint.clone(),new _e(t,e),new _e(n,i),new _e(s,o));return this.curves.push(l),this.currentPoint.set(s,o),this},splineThru:function(t){const e=[this.currentPoint.clone()].concat(t),n=new Yi(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,i,s,o){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(t+l,e+u,n,i,s,o),this},absarc:function(t,e,n,i,s,o){return this.absellipse(t,e,n,n,i,s,o),this},ellipse:function(t,e,n,i,s,o,l,u){const h=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(t+h,e+f,n,i,s,o,l,u),this},absellipse:function(t,e,n,i,s,o,l,u){const h=new pi(t,e,n,i,s,o,l,u);if(this.curves.length>0){const m=h.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(h);const f=h.getPoint(1);return this.currentPoint.copy(f),this},copy:function(t){return Gr.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=Gr.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Gr.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}});function Is(t){ki.call(this,t),this.uuid=it.generateUUID(),this.type="Shape",this.holes=[]}Is.prototype=Object.assign(Object.create(ki.prototype),{constructor:Is,getPointsHoles:function(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){ki.prototype.copy.call(this,t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const i=t.holes[e];this.holes.push(i.clone())}return this},toJSON:function(){const t=ki.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const i=this.holes[e];t.holes.push(i.toJSON())}return t},fromJSON:function(t){ki.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const i=t.holes[e];this.holes.push(new ki().fromJSON(i))}return this}});function Ot(t,e=1){Ge.call(this),this.type="Light",this.color=new Ue(t),this.intensity=e}Ot.prototype=Object.assign(Object.create(Ge.prototype),{constructor:Ot,isLight:!0,copy:function(t){return Ge.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=Ge.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}});function up(t,e,n){Ot.call(this,t,n),this.type="HemisphereLight",this.position.copy(Ge.DefaultUp),this.updateMatrix(),this.groundColor=new Ue(e)}up.prototype=Object.assign(Object.create(Ot.prototype),{constructor:up,isHemisphereLight:!0,copy:function(t){return Ot.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}});function Kr(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new _e(512,512),this.map=null,this.mapPass=null,this.matrix=new lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new mf,this._frameExtents=new _e(1,1),this._viewportCount=1,this._viewports=[new Et(0,0,1,1)]}Object.assign(Kr.prototype,{_projScreenMatrix:new lt,_lightPositionWorld:new O,_lookTarget:new O,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,n=this.matrix,i=this._projScreenMatrix,s=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(t.matrixWorld),e.position.copy(o),s.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(s),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}});function vv(){Kr.call(this,new an(50,1,.5,500)),this.focus=1}vv.prototype=Object.assign(Object.create(Kr.prototype),{constructor:vv,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,n=it.RAD2DEG*2*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=t.distance||e.far;(n!==e.fov||i!==e.aspect||s!==e.far)&&(e.fov=n,e.aspect=i,e.far=s,e.updateProjectionMatrix()),Kr.prototype.updateMatrices.call(this,t)}});function fp(t,e,n,i,s,o){Ot.call(this,t,e),this.type="SpotLight",this.position.copy(Ge.DefaultUp),this.updateMatrix(),this.target=new Ge,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(l){this.intensity=l/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=s!==void 0?s:0,this.decay=o!==void 0?o:1,this.shadow=new vv}fp.prototype=Object.assign(Object.create(Ot.prototype),{constructor:fp,isSpotLight:!0,copy:function(t){return Ot.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}});function xv(){Kr.call(this,new an(90,1,.5,500)),this._frameExtents=new _e(4,2),this._viewportCount=6,this._viewports=[new Et(2,1,1,1),new Et(0,1,1,1),new Et(3,1,1,1),new Et(1,1,1,1),new Et(3,0,1,1),new Et(1,0,1,1)],this._cubeDirections=[new O(1,0,0),new O(-1,0,0),new O(0,0,1),new O(0,0,-1),new O(0,1,0),new O(0,-1,0)],this._cubeUps=[new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,0,1),new O(0,0,-1)]}xv.prototype=Object.assign(Object.create(Kr.prototype),{constructor:xv,isPointLightShadow:!0,updateMatrices:function(t,e=0){const n=this.camera,i=this.matrix,s=this._lightPositionWorld,o=this._lookTarget,l=this._projScreenMatrix;s.setFromMatrixPosition(t.matrixWorld),n.position.copy(s),o.copy(n.position),o.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-s.x,-s.y,-s.z),l.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(l)}});function hp(t,e,n,i){Ot.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(s){this.intensity=s/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new xv}hp.prototype=Object.assign(Object.create(Ot.prototype),{constructor:hp,isPointLight:!0,copy:function(t){return Ot.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}});function Rl(t=-1,e=1,n=1,i=-1,s=.1,o=2e3){hr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}Rl.prototype=Object.assign(Object.create(hr.prototype),{constructor:Rl,isOrthographicCamera:!0,copy:function(t,e){return hr.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=n-t,o=n+t,l=i+e,u=i-e;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=h*this.view.offsetX,o=s+h*this.view.width,l-=f*this.view.offsetY,u=l-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,l,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=Ge.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}});function bv(){Kr.call(this,new Rl(-5,5,5,-5,.5,500))}bv.prototype=Object.assign(Object.create(Kr.prototype),{constructor:bv,isDirectionalLightShadow:!0,updateMatrices:function(t){Kr.prototype.updateMatrices.call(this,t)}});function dp(t,e){Ot.call(this,t,e),this.type="DirectionalLight",this.position.copy(Ge.DefaultUp),this.updateMatrix(),this.target=new Ge,this.shadow=new bv}dp.prototype=Object.assign(Object.create(Ot.prototype),{constructor:dp,isDirectionalLight:!0,copy:function(t){return Ot.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}});function pp(t,e){Ot.call(this,t,e),this.type="AmbientLight"}pp.prototype=Object.assign(Object.create(Ot.prototype),{constructor:pp,isAmbientLight:!0});function mp(t,e,n,i){Ot.call(this,t,e),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}mp.prototype=Object.assign(Object.create(Ot.prototype),{constructor:mp,isRectAreaLight:!0,copy:function(t){return Ot.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=Ot.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class R3{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new O)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,s=e.y,o=e.z,l=this.coefficients;return n.copy(l[0]).multiplyScalar(.282095),n.addScaledVector(l[1],.488603*s),n.addScaledVector(l[2],.488603*o),n.addScaledVector(l[3],.488603*i),n.addScaledVector(l[4],1.092548*(i*s)),n.addScaledVector(l[5],1.092548*(s*o)),n.addScaledVector(l[6],.315392*(3*o*o-1)),n.addScaledVector(l[7],1.092548*(i*o)),n.addScaledVector(l[8],.546274*(i*i-s*s)),n}getIrradianceAt(e,n){const i=e.x,s=e.y,o=e.z,l=this.coefficients;return n.copy(l[0]).multiplyScalar(.886227),n.addScaledVector(l[1],2*.511664*s),n.addScaledVector(l[2],2*.511664*o),n.addScaledVector(l[3],2*.511664*i),n.addScaledVector(l[4],2*.429043*i*s),n.addScaledVector(l[5],2*.429043*s*o),n.addScaledVector(l[6],.743125*o*o-.247708),n.addScaledVector(l[7],2*.429043*i*o),n.addScaledVector(l[8],.429043*(i*i-s*s)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,n+s*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,n+s*3);return e}static getBasisAt(e,n){const i=e.x,s=e.y,o=e.z;n[0]=.282095,n[1]=.488603*s,n[2]=.488603*o,n[3]=.488603*i,n[4]=1.092548*i*s,n[5]=1.092548*s*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*i*o,n[8]=.546274*(i*i-s*s)}}function Ri(t,e){Ot.call(this,void 0,e),this.type="LightProbe",this.sh=t!==void 0?t:new R3}Ri.prototype=Object.assign(Object.create(Ot.prototype),{constructor:Ri,isLightProbe:!0,copy:function(t){return Ot.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=Ot.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}});function gp(t){wt.call(this,t),this.textures={}}gp.prototype=Object.assign(Object.create(wt.prototype),{constructor:gp,load:function(t,e,n,i){const s=this,o=new Ni(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(l){try{e(s.parse(JSON.parse(l)))}catch(u){i?i(u):console.error(u),s.manager.itemError(t)}},n,i)},parse:function(t){const e=this.textures;function n(s){return e[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),e[s]}const i=new TV[t.type];if(t.uuid!==void 0&&(i.uuid=t.uuid),t.name!==void 0&&(i.name=t.name),t.color!==void 0&&i.color!==void 0&&i.color.setHex(t.color),t.roughness!==void 0&&(i.roughness=t.roughness),t.metalness!==void 0&&(i.metalness=t.metalness),t.sheen!==void 0&&(i.sheen=new Ue().setHex(t.sheen)),t.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(t.emissive),t.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(t.specular),t.shininess!==void 0&&(i.shininess=t.shininess),t.clearcoat!==void 0&&(i.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=t.clearcoatRoughness),t.fog!==void 0&&(i.fog=t.fog),t.flatShading!==void 0&&(i.flatShading=t.flatShading),t.blending!==void 0&&(i.blending=t.blending),t.combine!==void 0&&(i.combine=t.combine),t.side!==void 0&&(i.side=t.side),t.opacity!==void 0&&(i.opacity=t.opacity),t.transparent!==void 0&&(i.transparent=t.transparent),t.alphaTest!==void 0&&(i.alphaTest=t.alphaTest),t.depthTest!==void 0&&(i.depthTest=t.depthTest),t.depthWrite!==void 0&&(i.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(i.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(i.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(i.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(i.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(i.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(i.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(i.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(i.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(i.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(i.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(i.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(i.rotation=t.rotation),t.linewidth!==1&&(i.linewidth=t.linewidth),t.dashSize!==void 0&&(i.dashSize=t.dashSize),t.gapSize!==void 0&&(i.gapSize=t.gapSize),t.scale!==void 0&&(i.scale=t.scale),t.polygonOffset!==void 0&&(i.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=t.polygonOffsetUnits),t.skinning!==void 0&&(i.skinning=t.skinning),t.morphTargets!==void 0&&(i.morphTargets=t.morphTargets),t.morphNormals!==void 0&&(i.morphNormals=t.morphNormals),t.dithering!==void 0&&(i.dithering=t.dithering),t.vertexTangents!==void 0&&(i.vertexTangents=t.vertexTangents),t.visible!==void 0&&(i.visible=t.visible),t.toneMapped!==void 0&&(i.toneMapped=t.toneMapped),t.userData!==void 0&&(i.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const s in t.uniforms){const o=t.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=n(o.value);break;case"c":i.uniforms[s].value=new Ue().setHex(o.value);break;case"v2":i.uniforms[s].value=new _e().fromArray(o.value);break;case"v3":i.uniforms[s].value=new O().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Et().fromArray(o.value);break;case"m3":i.uniforms[s].value=new In().fromArray(o.value);break;case"m4":i.uniforms[s].value=new lt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(t.defines!==void 0&&(i.defines=t.defines),t.vertexShader!==void 0&&(i.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(i.fragmentShader=t.fragmentShader),t.extensions!==void 0)for(const s in t.extensions)i.extensions[s]=t.extensions[s];if(t.shading!==void 0&&(i.flatShading=t.shading===1),t.size!==void 0&&(i.size=t.size),t.sizeAttenuation!==void 0&&(i.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(i.map=n(t.map)),t.matcap!==void 0&&(i.matcap=n(t.matcap)),t.alphaMap!==void 0&&(i.alphaMap=n(t.alphaMap)),t.bumpMap!==void 0&&(i.bumpMap=n(t.bumpMap)),t.bumpScale!==void 0&&(i.bumpScale=t.bumpScale),t.normalMap!==void 0&&(i.normalMap=n(t.normalMap)),t.normalMapType!==void 0&&(i.normalMapType=t.normalMapType),t.normalScale!==void 0){let s=t.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new _e().fromArray(s)}return t.displacementMap!==void 0&&(i.displacementMap=n(t.displacementMap)),t.displacementScale!==void 0&&(i.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(i.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(i.roughnessMap=n(t.roughnessMap)),t.metalnessMap!==void 0&&(i.metalnessMap=n(t.metalnessMap)),t.emissiveMap!==void 0&&(i.emissiveMap=n(t.emissiveMap)),t.emissiveIntensity!==void 0&&(i.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(i.specularMap=n(t.specularMap)),t.envMap!==void 0&&(i.envMap=n(t.envMap)),t.envMapIntensity!==void 0&&(i.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(i.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(i.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(i.lightMap=n(t.lightMap)),t.lightMapIntensity!==void 0&&(i.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(i.aoMap=n(t.aoMap)),t.aoMapIntensity!==void 0&&(i.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(i.gradientMap=n(t.gradientMap)),t.clearcoatMap!==void 0&&(i.clearcoatMap=n(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new _e().fromArray(t.clearcoatNormalScale)),t.transmission!==void 0&&(i.transmission=t.transmission),t.transmissionMap!==void 0&&(i.transmissionMap=n(t.transmissionMap)),i},setTextures:function(t){return this.textures=t,this}});const Qx={decodeText:function(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}},extractUrlBase:function(t){const e=t.lastIndexOf("/");return e===-1?"./":t.substr(0,e+1)}};function Ju(){qe.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}Ju.prototype=Object.assign(Object.create(qe.prototype),{constructor:Ju,isInstancedBufferGeometry:!0,copy:function(t){return qe.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const t=qe.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}});function yp(t,e,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Xe.call(this,t,e,n),this.meshPerAttribute=i||1}yp.prototype=Object.assign(Object.create(Xe.prototype),{constructor:yp,isInstancedBufferAttribute:!0,copy:function(t){return Xe.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=Xe.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}});function vp(t){wt.call(this,t)}vp.prototype=Object.assign(Object.create(wt.prototype),{constructor:vp,load:function(t,e,n,i){const s=this,o=new Ni(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(l){try{e(s.parse(JSON.parse(l)))}catch(u){i?i(u):console.error(u),s.manager.itemError(t)}},n,i)},parse:function(t){const e={},n={};function i(g,y){if(e[y]!==void 0)return e[y];const M=g.interleavedBuffers[y],S=s(g,M.buffer),_=nu(M.type,S),w=new ci(_,M.stride);return w.uuid=M.uuid,e[y]=w,w}function s(g,y){if(n[y]!==void 0)return n[y];const M=g.arrayBuffers[y],S=new Uint32Array(M).buffer;return n[y]=S,S}const o=t.isInstancedBufferGeometry?new Ju:new qe,l=t.data.index;if(l!==void 0){const g=nu(l.type,l.array);o.setIndex(new Xe(g,1))}const u=t.data.attributes;for(const g in u){const y=u[g];let x;if(y.isInterleavedBufferAttribute){const M=i(t.data,y.data);x=new Ws(M,y.itemSize,y.offset,y.normalized)}else{const M=nu(y.type,y.array),S=y.isInstancedBufferAttribute?yp:Xe;x=new S(M,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),o.setAttribute(g,x)}const h=t.data.morphAttributes;if(h)for(const g in h){const y=h[g],x=[];for(let M=0,S=y.length;M<S;M++){const _=y[M];let w;if(_.isInterleavedBufferAttribute){const T=i(t.data,_.data);w=new Ws(T,_.itemSize,_.offset,_.normalized)}else{const T=nu(_.type,_.array);w=new Xe(T,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),x.push(w)}o.morphAttributes[g]=x}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const m=t.data.groups||t.data.drawcalls||t.data.offsets;if(m!==void 0)for(let g=0,y=m.length;g!==y;++g){const x=m[g];o.addGroup(x.start,x.count,x.materialIndex)}const p=t.data.boundingSphere;if(p!==void 0){const g=new O;p.center!==void 0&&g.fromArray(p.center),o.boundingSphere=new ts(g,p.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}});class BV extends wt{constructor(e){super(e)}load(e,n,i,s){const o=this,l=this.path===""?Qx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new Ni(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){let f=null;try{f=JSON.parse(h)}catch(p){s!==void 0&&s(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const m=f.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(f,n)},i,s)}parse(e,n){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,s),l=this.parseImages(e.images,function(){n!==void 0&&n(f)}),u=this.parseTextures(e.textures,l),h=this.parseMaterials(e.materials,u),f=this.parseObject(e.object,o,h,i),m=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,m),n!==void 0){let p=!1;for(const g in l)if(l[g]instanceof HTMLImageElement){p=!0;break}p===!1&&n(f)}return f}parseShapes(e){const n={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const o=new Is().fromJSON(e[i]);n[o.uuid]=o}return n}parseSkeletons(e,n){const i={},s={};if(n.traverse(function(o){o.isBone&&(s[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const u=new Vu().fromJSON(e[o],s);i[u.uuid]=u}return i}parseGeometries(e,n){const i={};let s;if(e!==void 0){const o=new vp;for(let l=0,u=e.length;l<u;l++){let h;const f=e[l];switch(f.type){case"PlaneGeometry":case"PlaneBufferGeometry":h=new zn[f.type](f.width,f.height,f.widthSegments,f.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":h=new zn[f.type](f.width,f.height,f.depth,f.widthSegments,f.heightSegments,f.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":h=new zn[f.type](f.radius,f.segments,f.thetaStart,f.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":h=new zn[f.type](f.radiusTop,f.radiusBottom,f.height,f.radialSegments,f.heightSegments,f.openEnded,f.thetaStart,f.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":h=new zn[f.type](f.radius,f.height,f.radialSegments,f.heightSegments,f.openEnded,f.thetaStart,f.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":h=new zn[f.type](f.radius,f.widthSegments,f.heightSegments,f.phiStart,f.phiLength,f.thetaStart,f.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":h=new zn[f.type](f.radius,f.detail);break;case"RingGeometry":case"RingBufferGeometry":h=new zn[f.type](f.innerRadius,f.outerRadius,f.thetaSegments,f.phiSegments,f.thetaStart,f.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":h=new zn[f.type](f.radius,f.tube,f.radialSegments,f.tubularSegments,f.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":h=new zn[f.type](f.radius,f.tube,f.tubularSegments,f.radialSegments,f.p,f.q);break;case"TubeGeometry":case"TubeBufferGeometry":h=new zn[f.type](new yv[f.path.type]().fromJSON(f.path),f.tubularSegments,f.radius,f.radialSegments,f.closed);break;case"LatheGeometry":case"LatheBufferGeometry":h=new zn[f.type](f.points,f.segments,f.phiStart,f.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":h=new zn[f.type](f.vertices,f.indices,f.radius,f.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":s=[];for(let p=0,g=f.shapes.length;p<g;p++){const y=n[f.shapes[p]];s.push(y)}h=new zn[f.type](s,f.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":s=[];for(let p=0,g=f.shapes.length;p<g;p++){const y=n[f.shapes[p]];s.push(y)}const m=f.options.extrudePath;m!==void 0&&(f.options.extrudePath=new yv[m.type]().fromJSON(m)),h=new zn[f.type](s,f.options);break;case"BufferGeometry":case"InstancedBufferGeometry":h=o.parse(f);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+f.type+'"');continue}h.uuid=f.uuid,f.name!==void 0&&(h.name=f.name),h.isBufferGeometry===!0&&f.userData!==void 0&&(h.userData=f.userData),i[f.uuid]=h}}return i}parseMaterials(e,n){const i={},s={};if(e!==void 0){const o=new gp;o.setTextures(n);for(let l=0,u=e.length;l<u;l++){const h=e[l];if(h.type==="MultiMaterial"){const f=[];for(let m=0;m<h.materials.length;m++){const p=h.materials[m];i[p.uuid]===void 0&&(i[p.uuid]=o.parse(p)),f.push(i[p.uuid])}s[h.uuid]=f}else i[h.uuid]===void 0&&(i[h.uuid]=o.parse(h)),s[h.uuid]=i[h.uuid]}}return s}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],o=li.parse(s);n[o.uuid]=o}return n}parseImages(e,n){const i=this,s={};let o;function l(h){return i.manager.itemStart(h),o.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const f=h,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return l(m)}else return h.data?{data:nu(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new Zx(n);o=new El(h),o.setCrossOrigin(this.crossOrigin);for(let f=0,m=e.length;f<m;f++){const p=e[f],g=p.url;if(Array.isArray(g)){s[p.uuid]=[];for(let y=0,x=g.length;y<x;y++){const M=g[y],S=u(M);S!==null&&(S instanceof HTMLImageElement?s[p.uuid].push(S):s[p.uuid].push(new Jr(S.data,S.width,S.height)))}}else{const y=u(p.url);y!==null&&(s[p.uuid]=y)}}}return s}parseTextures(e,n){function i(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const s={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const u=e[o];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),n[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);let h;const f=n[u.image];Array.isArray(f)?(h=new dr(f),f.length===6&&(h.needsUpdate=!0)):(f&&f.data?h=new Jr(f.data,f.width,f.height):h=new Rt(f),f&&(h.needsUpdate=!0)),h.uuid=u.uuid,u.name!==void 0&&(h.name=u.name),u.mapping!==void 0&&(h.mapping=i(u.mapping,zV)),u.offset!==void 0&&h.offset.fromArray(u.offset),u.repeat!==void 0&&h.repeat.fromArray(u.repeat),u.center!==void 0&&h.center.fromArray(u.center),u.rotation!==void 0&&(h.rotation=u.rotation),u.wrap!==void 0&&(h.wrapS=i(u.wrap[0],wT),h.wrapT=i(u.wrap[1],wT)),u.format!==void 0&&(h.format=u.format),u.type!==void 0&&(h.type=u.type),u.encoding!==void 0&&(h.encoding=u.encoding),u.minFilter!==void 0&&(h.minFilter=i(u.minFilter,MT)),u.magFilter!==void 0&&(h.magFilter=i(u.magFilter,MT)),u.anisotropy!==void 0&&(h.anisotropy=u.anisotropy),u.flipY!==void 0&&(h.flipY=u.flipY),u.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(h.unpackAlignment=u.unpackAlignment),s[u.uuid]=h}return s}parseObject(e,n,i,s){let o;function l(m){return n[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),n[m]}function u(m){if(m!==void 0){if(Array.isArray(m)){const p=[];for(let g=0,y=m.length;g<y;g++){const x=m[g];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),p.push(i[x])}return p}return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),i[m]}}let h,f;switch(e.type){case"Scene":o=new Nx,e.background!==void 0&&Number.isInteger(e.background)&&(o.background=new Ue(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Bp(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Pp(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new an(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Rl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new pp(e.color,e.intensity);break;case"DirectionalLight":o=new dp(e.color,e.intensity);break;case"PointLight":o=new hp(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new mp(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new fp(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new up(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Ri().fromJSON(e);break;case"SkinnedMesh":h=l(e.geometry),f=u(e.material),o=new Iu(h,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=l(e.geometry),f=u(e.material),o=new Ut(h,f);break;case"InstancedMesh":h=l(e.geometry),f=u(e.material);const m=e.count,p=e.instanceMatrix;o=new $d(h,f,m),o.instanceMatrix=new Xe(new Float32Array(p.array),16);break;case"LOD":o=new Fu;break;case"Line":o=new Di(l(e.geometry),u(e.material));break;case"LineLoop":o=new ep(l(e.geometry),u(e.material));break;case"LineSegments":o=new Gn(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new _l(l(e.geometry),u(e.material));break;case"Sprite":o=new Uu(u(e.material));break;case"Group":o=new zs;break;case"Bone":o=new Hu;break;default:o=new Ge}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let p=0;p<m.length;p++)o.add(this.parseObject(m[p],n,i,s))}if(e.animations!==void 0){const m=e.animations;for(let p=0;p<m.length;p++){const g=m[p];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const m=e.levels;for(let p=0;p<m.length;p++){const g=m[p],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=n[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const zV={UVMapping:Cp,CubeReflectionMapping:cf,CubeRefractionMapping:uf,EquirectangularReflectionMapping:Yd,EquirectangularRefractionMapping:Zd,CubeUVReflectionMapping:zl,CubeUVRefractionMapping:ff},wT={RepeatWrapping:Mu,ClampToEdgeWrapping:Un,MirroredRepeatWrapping:Su},MT={NearestFilter:un,NearestMipmapNearestFilter:Jd,NearestMipmapLinearFilter:Qd,LinearFilter:mn,LinearMipmapNearestFilter:Ex,LinearMipmapLinearFilter:Ul};function _v(t){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),wt.call(this,t),this.options={premultiplyAlpha:"none"}}_v.prototype=Object.assign(Object.create(wt.prototype),{constructor:_v,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(t,e,n,i){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=qa.get(t);if(o!==void 0)return s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(t,l).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,s.options)}).then(function(u){qa.add(t,u),e&&e(u),s.manager.itemEnd(t)}).catch(function(u){i&&i(u),s.manager.itemError(t),s.manager.itemEnd(t)}),s.manager.itemStart(t)}});function Kx(){this.type="ShapePath",this.color=new Ue,this.subPaths=[],this.currentPath=null}Object.assign(Kx.prototype,{moveTo:function(t,e){return this.currentPath=new ki,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this},bezierCurveTo:function(t,e,n,i,s,o){return this.currentPath.bezierCurveTo(t,e,n,i,s,o),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(_){const w=[];for(let T=0,C=_.length;T<C;T++){const R=_[T],E=new Is;E.curves=R.curves,w.push(E)}return w}function i(_,w){const T=w.length;let C=!1;for(let R=T-1,E=0;E<T;R=E++){let N=w[R],P=w[E],j=P.x-N.x,se=P.y-N.y;if(Math.abs(se)>Number.EPSILON){if(se<0&&(N=w[E],j=-j,P=w[R],se=-se),_.y<N.y||_.y>P.y)continue;if(_.y===N.y){if(_.x===N.x)return!0}else{const J=se*(_.x-N.x)-j*(_.y-N.y);if(J===0)return!0;if(J<0)continue;C=!C}}else{if(_.y!==N.y)continue;if(P.x<=_.x&&_.x<=N.x||N.x<=_.x&&_.x<=P.x)return!0}}return C}const s=Wr.isClockWise,o=this.subPaths;if(o.length===0)return[];if(e===!0)return n(o);let l,u,h;const f=[];if(o.length===1)return u=o[0],h=new Is,h.curves=u.curves,f.push(h),f;let m=!s(o[0].getPoints());m=t?!m:m;const p=[],g=[];let y=[],x=0,M;g[x]=void 0,y[x]=[];for(let _=0,w=o.length;_<w;_++)u=o[_],M=u.getPoints(),l=s(M),l=t?!l:l,l?(!m&&g[x]&&x++,g[x]={s:new Is,p:M},g[x].s.curves=u.curves,m&&x++,y[x]=[]):y[x].push({h:u,p:M[0]});if(!g[0])return n(o);if(g.length>1){let _=!1;const w=[];for(let T=0,C=g.length;T<C;T++)p[T]=[];for(let T=0,C=g.length;T<C;T++){const R=y[T];for(let E=0;E<R.length;E++){const N=R[E];let P=!0;for(let j=0;j<g.length;j++)i(N.p,g[j].p)&&(T!==j&&w.push({froms:T,tos:j,hole:E}),P?(P=!1,p[j].push(N)):_=!0);P&&p[T].push(N)}}w.length>0&&(_||(y=p))}let S;for(let _=0,w=g.length;_<w;_++){h=g[_].s,f.push(h),S=y[_];for(let T=0,C=S.length;T<C;T++)h.holes.push(S[T].h)}return f}});function $x(t){this.type="Font",this.data=t}Object.assign($x.prototype,{isFont:!0,generateShapes:function(t,e=100){const n=[],i=UV(t,e,this.data);for(let s=0,o=i.length;s<o;s++)Array.prototype.push.apply(n,i[s].toShapes());return n}});function UV(t,e,n){const i=Array.from?Array.from(t):String(t).split(""),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,l=[];let u=0,h=0;for(let f=0;f<i.length;f++){const m=i[f];if(m===`
`)u=0,h-=o;else{const p=FV(m,s,u,h,n);u+=p.offsetX,l.push(p.path)}}return l}function FV(t,e,n,i,s){const o=s.glyphs[t]||s.glyphs["?"];if(!o){console.error('THREE.Font: character "'+t+'" does not exists in font family '+s.familyName+".");return}const l=new Kx;let u,h,f,m,p,g,y,x;if(o.o){const M=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let S=0,_=M.length;S<_;)switch(M[S++]){case"m":u=M[S++]*e+n,h=M[S++]*e+i,l.moveTo(u,h);break;case"l":u=M[S++]*e+n,h=M[S++]*e+i,l.lineTo(u,h);break;case"q":f=M[S++]*e+n,m=M[S++]*e+i,p=M[S++]*e+n,g=M[S++]*e+i,l.quadraticCurveTo(p,g,f,m);break;case"b":f=M[S++]*e+n,m=M[S++]*e+i,p=M[S++]*e+n,g=M[S++]*e+i,y=M[S++]*e+n,x=M[S++]*e+i,l.bezierCurveTo(p,g,y,x,f,m);break}}return{offsetX:o.ha*e,path:l}}function wv(t){wt.call(this,t)}wv.prototype=Object.assign(Object.create(wt.prototype),{constructor:wv,load:function(t,e,n,i){const s=this,o=new Ni(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(l){let u;try{u=JSON.parse(l)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),u=JSON.parse(l.substring(65,l.length-2))}const h=s.parse(u);e&&e(h)},n,i)},parse:function(t){return new $x(t)}});let vd;const eb={getContext:function(){return vd===void 0&&(vd=new(window.AudioContext||window.webkitAudioContext)),vd},setContext:function(t){vd=t}};function xp(t){wt.call(this,t)}xp.prototype=Object.assign(Object.create(wt.prototype),{constructor:xp,load:function(t,e,n,i){const s=this,o=new Ni(s.manager);o.setResponseType("arraybuffer"),o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(l){try{const u=l.slice(0);eb.getContext().decodeAudioData(u,function(f){e(f)})}catch(u){i?i(u):console.error(u),s.manager.itemError(t)}},n,i)}});function Mv(t,e,n){Ri.call(this,void 0,n);const i=new Ue().set(t),s=new Ue().set(e),o=new O(i.r,i.g,i.b),l=new O(s.r,s.g,s.b),u=Math.sqrt(Math.PI),h=u*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(l).multiplyScalar(u),this.sh.coefficients[1].copy(o).sub(l).multiplyScalar(h)}Mv.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Mv,isHemisphereLightProbe:!0,copy:function(t){return Ri.prototype.copy.call(this,t),this},toJSON:function(t){return Ri.prototype.toJSON.call(this,t)}});function Sv(t,e){Ri.call(this,void 0,e);const n=new Ue().set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Sv.prototype=Object.assign(Object.create(Ri.prototype),{constructor:Sv,isAmbientLightProbe:!0,copy:function(t){return Ri.prototype.copy.call(this,t),this},toJSON:function(t){return Ri.prototype.toJSON.call(this,t)}});const ST=new lt,TT=new lt;function C3(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new an,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new an,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(C3.prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const i=t.projectionMatrix.clone(),s=e.eyeSep/2,o=s*e.near/e.focus,l=e.near*Math.tan(it.DEG2RAD*e.fov*.5)/e.zoom;let u,h;TT.elements[12]=-s,ST.elements[12]=s,u=-l*e.aspect+o,h=l*e.aspect+o,i.elements[0]=2*e.near/(h-u),i.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(i),u=-l*e.aspect-o,h=l*e.aspect-o,i.elements[0]=2*e.near/(h-u),i.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(TT),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(ST)}});class L3{constructor(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ET(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=ET();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function ET(){return(typeof performance>"u"?Date:performance).now()}const xa=new O,AT=new Nn,IV=new O,ba=new O;class HV extends Ge{constructor(){super(),this.type="AudioListener",this.context=eb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new L3}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(xa,AT,IV),ba.set(0,0,-1).applyQuaternion(AT),n.positionX){const s=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(xa.x,s),n.positionY.linearRampToValueAtTime(xa.y,s),n.positionZ.linearRampToValueAtTime(xa.z,s),n.forwardX.linearRampToValueAtTime(ba.x,s),n.forwardY.linearRampToValueAtTime(ba.y,s),n.forwardZ.linearRampToValueAtTime(ba.z,s),n.upX.linearRampToValueAtTime(i.x,s),n.upY.linearRampToValueAtTime(i.y,s),n.upZ.linearRampToValueAtTime(i.z,s)}else n.setPosition(xa.x,xa.y,xa.z),n.setOrientation(ba.x,ba.y,ba.z,i.x,i.y,i.z)}}class tb extends Ge{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const _a=new O,RT=new Nn,VV=new O,wa=new O;class GV extends tb{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_a,RT,VV),wa.set(0,0,1).applyQuaternion(RT);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(_a.x,i),n.positionY.linearRampToValueAtTime(_a.y,i),n.positionZ.linearRampToValueAtTime(_a.z,i),n.orientationX.linearRampToValueAtTime(wa.x,i),n.orientationY.linearRampToValueAtTime(wa.y,i),n.orientationZ.linearRampToValueAtTime(wa.z,i)}else n.setPosition(_a.x,_a.y,_a.z),n.setOrientation(wa.x,wa.y,wa.z)}}class D3{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}function nb(t,e,n){this.binding=t,this.valueSize=n;let i,s,o;switch(e){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(nb.prototype,{accumulate:function(t,e){const n=this.buffer,i=this.valueSize,s=t*i+i;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==i;++l)n[s+l]=n[l];o=e}else{o+=e;const l=e/o;this._mixBufferRegion(n,s,0,l,i)}this.cumulativeWeight=o},accumulateAdditive:function(t){const e=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,n=this.buffer,i=t*e+e,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const u=e*this._origIndex;this._mixBufferRegion(n,i,u,1-s,e)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(let u=e,h=e+e;u!==h;++u)if(n[u]!==n[u+e]){l.setValue(n,i);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,n=this.valueSize,i=n*this._origIndex;t.getValue(e,i);for(let s=n,o=i;s!==o;++s)e[s]=e[i+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,i,s){if(i>=.5)for(let o=0;o!==s;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,i){Nn.slerpFlat(t,e,t,e,t,n,i)},_slerpAdditive:function(t,e,n,i,s){const o=this._workIndex*s;Nn.multiplyQuaternionsFlat(t,o,t,e,t,n),Nn.slerpFlat(t,e,t,e,t,o,i)},_lerp:function(t,e,n,i,s){const o=1-i;for(let l=0;l!==s;++l){const u=e+l;t[u]=t[u]*o+t[n+l]*i}},_lerpAdditive:function(t,e,n,i,s){for(let o=0;o!==s;++o){const l=e+o;t[l]=t[l]+t[n+o]*i}}});const ib="\\[\\]\\.:\\/",kV=new RegExp("["+ib+"]","g"),rb="[^"+ib+"]",jV="[^"+ib.replace("\\.","")+"]",WV=/((?:WC+[\/:])*)/.source.replace("WC",rb),qV=/(WCOD+)?/.source.replace("WCOD",jV),XV=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rb),YV=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rb),ZV=new RegExp("^"+WV+qV+XV+YV+"$"),JV=["material","materials","bones"];function N3(t,e,n){const i=n||On.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}Object.assign(N3.prototype,{getValue:function(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(t,e)},setValue:function(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}});function On(t,e,n){this.path=e,this.parsedPath=n||On.parseTrackName(e),this.node=On.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(On,{Composite:N3,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new On.Composite(t,e,n):new On(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(kV,"")},parseTrackName:function(t){const e=ZV.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=n.nodeName.substring(i+1);JV.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(n!==void 0)return n}if(t.children){const n=function(s){for(let o=0;o<s.length;o++){const l=s[o];if(l.name===e||l.uuid===e)return l;const u=n(l.children);if(u)return u}return null},i=n(t.children);if(i)return i}return null}});Object.assign(On.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,n){e[n]=this.node[this.propertyName]},function(e,n){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)e[n++]=i[s]},function(e,n){e[n]=this.resolvedProperty[this.propertyIndex]},function(e,n){this.resolvedProperty.toArray(e,n)}],SetterByBindingTypeAndVersioning:[[function(e,n){this.targetObject[this.propertyName]=e[n]},function(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0},function(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,n){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=e[n++]},function(e,n){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=e[n++];this.targetObject.needsUpdate=!0},function(e,n){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,n){this.resolvedProperty[this.propertyIndex]=e[n]},function(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0},function(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,n){this.resolvedProperty.fromArray(e,n)},function(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0},function(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,n){this.bind(),this.getValue(e,n)},setValue:function(e,n){this.bind(),this.setValue(e,n)},bind:function(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let s=e.propertyIndex;if(t||(t=On.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let h=e.objectIndex;switch(n){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let f=0;f<t.length;f++)if(t[f].name===h){h=f;break}break;default:if(t[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[n]}if(h!==void 0){if(t[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[h]}}const o=t[i];if(o===void 0){const h=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",t);return}let l=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[s]!==void 0&&(s=t.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(On.prototype,{_getValue_unbound:On.prototype.getValue,_setValue_unbound:On.prototype.setValue});function O3(){this.uuid=it.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let n=0,i=arguments.length;n!==i;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}Object.assign(O3.prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let l,u=t.length,h=this.nCachedObjects_;for(let f=0,m=arguments.length;f!==m;++f){const p=arguments[f],g=p.uuid;let y=e[g];if(y===void 0){y=u++,e[g]=y,t.push(p);for(let x=0,M=o;x!==M;++x)s[x].push(new On(p,n[x],i[x]))}else if(y<h){l=t[y];const x=--h,M=t[x];e[M.uuid]=y,t[y]=M,e[g]=x,t[x]=p;for(let S=0,_=o;S!==_;++S){const w=s[S],T=w[x];let C=w[y];w[y]=T,C===void 0&&(C=new On(p,n[S],i[S])),w[x]=C}}else t[y]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h},remove:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],h=u.uuid,f=e[h];if(f!==void 0&&f>=s){const m=s++,p=t[m];e[p.uuid]=f,t[f]=p,e[h]=m,t[m]=u;for(let g=0,y=i;g!==y;++g){const x=n[g],M=x[m],S=x[f];x[f]=M,x[m]=S}}}this.nCachedObjects_=s},uncache:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_,o=t.length;for(let l=0,u=arguments.length;l!==u;++l){const h=arguments[l],f=h.uuid,m=e[f];if(m!==void 0)if(delete e[f],m<s){const p=--s,g=t[p],y=--o,x=t[y];e[g.uuid]=m,t[m]=g,e[x.uuid]=p,t[p]=x,t.pop();for(let M=0,S=i;M!==S;++M){const _=n[M],w=_[p],T=_[y];_[m]=w,_[p]=T,_.pop()}}else{const p=--o,g=t[p];p>0&&(e[g.uuid]=m),t[m]=g,t.pop();for(let y=0,x=i;y!==x;++y){const M=n[y];M[m]=M[p],M.pop()}}}this.nCachedObjects_=s},subscribe_:function(t,e){const n=this._bindingsIndicesByPath;let i=n[t];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,l=this._parsedPaths,u=this._objects,h=u.length,f=this.nCachedObjects_,m=new Array(h);i=s.length,n[t]=i,o.push(t),l.push(e),s.push(m);for(let p=f,g=u.length;p!==g;++p){const y=u[p];m[p]=new On(y,t,e)}return m},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,n=e[t];if(n!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length-1,u=o[l],h=t[l];e[h]=n,o[n]=u,o.pop(),s[n]=s[l],s.pop(),i[n]=i[l],i.pop()}}});class QV{constructor(e,n,i=null,s=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=s;const o=n.tracks,l=o.length,u=new Array(l),h={endingStart:Ra,endingEnd:Ra};for(let f=0;f!==l;++f){const m=o[f].createInterpolant(null);u[f]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=FR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const s=this._clip.duration,o=e._clip.duration,l=o/s,u=s/o;e.warp(1,l,n),this.warp(u,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const s=this._mixer,o=s.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=s._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,f=u.sampleValues;return h[0]=o,h[1]=o+i,f[0]=e/l,f[1]=n/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,s){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const h=(e-o)*i;if(h<0||i===0)return;this._startTime=null,n=i*h}n*=this._updateTimeScale(e);const l=this._updateTime(n),u=this._updateWeight(e);if(u>0){const h=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case Ax:for(let m=0,p=h.length;m!==p;++m)h[m].evaluate(l),f[m].accumulateAdditive(u);break;case Lp:default:for(let m=0,p=h.length;m!==p;++m)h[m].evaluate(l),f[m].accumulate(s,u)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let s=this.time+e,o=this._loopCount;const l=i===IR;if(e===0)return o===-1?s:l&&(o&1)===1?n-s:s;if(i===UR){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=n)s=n;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),s>=n||s<0){const u=Math.floor(s/n);s-=n*u,o+=Math.abs(u);const h=this.repetitions-o;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?n:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const f=e<0;this._setEndings(f,!f,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=s;if(l&&(o&1)===1)return n-s}return s}_setEndings(e,n,i){const s=this._interpolantSettings;i?(s.endingStart=Ca,s.endingEnd=Ca):(e?s.endingStart=this.zeroSlopeAtStart?Ca:Ra:s.endingStart=Ru,n?s.endingEnd=this.zeroSlopeAtEnd?Ca:Ra:s.endingEnd=Ru)}_scheduleFading(e,n,i){const s=this._mixer,o=s.time;let l=this._weightInterpolant;l===null&&(l=s._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,h=l.sampleValues;return u[0]=o,h[0]=n,u[1]=o+e,h[1]=i,this}}function Tv(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Tv.prototype=Object.assign(Object.create(vr.prototype),{constructor:Tv,_bindAction:function(t,e){const n=t._localRoot||this._root,i=t._clip.tracks,s=i.length,o=t._propertyBindings,l=t._interpolants,u=n.uuid,h=this._bindingsByRootAndName;let f=h[u];f===void 0&&(f={},h[u]=f);for(let m=0;m!==s;++m){const p=i[m],g=p.name;let y=f[g];if(y!==void 0)o[m]=y;else{if(y=o[m],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,u,g));continue}const x=e&&e._propertyBindings[m].binding.parsedPath;y=new nb(On.create(n,g,x),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,u,g),o[m]=y}l[m].resultBuffer=y.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const n=(t._localRoot||this._root).uuid,i=t._clip.uuid,s=this._actionsByClip[i];this._bindAction(t,s&&s.knownActions[0]),this._addInactiveAction(t,i,n)}const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const s=e[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const s=e[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){const i=this._actions,s=this._actionsByClip;let o=s[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,s[e]=o;else{const l=o.knownActions;t._byClipCacheIndex=l.length,l.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){const e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;const s=t._clip.uuid,o=this._actionsByClip,l=o[s],u=l.knownActions,h=u[u.length-1],f=t._byClipCacheIndex;h._byClipCacheIndex=f,u[f]=h,u.pop(),t._byClipCacheIndex=null;const m=l.actionByRoot,p=(t._localRoot||this._root).uuid;delete m[p],u.length===0&&delete o[s],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const s=e[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}},_lendAction:function(t){const e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s},_takeBackAction:function(t){const e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s},_addInactiveBinding:function(t,e,n){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[e];o===void 0&&(o={},i[e]=o),o[n]=t,t._cacheIndex=s.length,s.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,n=t.binding,i=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,l=o[i],u=e[e.length-1],h=t._cacheIndex;u._cacheIndex=h,e[h]=u,e.pop(),delete l[s],Object.keys(l).length===0&&delete o[i]},_lendBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s},_takeBackBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,s=e[i];t._cacheIndex=i,e[i]=t,s._cacheIndex=n,e[n]=s},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return n===void 0&&(n=new Yu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,s=e[i];t.__cacheIndex=i,e[i]=t,s.__cacheIndex=n,e[n]=s},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){const i=e||this._root,s=i.uuid;let o=typeof t=="string"?li.findByName(i,t):t;const l=o!==null?o.uuid:t,u=this._actionsByClip[l];let h=null;if(n===void 0&&(o!==null?n=o.blendMode:n=Lp),u!==void 0){const m=u.actionByRoot[s];if(m!==void 0&&m.blendMode===n)return m;h=u.knownActions[0],o===null&&(o=h._clip)}if(o===null)return null;const f=new QV(this,o,e,n);return this._bindAction(f,h),this._addInactiveAction(f,l,s),f},existingAction:function(t,e){const n=e||this._root,i=n.uuid,s=typeof t=="string"?li.findByName(n,t):t,o=s?s.uuid:t,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[i]||null},stopAllAction:function(){const t=this._actions,e=this._nActiveActions;for(let n=e-1;n>=0;--n)t[n].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,i=this.time+=t,s=Math.sign(t),o=this._accuIndex^=1;for(let h=0;h!==n;++h)e[h]._update(i,t,s,o);const l=this._bindings,u=this._nActiveBindings;for(let h=0;h!==u;++h)l[h].apply(o);return this},setTime:function(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,n=t.uuid,i=this._actionsByClip,s=i[n];if(s!==void 0){const o=s.knownActions;for(let l=0,u=o.length;l!==u;++l){const h=o[l];this._deactivateAction(h);const f=h._cacheIndex,m=e[e.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,m._cacheIndex=f,e[f]=m,e.pop(),this._removeInactiveBindingsForAction(h)}delete i[n]}},uncacheRoot:function(t){const e=t.uuid,n=this._actionsByClip;for(const o in n){const l=n[o].actionByRoot,u=l[e];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const i=this._bindingsByRootAndName,s=i[e];if(s!==void 0)for(const o in s){const l=s[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(t,e){const n=this.existingAction(t,e);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class Ip{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Ip(this.value.clone===void 0?this.value:this.value.clone())}}function Ev(t,e,n){ci.call(this,t,e),this.meshPerAttribute=n||1}Ev.prototype=Object.assign(Object.create(ci.prototype),{constructor:Ev,isInstancedInterleavedBuffer:!0,copy:function(t){return ci.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=ci.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=ci.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}});function sb(t,e,n,i,s){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=s,this.version=0}Object.defineProperty(sb.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});Object.assign(sb.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}});function ab(t,e,n,i){this.ray=new Il(t,e),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new Dx,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function CT(t,e){return t.distance-e.distance}function Av(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const s=t.children;for(let o=0,l=s.length;o<l;o++)Av(s[o],e,n,!0)}}Object.assign(ab.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)},intersectObject:function(t,e,n){const i=n||[];return Av(t,this,i,e),i.sort(CT),i},intersectObjects:function(t,e,n){const i=n||[];if(Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let s=0,o=t.length;s<o;s++)Av(t[s],this,i,e);return i.sort(CT),i}});class KV{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}clone(){return new this.constructor().copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(it.clamp(n/this.radius,-1,1))),this}}class $V{constructor(e,n,i){return this.radius=e!==void 0?e:1,this.theta=n!==void 0?n:0,this.y=i!==void 0?i:0,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}clone(){return new this.constructor().copy(this)}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}}const LT=new _e;class P3{constructor(e,n){Object.defineProperty(this,"isBox2",{value:!0}),this.min=e!==void 0?e:new _e(1/0,1/0),this.max=n!==void 0?n:new _e(-1/0,-1/0)}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=LT.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new _e),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new _e),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),n=new _e),n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),n=new _e),n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return LT.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const DT=new O,xd=new O;class B3{constructor(e,n){this.start=e!==void 0?e:new O,this.end=n!==void 0?n:new O}set(e,n){return this.start.copy(e),this.end.copy(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new O),e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new O),e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return n===void 0&&(console.warn("THREE.Line3: .at() target is now required"),n=new O),this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){DT.subVectors(e,this.start),xd.subVectors(this.end,this.start);const i=xd.dot(xd);let o=xd.dot(DT)/i;return n&&(o=it.clamp(o,0,1)),o}closestPointToPoint(e,n,i){const s=this.closestPointToPointParameter(e,n);return i===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new O),this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}function Qu(t){Ge.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Qu.prototype=Object.create(Ge.prototype);Qu.prototype.constructor=Qu;Qu.prototype.isImmediateRenderObject=!0;const NT=new O;class eG extends Ge{constructor(e,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new qe,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,h=32;l<h;l++,u++){const f=l/h*Math.PI*2,m=u/h*Math.PI*2;s.push(Math.cos(f),Math.sin(f),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new ze(s,3));const o=new Ht({fog:!1,toneMapped:!1});this.cone=new Gn(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),NT.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(NT),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ps=new O,bd=new lt,n0=new lt;class z3 extends Gn{constructor(e){const n=U3(e),i=new qe,s=[],o=[],l=new Ue(0,0,1),u=new Ue(0,1,0);for(let f=0;f<n.length;f++){const m=n[f];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),o.push(l.r,l.g,l.b),o.push(u.r,u.g,u.b))}i.setAttribute("position",new ze(s,3)),i.setAttribute("color",new ze(o,3));const h=new Ht({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,h),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,s=i.getAttribute("position");n0.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<n.length;o++){const u=n[o];u.parent&&u.parent.isBone&&(bd.multiplyMatrices(n0,u.matrixWorld),Ps.setFromMatrixPosition(bd),s.setXYZ(l,Ps.x,Ps.y,Ps.z),bd.multiplyMatrices(n0,u.parent.matrixWorld),Ps.setFromMatrixPosition(bd),s.setXYZ(l+1,Ps.x,Ps.y,Ps.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function U3(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,U3(t.children[n]));return e}class tG extends Ut{constructor(e,n,i){const s=new Fp(n,4,2),o=new Ci({wireframe:!0,fog:!1,toneMapped:!1});super(s,o),this.light=e,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nG=new O,OT=new Ue,PT=new Ue;class iG extends Ge{constructor(e,n,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const s=new Up(n);s.rotateY(Math.PI*.5),this.material=new Ci({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=s.getAttribute("position"),l=new Float32Array(o.count*3);s.setAttribute("color",new Xe(l,3)),this.add(new Ut(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");OT.copy(this.light.color),PT.copy(this.light.groundColor);for(let i=0,s=n.count;i<s;i++){const o=i<s/2?OT:PT;n.setXYZ(i,o.r,o.g,o.b)}n.needsUpdate=!0}e.lookAt(nG.setFromMatrixPosition(this.light.matrixWorld).negate())}}class F3 extends Gn{constructor(e=10,n=10,i=4473924,s=8947848){i=new Ue(i),s=new Ue(s);const o=n/2,l=e/n,u=e/2,h=[],f=[];for(let g=0,y=0,x=-u;g<=n;g++,x+=l){h.push(-u,0,x,u,0,x),h.push(x,0,-u,x,0,u);const M=g===o?i:s;M.toArray(f,y),y+=3,M.toArray(f,y),y+=3,M.toArray(f,y),y+=3,M.toArray(f,y),y+=3}const m=new qe;m.setAttribute("position",new ze(h,3)),m.setAttribute("color",new ze(f,3));const p=new Ht({vertexColors:!0,toneMapped:!1});super(m,p),this.type="GridHelper"}}class rG extends Gn{constructor(e=10,n=16,i=8,s=64,o=4473924,l=8947848){o=new Ue(o),l=new Ue(l);const u=[],h=[];for(let p=0;p<=n;p++){const g=p/n*(Math.PI*2),y=Math.sin(g)*e,x=Math.cos(g)*e;u.push(0,0,0),u.push(y,0,x);const M=p&1?o:l;h.push(M.r,M.g,M.b),h.push(M.r,M.g,M.b)}for(let p=0;p<=i;p++){const g=p&1?o:l,y=e-e/i*p;for(let x=0;x<s;x++){let M=x/s*(Math.PI*2),S=Math.sin(M)*y,_=Math.cos(M)*y;u.push(S,0,_),h.push(g.r,g.g,g.b),M=(x+1)/s*(Math.PI*2),S=Math.sin(M)*y,_=Math.cos(M)*y,u.push(S,0,_),h.push(g.r,g.g,g.b)}}const f=new qe;f.setAttribute("position",new ze(u,3)),f.setAttribute("color",new ze(h,3));const m=new Ht({vertexColors:!0,toneMapped:!1});super(f,m),this.type="PolarGridHelper"}}const BT=new O,_d=new O,zT=new O;class sG extends Ge{constructor(e,n,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,n===void 0&&(n=1);let s=new qe;s.setAttribute("position",new ze([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Ht({fog:!1,toneMapped:!1});this.lightPlane=new Di(s,o),this.add(this.lightPlane),s=new qe,s.setAttribute("position",new ze([0,0,0,0,0,1],3)),this.targetLine=new Di(s,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){BT.setFromMatrixPosition(this.light.matrixWorld),_d.setFromMatrixPosition(this.light.target.matrixWorld),zT.subVectors(_d,BT),this.lightPlane.lookAt(_d),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_d),this.targetLine.scale.z=zT.length()}}const wd=new O,Qt=new hr;class aG extends Gn{constructor(e){const n=new qe,i=new Ht({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],o=[],l={},u=new Ue(16755200),h=new Ue(16711680),f=new Ue(43775),m=new Ue(16777215),p=new Ue(3355443);g("n1","n2",u),g("n2","n4",u),g("n4","n3",u),g("n3","n1",u),g("f1","f2",u),g("f2","f4",u),g("f4","f3",u),g("f3","f1",u),g("n1","f1",u),g("n2","f2",u),g("n3","f3",u),g("n4","f4",u),g("p","n1",h),g("p","n2",h),g("p","n3",h),g("p","n4",h),g("u1","u2",f),g("u2","u3",f),g("u3","u1",f),g("c","t",m),g("p","c",p),g("cn1","cn2",p),g("cn3","cn4",p),g("cf1","cf2",p),g("cf3","cf4",p);function g(x,M,S){y(x,S),y(M,S)}function y(x,M){s.push(0,0,0),o.push(M.r,M.g,M.b),l[x]===void 0&&(l[x]=[]),l[x].push(s.length/3-1)}n.setAttribute("position",new ze(s,3)),n.setAttribute("color",new ze(o,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update()}update(){const e=this.geometry,n=this.pointMap,i=1,s=1;Qt.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),tn("c",n,e,Qt,0,0,-1),tn("t",n,e,Qt,0,0,1),tn("n1",n,e,Qt,-1,-1,-1),tn("n2",n,e,Qt,i,-1,-1),tn("n3",n,e,Qt,-1,s,-1),tn("n4",n,e,Qt,i,s,-1),tn("f1",n,e,Qt,-1,-1,1),tn("f2",n,e,Qt,i,-1,1),tn("f3",n,e,Qt,-1,s,1),tn("f4",n,e,Qt,i,s,1),tn("u1",n,e,Qt,i*.7,s*1.1,-1),tn("u2",n,e,Qt,-1*.7,s*1.1,-1),tn("u3",n,e,Qt,0,s*2,-1),tn("cf1",n,e,Qt,-1,0,1),tn("cf2",n,e,Qt,i,0,1),tn("cf3",n,e,Qt,0,-1,1),tn("cf4",n,e,Qt,0,s,1),tn("cn1",n,e,Qt,-1,0,-1),tn("cn2",n,e,Qt,i,0,-1),tn("cn3",n,e,Qt,0,-1,-1),tn("cn4",n,e,Qt,0,s,-1),e.getAttribute("position").needsUpdate=!0}}function tn(t,e,n,i,s,o,l){wd.set(s,o,l).unproject(i);const u=e[t];if(u!==void 0){const h=n.getAttribute("position");for(let f=0,m=u.length;f<m;f++)h.setXYZ(u[f],wd.x,wd.y,wd.z)}}const Md=new xr;class I3 extends Gn{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),o=new qe;o.setIndex(new Xe(i,1)),o.setAttribute("position",new Xe(s,3)),super(o,new Ht({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Md.setFromObject(this.object),Md.isEmpty())return;const n=Md.min,i=Md.max,s=this.geometry.attributes.position,o=s.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Gn.prototype.copy.call(this,e),this.object=e.object,this}}class oG extends Gn{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new qe;o.setIndex(new Xe(i,1)),o.setAttribute("position",new ze(s,3)),super(o,new Ht({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class lG extends Di{constructor(e,n=1,i=16776960){const s=i,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],l=new qe;l.setAttribute("position",new ze(o,3)),l.computeBoundingSphere(),super(l,new Ht({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const u=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],h=new qe;h.setAttribute("position",new ze(u,3)),h.computeBoundingSphere(),this.add(new Ut(h,new Ci({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?cn:Bl,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const UT=new O;let Sd,i0;class cG extends Ge{constructor(e,n,i,s,o,l){super(),this.type="ArrowHelper",e===void 0&&(e=new O(0,0,1)),n===void 0&&(n=new O(0,0,0)),i===void 0&&(i=1),s===void 0&&(s=16776960),o===void 0&&(o=.2*i),l===void 0&&(l=.2*o),Sd===void 0&&(Sd=new qe,Sd.setAttribute("position",new ze([0,0,0,0,1,0],3)),i0=new yf(0,.5,1,5,1),i0.translate(0,-.5,0)),this.position.copy(n),this.line=new Di(Sd,new Ht({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ut(i0,new Ci({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{UT.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(UT,n)}}setLength(e,n,i){n===void 0&&(n=.2*e),i===void 0&&(i=.2*n),this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class H3 extends Gn{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new qe;s.setAttribute("position",new ze(n,3)),s.setAttribute("color",new ze(i,3));const o=new Ht({vertexColors:!0,toneMapped:!1});super(s,o),this.type="AxesHelper"}}const V3=new Float32Array(1),uG=new Int32Array(V3.buffer),fG={toHalfFloat:function(t){V3[0]=t;const e=uG[0];let n=e>>16&32768,i=e>>12&2047;const s=e>>23&255;return s<103?n:s>142?(n|=31744,n|=(s==255?0:1)&&e&8388607,n):s<113?(i|=2048,n|=(i>>114-s)+(i>>113-s&1),n):(n|=s-112<<10|i>>1,n+=i&1,n)}},pl=4,Hs=8,sr=Math.pow(2,Hs),G3=[.125,.215,.35,.446,.526,.582],k3=Hs-pl+1+G3.length,Ko=20,or={[Hn]:0,[hf]:1,[Np]:2,[Rx]:3,[Cx]:4,[Lx]:5,[Dp]:6},r0=new Rl,{_lodPlanes:$c,_sizeLods:FT,_sigmas:Td}=pG(),IT=new Ue;let s0=null;const Sa=(1+Math.sqrt(5))/2,$o=1/Sa,HT=[new O(1,1,1),new O(-1,1,1),new O(1,1,-1),new O(-1,1,-1),new O(0,Sa,$o),new O(0,Sa,-$o),new O($o,0,Sa),new O(-$o,0,Sa),new O(Sa,$o,0),new O(-Sa,$o,0)];class hG{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=mG(Ko),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,s=100){s0=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(e,i,s,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=kT(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=GT(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<$c.length;e++)$c[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(s0),e.scissorTest=!1,Ed(e,0,0,e.width,e.height)}_fromTexture(e){s0=this._renderer.getRenderTarget();const n=this._allocateTargets(e);return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(e){const n={magFilter:un,minFilter:un,generateMipmaps:!1,type:Fl,format:eR,encoding:dG(e)?e.encoding:Np,depthBuffer:!1},i=VT(n);return i.depthBuffer=!e,this._pingPongRenderTarget=VT(n),i}_compileMaterial(e){const n=new Ut($c[0],e);this._renderer.compile(n,r0)}_sceneToCubeUV(e,n,i,s){const u=new an(90,1,n,i),h=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],m=this._renderer,p=m.outputEncoding,g=m.toneMapping;m.getClearColor(IT);const y=m.getClearAlpha();m.toneMapping=Oa,m.outputEncoding=Hn;let x=e.background;if(x&&x.isColor){x.convertSRGBToLinear();const M=Math.max(x.r,x.g,x.b),S=Math.min(Math.max(Math.ceil(Math.log2(M)),-128),127);x=x.multiplyScalar(Math.pow(2,-S));const _=(S+128)/255;m.setClearColor(x,_),e.background=null}for(let M=0;M<6;M++){const S=M%3;S==0?(u.up.set(0,h[M],0),u.lookAt(f[M],0,0)):S==1?(u.up.set(0,0,h[M]),u.lookAt(0,f[M],0)):(u.up.set(0,h[M],0),u.lookAt(0,0,f[M])),Ed(s,S*sr,M>2?sr:0,sr,sr),m.setRenderTarget(s),m.render(e,u)}m.toneMapping=g,m.outputEncoding=p,m.setClearColor(IT,y)}_textureToCubeUV(e,n){const i=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=kT()):this._equirectShader==null&&(this._equirectShader=GT());const s=e.isCubeTexture?this._cubemapShader:this._equirectShader,o=new Ut($c[0],s),l=s.uniforms;l.envMap.value=e,e.isCubeTexture||l.texelSize.value.set(1/e.image.width,1/e.image.height),l.inputEncoding.value=or[e.encoding],l.outputEncoding.value=or[n.texture.encoding],Ed(n,0,0,3*sr,2*sr),i.setRenderTarget(n),i.render(o,r0)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let s=1;s<k3;s++){const o=Math.sqrt(Td[s]*Td[s]-Td[s-1]*Td[s-1]),l=HT[(s-1)%HT.length];this._blur(e,s-1,s,o,l)}n.autoClear=i}_blur(e,n,i,s,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,n,i,s,"latitudinal",o),this._halfBlur(l,e,i,i,s,"longitudinal",o)}_halfBlur(e,n,i,s,o,l,u){const h=this._renderer,f=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,p=new Ut($c[s],f),g=f.uniforms,y=FT[i]-1,x=isFinite(o)?Math.PI/(2*y):2*Math.PI/(2*Ko-1),M=o/x,S=isFinite(o)?1+Math.floor(m*M):Ko;S>Ko&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${Ko}`);const _=[];let w=0;for(let E=0;E<Ko;++E){const N=E/M,P=Math.exp(-N*N/2);_.push(P),E==0?w+=P:E<S&&(w+=2*P)}for(let E=0;E<_.length;E++)_[E]=_[E]/w;g.envMap.value=e.texture,g.samples.value=S,g.weights.value=_,g.latitudinal.value=l==="latitudinal",u&&(g.poleAxis.value=u),g.dTheta.value=x,g.mipInt.value=Hs-i,g.inputEncoding.value=or[e.texture.encoding],g.outputEncoding.value=or[e.texture.encoding];const T=FT[s],C=3*Math.max(0,sr-2*T),R=(s===0?0:2*sr)+2*T*(s>Hs-pl?s-Hs+pl:0);Ed(n,C,R,3*T,2*T),h.setRenderTarget(n),h.render(p,r0)}}function dG(t){return t===void 0||t.type!==Fl?!1:t.encoding===Hn||t.encoding===hf||t.encoding===Dp}function pG(){const t=[],e=[],n=[];let i=Hs;for(let s=0;s<k3;s++){const o=Math.pow(2,i);e.push(o);let l=1/o;s>Hs-pl?l=G3[s-Hs+pl-1]:s==0&&(l=0),n.push(l);const u=1/(o-1),h=-u/2,f=1+u/2,m=[h,h,f,h,f,f,h,h,f,f,h,f],p=6,g=6,y=3,x=2,M=1,S=new Float32Array(y*g*p),_=new Float32Array(x*g*p),w=new Float32Array(M*g*p);for(let C=0;C<p;C++){const R=C%3*2/3-1,E=C>2?0:-1,N=[R,E,0,R+2/3,E,0,R+2/3,E+1,0,R,E,0,R+2/3,E+1,0,R,E+1,0];S.set(N,y*g*C),_.set(m,x*g*C);const P=[C,C,C,C,C,C];w.set(P,M*g*C)}const T=new qe;T.setAttribute("position",new Xe(S,y)),T.setAttribute("uv",new Xe(_,x)),T.setAttribute("faceIndex",new Xe(w,M)),t.push(T),i>pl&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function VT(t){const e=new fi(3*sr,3*sr,t);return e.texture.mapping=zl,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Ed(t,e,n,i,s){t.viewport.set(e,n,i,s),t.scissor.set(e,n,i,s)}function mG(t){const e=new Float32Array(t),n=new O(0,1,0);return new Qr({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:or[Hn]},outputEncoding:{value:or[Hn]}},vertexShader:ob(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${lb()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:jr,depthTest:!1,depthWrite:!1})}function GT(){const t=new _e(1,1);return new Qr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:or[Hn]},outputEncoding:{value:or[Hn]}},vertexShader:ob(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${lb()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:jr,depthTest:!1,depthWrite:!1})}function kT(){return new Qr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:or[Hn]},outputEncoding:{value:or[Hn]}},vertexShader:ob(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${lb()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:jr,depthTest:!1,depthWrite:!1})}function ob(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function lb(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function gG(t,e,n,i,s,o,l){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Cu(t,e,n,s,o,l)}const yG=0,vG=1,xG=0,bG=1,_G=2;function wG(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function MG(t=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function SG(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new _l(t,e)}function TG(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Uu(t)}function EG(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new _l(t,e)}function AG(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ji(t)}function RG(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ji(t)}function CG(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ji(t)}function LG(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new O(t,e,n)}function DG(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Xe(t,e).setUsage(za)}function NG(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Lu(t,e)}function OG(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Du(t,e)}function PG(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Nu(t,e)}function BG(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ou(t,e)}function zG(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ua(t,e)}function UG(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Pu(t,e)}function FG(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Fa(t,e)}function IG(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new ze(t,e)}function HG(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new zu(t,e)}We.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(We.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t};Object.assign(Gr.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=new At;for(let n=0,i=t.length;n<i;n++){const s=t[n];e.vertices.push(new O(s.x,s.y,s.z||0))}return e}});Object.assign(ki.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}});function j3(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Pn.call(this,t),this.type="catmullrom",this.closed=!0}j3.prototype=Object.create(Pn.prototype);function W3(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Pn.call(this,t),this.type="catmullrom"}W3.prototype=Object.create(Pn.prototype);function cb(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Pn.call(this,t),this.type="catmullrom"}cb.prototype=Object.create(Pn.prototype);Object.assign(cb.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function VG(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new H3(t)}function GG(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new I3(t,e)}function kG(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Gn(new zx(t.geometry),new Ht({color:e!==void 0?e:16777215}))}F3.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};z3.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function jG(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Gn(new Yx(t.geometry),new Ht({color:e!==void 0?e:16777215}))}Object.assign(wt.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Qx.extractUrlBase(t)}});wt.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function WG(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ni(t)}function qG(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new lp(t)}Object.assign(P3.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}});Object.assign(xr.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}});Object.assign(ts.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});mf.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};B3.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)};Object.assign(it,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),it.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),it.ceilPowerOfTwo(t)}});Object.assign(In.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}});Object.assign(lt.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new O().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,s,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,s,o)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}});ar.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};Object.assign(Nn.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}});Object.assign(Il.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}});Object.assign(wn.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}});Object.assign(wn,{barycoordFromPoint:function(t,e,n,i,s){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),wn.getBarycoord(t,e,n,i,s)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),wn.getNormal(t,e,n,i)}});Object.assign(Is.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ux(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Gx(this,t)}});Object.assign(_e.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(O.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Et.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(At.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}});Object.assign(Ge.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}});Object.defineProperties(Ge.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(Ut.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(Ut.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),HR},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(Fu.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(Vu.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Iu.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(We.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}});an.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)};Object.defineProperties(Ot.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties(Xe.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===za},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(za)}}});Object.assign(Xe.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?za:df),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(qe.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Xe(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e)},addDrawCall:function(t,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}});Object.defineProperties(qe.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(Ju.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}});Object.defineProperties(ab.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}});Object.defineProperties(ci.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===za},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}});Object.assign(ci.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?za:df),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(vf.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(Nx.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});Object.defineProperties(Ip.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties($e.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ue}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===Mx}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}});Object.defineProperties(Zs.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Ys.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}});Object.defineProperties(Vn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});Object.assign(gf.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(gf.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?hf:Hn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(r3.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function XG(t,e,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Zr(t,n)}Object.defineProperties(fi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});Object.defineProperties(tb.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new xp().load(t,function(i){e.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});D3.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Ia.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};Ia.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)};const YG={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");let i;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),i=e.matrix,e=e.geometry),t.merge(e,i,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};Ja.crossOrigin=void 0;Ja.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const s=new cp;s.setCrossOrigin(this.crossOrigin);const o=s.load(t,n,void 0,i);return e&&(o.mapping=e),o};Ja.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const s=new op;s.setCrossOrigin(this.crossOrigin);const o=s.load(t,n,void 0,i);return e&&(o.mapping=e),o};Ja.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ja.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function ZG(){console.error("THREE.CanvasRenderer has been removed")}function JG(){console.error("THREE.JSONLoader has been removed.")}const QG={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function KG(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:m2}}));const jT=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:k2,AddEquation:Ta,AddOperation:I2,AdditiveAnimationBlendMode:Ax,AdditiveBlending:W0,AlphaFormat:Q2,AlwaysDepth:N2,AlwaysStencilFunc:WR,AmbientLight:pp,AmbientLightProbe:Sv,AnimationClip:li,AnimationLoader:mv,AnimationMixer:Tv,AnimationObjectGroup:O3,AnimationUtils:zt,ArcCurve:Al,ArrayCamera:Kd,ArrowHelper:cG,Audio:tb,AudioAnalyser:D3,AudioContext:eb,AudioListener:HV,AudioLoader:xp,AxesHelper:H3,AxisHelper:VG,BackSide:cn,BasicDepthPacking:GR,BasicShadowMap:fU,BinaryTextureLoader:qG,Bone:Hu,BooleanKeyframeTrack:ip,BoundingBoxHelper:GG,Box2:P3,Box3:xr,Box3Helper:oG,BoxBufferGeometry:pf,BoxGeometry:hv,BoxHelper:I3,BufferAttribute:Xe,BufferGeometry:qe,BufferGeometryLoader:vp,ByteType:W2,Cache:qa,Camera:hr,CameraHelper:aG,CanvasRenderer:ZG,CanvasTexture:Gu,CatmullRomCurve3:Pn,CineonToneMapping:G2,CircleBufferGeometry:Ox,CircleGeometry:l3,ClampToEdgeWrapping:Un,Clock:L3,ClosedSplineCurve3:j3,Color:Ue,ColorKeyframeTrack:rp,CompressedTexture:wl,CompressedTextureLoader:gv,ConeBufferGeometry:u3,ConeGeometry:c3,CubeCamera:Ia,CubeGeometry:hv,CubeReflectionMapping:cf,CubeRefractionMapping:uf,CubeTexture:dr,CubeTextureLoader:op,CubeUVReflectionMapping:zl,CubeUVRefractionMapping:ff,CubicBezierCurve:Wi,CubicBezierCurve3:mr,CubicInterpolant:tp,CullFaceBack:j0,CullFaceFront:y2,CullFaceFrontBack:uU,CullFaceNone:g2,Curve:We,CurvePath:Gr,CustomBlending:x2,CustomToneMapping:j2,CylinderBufferGeometry:yf,CylinderGeometry:Px,Cylindrical:$V,DataTexture:Jr,DataTexture2DArray:xl,DataTexture3D:bl,DataTextureLoader:lp,DataUtils:fG,DecrementStencilOp:wU,DecrementWrapStencilOp:SU,DefaultLoadingManager:A3,DepthFormat:Pa,DepthStencilFormat:yl,DepthTexture:ku,DirectionalLight:dp,DirectionalLightHelper:sG,DiscreteInterpolant:np,DodecahedronBufferGeometry:Bx,DodecahedronGeometry:f3,DoubleSide:of,DstAlphaFactor:E2,DstColorFactor:R2,DynamicBufferAttribute:DG,DynamicCopyUsage:FU,DynamicDrawUsage:za,DynamicReadUsage:BU,EdgesGeometry:zx,EdgesHelper:kG,EllipseCurve:pi,EqualDepth:P2,EqualStencilFunc:RU,EquirectangularReflectionMapping:Yd,EquirectangularRefractionMapping:Zd,Euler:Hl,EventDispatcher:vr,ExtrudeBufferGeometry:vf,ExtrudeGeometry:Ux,Face3:Cu,Face4:gG,FaceColors:bG,FileLoader:Ni,FlatShading:Mx,Float16BufferAttribute:Bu,Float32Attribute:IG,Float32BufferAttribute:ze,Float64Attribute:HG,Float64BufferAttribute:zu,FloatType:Vr,Fog:Bp,FogExp2:Pp,Font:$x,FontLoader:wv,FrontSide:Bl,Frustum:mf,GLBufferAttribute:sb,GLSL1:HU,GLSL3:av,GammaEncoding:Dp,Geometry:At,GeometryUtils:YG,GreaterDepth:z2,GreaterEqualDepth:B2,GreaterEqualStencilFunc:NU,GreaterStencilFunc:LU,GridHelper:F3,Group:zs,HalfFloatType:Eu,HemisphereLight:up,HemisphereLightHelper:iG,HemisphereLightProbe:Mv,IcosahedronBufferGeometry:Fx,IcosahedronGeometry:m3,ImageBitmapLoader:_v,ImageLoader:El,ImageUtils:Ja,ImmediateRenderObject:Qu,IncrementStencilOp:_U,IncrementWrapStencilOp:MU,InstancedBufferAttribute:yp,InstancedBufferGeometry:Ju,InstancedInterleavedBuffer:Ev,InstancedMesh:$d,Int16Attribute:BG,Int16BufferAttribute:Ou,Int32Attribute:UG,Int32BufferAttribute:Pu,Int8Attribute:NG,Int8BufferAttribute:Lu,IntType:X2,InterleavedBuffer:ci,InterleavedBufferAttribute:Ws,Interpolant:hi,InterpolateDiscrete:Au,InterpolateLinear:uu,InterpolateSmooth:Pd,InvertStencilOp:TU,JSONLoader:JG,KeepStencilOp:Bd,KeyframeTrack:Mn,LOD:Fu,LatheBufferGeometry:Ix,LatheGeometry:g3,Layers:Dx,LensFlare:KG,LessDepth:O2,LessEqualDepth:Xd,LessEqualStencilFunc:CU,LessStencilFunc:AU,Light:Ot,LightProbe:Ri,Line:Di,Line3:B3,LineBasicMaterial:Ht,LineCurve:Qn,LineCurve3:qi,LineDashedMaterial:Wa,LineLoop:ep,LinePieces:vG,LineSegments:Gn,LineStrip:yG,LinearEncoding:Hn,LinearFilter:mn,LinearInterpolant:Yu,LinearMipMapLinearFilter:gU,LinearMipMapNearestFilter:mU,LinearMipmapLinearFilter:Ul,LinearMipmapNearestFilter:Ex,LinearToneMapping:H2,Loader:wt,LoaderUtils:Qx,LoadingManager:Zx,LogLuvEncoding:VR,LoopOnce:UR,LoopPingPong:IR,LoopRepeat:FR,LuminanceAlphaFormat:$2,LuminanceFormat:K2,MOUSE:lU,Material:$e,MaterialLoader:gp,Math:it,MathUtils:it,Matrix3:In,Matrix4:lt,MaxEquation:Z0,Mesh:Ut,MeshBasicMaterial:Ci,MeshDepthMaterial:ks,MeshDistanceMaterial:js,MeshFaceMaterial:wG,MeshLambertMaterial:ka,MeshMatcapMaterial:ja,MeshNormalMaterial:Ga,MeshPhongMaterial:Zs,MeshPhysicalMaterial:Ys,MeshStandardMaterial:pr,MeshToonMaterial:Va,MinEquation:Y0,MirroredRepeatWrapping:Su,MixOperation:F2,MultiMaterial:MG,MultiplyBlending:X0,MultiplyOperation:lf,NearestFilter:un,NearestMipMapLinearFilter:pU,NearestMipMapNearestFilter:dU,NearestMipmapLinearFilter:Qd,NearestMipmapNearestFilter:Jd,NeverDepth:D2,NeverStencilFunc:EU,NoBlending:jr,NoColors:xG,NoToneMapping:Oa,NormalAnimationBlendMode:Lp,NormalBlending:hl,NotEqualDepth:U2,NotEqualStencilFunc:DU,NumberKeyframeTrack:Sl,Object3D:Ge,ObjectLoader:BV,ObjectSpaceNormalMap:jR,OctahedronBufferGeometry:Up,OctahedronGeometry:y3,OneFactor:M2,OneMinusDstAlphaFactor:A2,OneMinusDstColorFactor:C2,OneMinusSrcAlphaFactor:Tx,OneMinusSrcColorFactor:T2,OrthographicCamera:Rl,PCFShadowMap:wx,PCFSoftShadowMap:v2,PMREMGenerator:hG,ParametricBufferGeometry:Ml,ParametricGeometry:Xu,Particle:TG,ParticleBasicMaterial:RG,ParticleSystem:EG,ParticleSystemMaterial:CG,Path:ki,PerspectiveCamera:an,Plane:ar,PlaneBufferGeometry:Op,PlaneGeometry:v3,PlaneHelper:lG,PointCloud:SG,PointCloudMaterial:AG,PointLight:hp,PointLightHelper:tG,Points:_l,PointsMaterial:ji,PolarGridHelper:rG,PolyhedronBufferGeometry:Qa,PolyhedronGeometry:x3,PositionalAudio:GV,PropertyBinding:On,PropertyMixer:nb,QuadraticBezierCurve:Xi,QuadraticBezierCurve3:gr,Quaternion:Nn,QuaternionKeyframeTrack:Zu,QuaternionLinearInterpolant:sp,REVISION:m2,RGBADepthPacking:kR,RGBAFormat:ui,RGBAIntegerFormat:aR,RGBA_ASTC_10x10_Format:xR,RGBA_ASTC_10x5_Format:gR,RGBA_ASTC_10x6_Format:yR,RGBA_ASTC_10x8_Format:vR,RGBA_ASTC_12x10_Format:bR,RGBA_ASTC_12x12_Format:_R,RGBA_ASTC_4x4_Format:lR,RGBA_ASTC_5x4_Format:cR,RGBA_ASTC_5x5_Format:uR,RGBA_ASTC_6x5_Format:fR,RGBA_ASTC_6x6_Format:hR,RGBA_ASTC_8x5_Format:dR,RGBA_ASTC_8x6_Format:pR,RGBA_ASTC_8x8_Format:mR,RGBA_BPTC_Format:wR,RGBA_ETC2_EAC_Format:sv,RGBA_PVRTC_2BPPV1_Format:iv,RGBA_PVRTC_4BPPV1_Format:nv,RGBA_S3TC_DXT1_Format:Q0,RGBA_S3TC_DXT3_Format:K0,RGBA_S3TC_DXT5_Format:$0,RGBDEncoding:Lx,RGBEEncoding:Np,RGBEFormat:eR,RGBFormat:Us,RGBIntegerFormat:sR,RGBM16Encoding:Cx,RGBM7Encoding:Rx,RGB_ETC1_Format:oR,RGB_ETC2_Format:rv,RGB_PVRTC_2BPPV1_Format:tv,RGB_PVRTC_4BPPV1_Format:ev,RGB_S3TC_DXT1_Format:J0,RGFormat:iR,RGIntegerFormat:rR,RawShaderMaterial:Qr,Ray:Il,Raycaster:ab,RectAreaLight:mp,RedFormat:tR,RedIntegerFormat:nR,ReinhardToneMapping:V2,RepeatWrapping:Mu,ReplaceStencilOp:bU,ReverseSubtractEquation:_2,RingBufferGeometry:Hx,RingGeometry:b3,SRGB8_ALPHA8_ASTC_10x10_Format:PR,SRGB8_ALPHA8_ASTC_10x5_Format:DR,SRGB8_ALPHA8_ASTC_10x6_Format:NR,SRGB8_ALPHA8_ASTC_10x8_Format:OR,SRGB8_ALPHA8_ASTC_12x10_Format:BR,SRGB8_ALPHA8_ASTC_12x12_Format:zR,SRGB8_ALPHA8_ASTC_4x4_Format:MR,SRGB8_ALPHA8_ASTC_5x4_Format:SR,SRGB8_ALPHA8_ASTC_5x5_Format:TR,SRGB8_ALPHA8_ASTC_6x5_Format:ER,SRGB8_ALPHA8_ASTC_6x6_Format:AR,SRGB8_ALPHA8_ASTC_8x5_Format:RR,SRGB8_ALPHA8_ASTC_8x6_Format:CR,SRGB8_ALPHA8_ASTC_8x8_Format:LR,Scene:Nx,SceneUtils:QG,ShaderChunk:ht,ShaderLib:Gi,ShaderMaterial:Vn,ShadowMaterial:Ha,Shape:Is,ShapeBufferGeometry:Vx,ShapeGeometry:Gx,ShapePath:Kx,ShapeUtils:Wr,ShortType:q2,Skeleton:Vu,SkeletonHelper:z3,SkinnedMesh:Iu,SmoothShading:hU,Sphere:ts,SphereBufferGeometry:Fp,SphereGeometry:_3,Spherical:KV,SphericalHarmonics3:R3,Spline:cb,SplineCurve:Yi,SplineCurve3:W3,SpotLight:fp,SpotLightHelper:eG,Sprite:Uu,SpriteMaterial:qs,SrcAlphaFactor:Sx,SrcAlphaSaturateFactor:L2,SrcColorFactor:S2,StaticCopyUsage:UU,StaticDrawUsage:df,StaticReadUsage:PU,StereoCamera:C3,StreamCopyUsage:IU,StreamDrawUsage:OU,StreamReadUsage:zU,StringKeyframeTrack:ap,SubtractEquation:b2,SubtractiveBlending:q0,TOUCH:cU,TangentSpaceNormalMap:Za,TetrahedronBufferGeometry:kx,TetrahedronGeometry:w3,TextBufferGeometry:jx,TextGeometry:M3,Texture:Rt,TextureLoader:cp,TorusBufferGeometry:Wx,TorusGeometry:S3,TorusKnotBufferGeometry:qx,TorusKnotGeometry:T3,Triangle:wn,TriangleFanDrawMode:vU,TriangleStripDrawMode:yU,TrianglesDrawMode:HR,TubeBufferGeometry:Xx,TubeGeometry:E3,UVMapping:Cp,Uint16Attribute:zG,Uint16BufferAttribute:Ua,Uint32Attribute:FG,Uint32BufferAttribute:Fa,Uint8Attribute:OG,Uint8BufferAttribute:Du,Uint8ClampedAttribute:PG,Uint8ClampedBufferAttribute:Nu,Uniform:Ip,UniformsLib:Oe,UniformsUtils:ZR,UnsignedByteType:Fl,UnsignedInt248Type:dl,UnsignedIntType:cu,UnsignedShort4444Type:Y2,UnsignedShort5551Type:Z2,UnsignedShort565Type:J2,UnsignedShortType:Tu,VSMShadowMap:ol,Vector2:_e,Vector3:O,Vector4:Et,VectorKeyframeTrack:Tl,Vertex:LG,VertexColors:_G,VideoTexture:fv,WebGL1Renderer:cv,WebGLCubeRenderTarget:Zr,WebGLMultisampleRenderTarget:ov,WebGLRenderTarget:fi,WebGLRenderTargetCube:XG,WebGLRenderer:gf,WebGLUtils:s3,WireframeGeometry:Yx,WireframeHelper:jG,WrapAroundEnding:Ru,XHRLoader:WG,ZeroCurvatureEnding:Ra,ZeroFactor:w2,ZeroSlopeEnding:Ca,ZeroStencilOp:xU,sRGBEncoding:hf},Symbol.toStringTag,{value:"Module"}));var zd={exports:{}},$G=zd.exports,WT;function e6(){return WT||(WT=1,function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:$G,()=>(()=>{var n={d:(z,k)=>{for(var Y in k)n.o(k,Y)&&!n.o(z,Y)&&Object.defineProperty(z,Y,{enumerable:!0,get:k[Y]})},o:(z,k)=>Object.prototype.hasOwnProperty.call(z,k),r:z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})}},i={};function s(){return typeof navigator<"u"?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}n.r(i),n.d(i,{default:()=>H}),Number.prototype.clamp=function(z,k){return Math.min(Math.max(this,z),k)};function o(z){for(;z.children&&z.children.length>0;)o(z.children[0]),z.remove(z.children[0]);z.geometry&&z.geometry.dispose(),z.material&&(Object.keys(z.material).forEach(k=>{z.material[k]&&z.material[k]!==null&&typeof z.material[k].dispose=="function"&&z.material[k].dispose()}),z.material.dispose())}const l=typeof window=="object";let u=l&&window.THREE||{};l&&!window.VANTA&&(window.VANTA={});const h=l&&window.VANTA||{};h.register=(z,k)=>h[z]=Y=>new k(Y),h.version="0.5.24";const f=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};h.VantaBase=class{constructor(z={}){if(!l)return!1;h.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const k=typeof this.getDefaultOptions=="function"?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},k),(z instanceof HTMLElement||typeof z=="string")&&(z={el:z}),Object.assign(this.options,z),this.options.THREE&&(u=this.options.THREE),this.el=this.options.el,this.el==null)f('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const ee=this.el;if(this.el=(Y=ee,document.querySelector(Y)),!this.el)return void f("Cannot find element",ee)}var Y,D;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(ee){return f("Init error",ee),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(D=this.options.backgroundColor,typeof D=="number"?"#"+("00000"+D.toString(16)).slice(-6):D)))}this.initMouse(),this.resize(),this.animationLoop();const V=window.addEventListener;V("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(V("scroll",this.windowMouseMoveWrapper),V("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(V("touchstart",this.windowTouchWrapper),V("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&V("deviceorientation",this.windowGyroWrapper)}setOptions(z={}){Object.assign(this.options,z),this.triggerMouseMove()}prepareEl(){let z,k;if(typeof Node<"u"&&Node.TEXT_NODE)for(z=0;z<this.el.childNodes.length;z++){const Y=this.el.childNodes[z];if(Y.nodeType===Node.TEXT_NODE){const D=document.createElement("span");D.textContent=Y.textContent,Y.parentElement.insertBefore(D,Y),Y.remove()}}for(z=0;z<this.el.children.length;z++)k=this.el.children[z],getComputedStyle(k).position==="static"&&(k.style.position="relative"),getComputedStyle(k).zIndex==="auto"&&(k.style.zIndex=1);getComputedStyle(this.el).position==="static"&&(this.el.style.position="relative")}applyCanvasStyles(z,k={}){Object.assign(z.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(z.style,k),z.classList.add("vanta-canvas")}initThree(){u.WebGLRenderer?(this.renderer=new u.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new u.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const z=this.getCanvasElement();return!!z&&z.getBoundingClientRect()}windowMouseMoveWrapper(z){const k=this.getCanvasRect();if(!k)return!1;const Y=z.clientX-k.left,D=z.clientY-k.top;Y>=0&&D>=0&&Y<=k.width&&D<=k.height&&(this.mouseX=Y,this.mouseY=D,this.options.mouseEase||this.triggerMouseMove(Y,D))}windowTouchWrapper(z){const k=this.getCanvasRect();if(!k)return!1;if(z.touches.length===1){const Y=z.touches[0].clientX-k.left,D=z.touches[0].clientY-k.top;Y>=0&&D>=0&&Y<=k.width&&D<=k.height&&(this.mouseX=Y,this.mouseY=D,this.options.mouseEase||this.triggerMouseMove(Y,D))}}windowGyroWrapper(z){const k=this.getCanvasRect();if(!k)return!1;const Y=Math.round(2*z.alpha)-k.left,D=Math.round(2*z.beta)-k.top;Y>=0&&D>=0&&Y<=k.width&&D<=k.height&&(this.mouseX=Y,this.mouseY=D,this.options.mouseEase||this.triggerMouseMove(Y,D))}triggerMouseMove(z,k){z===void 0&&k===void 0&&(this.options.mouseEase?(z=this.mouseEaseX,k=this.mouseEaseY):(z=this.mouseX,k=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=z/this.scale,this.uniforms.iMouse.value.y=k/this.scale);const Y=z/this.width,D=k/this.height;typeof this.onMouseMove=="function"&&this.onMouseMove(Y,D)}setSize(){this.scale||(this.scale=1),s()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,typeof this.camera.updateProjectionMatrix=="function"&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),typeof this.onResize=="function"&&this.onResize()}isOnScreen(){const z=this.el.offsetHeight,k=this.el.getBoundingClientRect(),Y=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,D=k.top+Y;return D-window.innerHeight<=Y&&Y<=D+z}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const z=performance.now();if(this.prevNow){let k=(z-this.prevNow)/16.666666666666668;k=Math.max(.2,Math.min(k,5)),this.t+=k,this.t2+=(this.options.speed||1)*k,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=z,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&(typeof this.onUpdate=="function"&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),typeof this.afterRender=="function"&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);typeof this.onRestart=="function"&&this.onRestart(),this.init()}init(){typeof this.onInit=="function"&&this.onInit()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy();const z=window.removeEventListener;z("touchstart",this.windowTouchWrapper),z("touchmove",this.windowTouchWrapper),z("scroll",this.windowMouseMoveWrapper),z("mousemove",this.windowMouseMoveWrapper),z("deviceorientation",this.windowGyroWrapper),z("resize",this.resize),window.cancelAnimationFrame(this.req);const k=this.scene;k&&k.children&&o(k),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),h.current===this&&(h.current=null)}};const m=h.VantaBase;let p=typeof window=="object"&&window.THREE,{Camera:g,ClampToEdgeWrapping:y,DataTexture:x,FloatType:M,Mesh:S,NearestFilter:_,PlaneBufferGeometry:w,RGBAFormat:T,Scene:C,ShaderMaterial:R,WebGLRenderTarget:E}=p||{};const N=function(z,k,Y,D){D&&({Camera:g,ClampToEdgeWrapping:y,DataTexture:x,FloatType:M,Mesh:S,NearestFilter:_,PlaneBufferGeometry:w,RGBAFormat:T,Scene:C,ShaderMaterial:R,WebGLRenderTarget:E}=D),this.variables=[],this.currentTextureIndex=0;var V=M,ee=new C,te=new g;te.position.z=1;var fe={passThruTexture:{value:null}},ne=Se(`uniform sampler2D passThruTexture;

void main() {

	vec2 uv = gl_FragCoord.xy / resolution.xy;

	gl_FragColor = texture2D( passThruTexture, uv );

}
`,fe),Ce=new S(new w(2,2),ne);function be(ye){ye.defines.resolution="vec2( "+z.toFixed(1)+", "+k.toFixed(1)+" )"}function Se(ye,Te){var Le=new R({uniforms:Te=Te||{},vertexShader:`void main()	{

	gl_Position = vec4( position, 1.0 );

}
`,fragmentShader:ye});return be(Le),Le}ee.add(Ce),this.setDataType=function(ye){return V=ye,this},this.addVariable=function(ye,Te,Le){var he={name:ye,initialValueTexture:Le,material:this.createShaderMaterial(Te),dependencies:null,renderTargets:[],wrapS:null,wrapT:null,minFilter:_,magFilter:_};return this.variables.push(he),he},this.setVariableDependencies=function(ye,Te){ye.dependencies=Te},this.init=function(){if(!Y.capabilities.isWebGL2&&!Y.extensions.get("OES_texture_float"))return"No OES_texture_float support for float textures.";if(Y.capabilities.maxVertexTextures===0)return"No support for vertex shader textures.";for(var ye=0;ye<this.variables.length;ye++){var Te=this.variables[ye];Te.renderTargets[0]=this.createRenderTarget(z,k,Te.wrapS,Te.wrapT,Te.minFilter,Te.magFilter),Te.renderTargets[1]=this.createRenderTarget(z,k,Te.wrapS,Te.wrapT,Te.minFilter,Te.magFilter),this.renderTexture(Te.initialValueTexture,Te.renderTargets[0]),this.renderTexture(Te.initialValueTexture,Te.renderTargets[1]);var Le=Te.material,he=Le.uniforms;if(Te.dependencies!==null)for(var xe=0;xe<Te.dependencies.length;xe++){var we=Te.dependencies[xe];if(we.name!==Te.name){for(var Fe=!1,De=0;De<this.variables.length;De++)if(we.name===this.variables[De].name){Fe=!0;break}if(!Fe)return"Variable dependency not found. Variable="+Te.name+", dependency="+we.name}he[we.name]={value:null},Le.fragmentShader=`
uniform sampler2D `+we.name+`;
`+Le.fragmentShader}}return this.currentTextureIndex=0,null},this.compute=function(){for(var ye=this.currentTextureIndex,Te=this.currentTextureIndex===0?1:0,Le=0,he=this.variables.length;Le<he;Le++){var xe=this.variables[Le];if(xe.dependencies!==null)for(var we=xe.material.uniforms,Fe=0,De=xe.dependencies.length;Fe<De;Fe++){var I=xe.dependencies[Fe];we[I.name].value=I.renderTargets[ye].texture}this.doRenderTarget(xe.material,xe.renderTargets[Te])}this.currentTextureIndex=Te},this.getCurrentRenderTarget=function(ye){return ye.renderTargets[this.currentTextureIndex]},this.getAlternateRenderTarget=function(ye){return ye.renderTargets[this.currentTextureIndex===0?1:0]},this.addResolutionDefine=be,this.createShaderMaterial=Se,this.createRenderTarget=function(ye,Te,Le,he,xe,we){return new E(ye=ye||z,Te=Te||k,{wrapS:Le=Le||y,wrapT:he=he||y,minFilter:xe=xe||_,magFilter:we=we||_,format:T,type:V,stencilBuffer:!1,depthBuffer:!1})},this.createTexture=function(){var ye=new Float32Array(z*k*4);return new x(ye,z,k,T,M)},this.renderTexture=function(ye,Te){fe.passThruTexture.value=ye,this.doRenderTarget(ne,Te),fe.passThruTexture.value=null},this.doRenderTarget=function(ye,Te){var Le=Y.getRenderTarget();Ce.material=ye,Y.setRenderTarget(Te),Y.render(ee,te),Ce.material=ne,Y.setRenderTarget(Le)}};let P=typeof window=="object"&&window.THREE;const j=!s();let se=32,J=se*se;const K=800,ae=(z={})=>{const k=new P.BufferGeometry,Y=[];function D(ee,te,fe){const ne=1.5*(z.birdSize||1);Y.push(new P.Vector3(ee*ne,te*ne,fe*ne))}D(5,0,0),D(-5,-1,1),D(-5,0,0),D(-5,-2,-1),D(0,2,-6),D(0,2,6),D(2,0,0),D(-3,0,0),k.setFromPoints(Y);const V=[];return V.push(0,2,1),V.push(4,7,6),V.push(5,6,7),k.setIndex(V),k};class Q{constructor(k){var Y,D,V=new P.Vector3,ee=500,te=500,fe=200,ne=.1,Ce=k;this.position=new P.Vector3,this.velocity=new P.Vector3,Y=new P.Vector3,this.setGoal=function(be){D=be},this.setWorldSize=function(be,Se,ye){ee=be,te=Se,fe=ye},this.run=function(be){V.set(-ee,this.position.y,this.position.z),(V=this.avoid(V)).multiplyScalar(5),Y.add(V),V.set(ee,this.position.y,this.position.z),(V=this.avoid(V)).multiplyScalar(5),Y.add(V),V.set(this.position.x,-te,this.position.z),(V=this.avoid(V)).multiplyScalar(5),Y.add(V),V.set(this.position.x,te,this.position.z),(V=this.avoid(V)).multiplyScalar(5),Y.add(V),V.set(this.position.x,this.position.y,-fe),(V=this.avoid(V)).multiplyScalar(5),Y.add(V),V.set(this.position.x,this.position.y,fe),(V=this.avoid(V)).multiplyScalar(5),Y.add(V),Math.random()>.5&&this.flock(be),this.move()},this.flock=function(be){D&&Y.add(this.reach(D,.005)),Y.add(this.alignment(be)),Y.add(this.cohesion(be)),Y.add(this.separation(be))},this.move=function(){this.velocity.add(Y);var be=this.velocity.length();be>2.5&&this.velocity.divideScalar(be/2.5),this.position.add(this.velocity),Y.set(0,0,0)},this.checkBounds=function(){this.position.x>ee&&(this.position.x=-ee),this.position.x<-ee&&(this.position.x=ee),this.position.y>te&&(this.position.y=-te),this.position.y<-te&&(this.position.y=te),this.position.z>fe&&(this.position.z=-fe),this.position.z<-fe&&(this.position.z=fe)},this.avoid=function(be){var Se=new P.Vector3;return Se.copy(this.position),Se.sub(be),Se.multiplyScalar(1/this.position.distanceToSquared(be)),Se},this.repulse=function(be){var Se=this.position.distanceTo(be);if(Se<150){var ye=new P.Vector3;ye.subVectors(this.position,be),ye.multiplyScalar(.5/Se),Y.add(ye)}},this.reach=function(be,Se){var ye=new P.Vector3;return ye.subVectors(be,this.position),ye.multiplyScalar(Se),ye},this.alignment=function(be){var Se,ye,Te=new P.Vector3,Le=0;const he=100*Ce.alignment/20;for(var xe=0,we=be.length;xe<we;xe++)Math.random()>.6||(ye=(Se=be[xe]).position.distanceTo(this.position))>0&&ye<=he&&(Te.add(Se.velocity),Le++);if(Le>0){Te.divideScalar(Le);var Fe=Te.length();Fe>ne&&Te.divideScalar(Fe/ne)}return Te},this.cohesion=function(be){var Se,ye,Te=new P.Vector3,Le=new P.Vector3,he=0;const xe=100*Ce.cohesion/20;for(var we=0,Fe=be.length;we<Fe;we++)Math.random()>.6||(ye=(Se=be[we]).position.distanceTo(this.position))>0&&ye<=xe&&(Te.add(Se.position),he++);he>0&&Te.divideScalar(he),Le.subVectors(Te,this.position);var De=Le.length();return De>ne&&Le.divideScalar(De/ne),Le},this.separation=function(be){var Se,ye,Te=new P.Vector3,Le=new P.Vector3;const he=100*Ce.separation/20;for(var xe=0,we=be.length;xe<we;xe++)Math.random()>.6||(ye=(Se=be[xe]).position.distanceTo(this.position))>0&&ye<=he&&(Le.subVectors(this.position,Se.position),Le.normalize(),Le.divideScalar(ye),Te.add(Le));return Te}}}class X extends m{static initClass(){this.prototype.defaultOptions={backgroundColor:465199,color1:16711680,color2:53759,colorMode:"varianceGradient",birdSize:1,wingSpan:30,speedLimit:5,separation:20,alignment:20,cohesion:20,quantity:5}}constructor(k){P=k.THREE||P,super(k)}initComputeRenderer(){this.gpuCompute=new N(se,se,this.renderer,P);const k=this.gpuCompute.createTexture(),Y=this.gpuCompute.createTexture();(function(V){const ee=V.image.data;let te=0;const fe=ee.length;(()=>{const ne=[];for(;te<fe;){const Ce=Math.random()*K-400,be=Math.random()*K-400,Se=Math.random()*K-400;ee[te+0]=Ce,ee[te+1]=be,ee[te+2]=Se,ee[te+3]=1,ne.push(te+=4)}})()})(k),function(V){const ee=V.image.data;let te=0;const fe=ee.length;(()=>{const ne=[];for(;te<fe;){const Ce=Math.random()-.5,be=Math.random()-.5,Se=Math.random()-.5;ee[te+0]=10*Ce,ee[te+1]=10*be,ee[te+2]=10*Se,ee[te+3]=1,ne.push(te+=4)}})()}(Y),this.velocityVariable=this.gpuCompute.addVariable("textureVelocity",`uniform float time;
uniform float testing;
uniform float delta; // about 0.016
uniform float separationDistance; // 20
uniform float alignmentDistance; // 40
uniform float cohesionDistance;
uniform float speedLimit;
uniform float freedomFactor;
uniform vec3 predator;

const float width = resolution.x;
const float height = resolution.y;

const float PI = 3.141592653589793;
const float PI_2 = PI * 2.0;
// const float VISION = PI * 0.55;

float zoneRadius = 40.0;
float zoneRadiusSquared = 1600.0;

float separationThresh = 0.45;
float alignmentThresh = 0.65;

const float UPPER_BOUNDS = BOUNDS;
const float LOWER_BOUNDS = -UPPER_BOUNDS;

float rand(vec2 co){
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

void main() {

  zoneRadius = separationDistance + alignmentDistance + cohesionDistance;
  separationThresh = separationDistance / zoneRadius;
  alignmentThresh = ( separationDistance + alignmentDistance ) / zoneRadius;
  zoneRadiusSquared = zoneRadius * zoneRadius;


  vec2 uv = gl_FragCoord.xy / resolution.xy;
  vec3 birdPosition, birdVelocity;

  vec3 selfPosition = texture2D( texturePosition, uv ).xyz;
  vec3 selfVelocity = texture2D( textureVelocity, uv ).xyz;

  float dist;
  vec3 dir; // direction
  float distSquared;

  float separationSquared = separationDistance * separationDistance;
  float cohesionSquared = cohesionDistance * cohesionDistance;

  float f;
  float percent;

  vec3 velocity = selfVelocity;

  float limit = speedLimit;

  dir = predator * UPPER_BOUNDS - selfPosition;
  dir.z = 0.;
  // dir.z *= 0.6;
  dist = length( dir );
  distSquared = dist * dist;

  float preyRadius = 150.0;
  float preyRadiusSq = preyRadius * preyRadius;

  // move birds away from predator
  if (dist < preyRadius) {

    f = ( distSquared / preyRadiusSq - 1.0 ) * delta * 100.;
    velocity += normalize( dir ) * f;
    limit += 5.0;
  }

  // if (testing == 0.0) {}
  // if ( rand( uv + time ) < freedomFactor ) {}

  // Attract flocks to the center
  vec3 central = vec3( 0., 0., 0. );
  dir = selfPosition - central;
  dist = length( dir );

  dir.y *= 2.5;
  velocity -= normalize( dir ) * delta * 5.;

  for (float y=0.0;y<height;y++) {
    for (float x=0.0;x<width;x++) {

      vec2 ref = vec2( x + 0.5, y + 0.5 ) / resolution.xy;
      birdPosition = texture2D( texturePosition, ref ).xyz;

      dir = birdPosition - selfPosition;
      dist = length(dir);

      if (dist < 0.0001) continue;

      distSquared = dist * dist;

      if (distSquared > zoneRadiusSquared ) continue;

      percent = distSquared / zoneRadiusSquared;

      if ( percent < separationThresh ) { // low

        // Separation - Move apart for comfort
        f = (separationThresh / percent - 1.0) * delta;
        velocity -= normalize(dir) * f;

      } else if ( percent < alignmentThresh ) { // high

        // Alignment - fly the same direction
        float threshDelta = alignmentThresh - separationThresh;
        float adjustedPercent = ( percent - separationThresh ) / threshDelta;

        birdVelocity = texture2D( textureVelocity, ref ).xyz;

        f = ( 0.5 - cos( adjustedPercent * PI_2 ) * 0.5 + 0.5 ) * delta;
        velocity += normalize(birdVelocity) * f;

      } else {

        // Attraction / Cohesion - move closer
        float threshDelta = 1.0 - alignmentThresh;
        float adjustedPercent = ( percent - alignmentThresh ) / threshDelta;

        f = ( 0.5 - ( cos( adjustedPercent * PI_2 ) * -0.5 + 0.5 ) ) * delta;

        velocity += normalize(dir) * f;

      }
    }
  }

  // this make tends to fly around than down or up
  // if (velocity.y > 0.) velocity.y *= (1. - 0.2 * delta);

  // Speed Limits
  if ( length( velocity ) > limit ) {
    velocity = normalize( velocity ) * limit;
  }

  gl_FragColor = vec4( velocity, 1.0 );

}`,Y),this.positionVariable=this.gpuCompute.addVariable("texturePosition",`uniform float time;
uniform float delta;

void main() {

  vec2 uv = gl_FragCoord.xy / resolution.xy;
  vec4 tmpPos = texture2D( texturePosition, uv );
  vec3 position = tmpPos.xyz;
  vec3 velocity = texture2D( textureVelocity, uv ).xyz;

  float phase = tmpPos.w;

  phase = mod( ( phase + delta +
    length( velocity.xz ) * delta * 3. +
    max( velocity.y, 0.0 ) * delta * 6. ), 62.83 );

  gl_FragColor = vec4( position + velocity * delta * 15. , phase );

}`,k),this.gpuCompute.setVariableDependencies(this.velocityVariable,[this.positionVariable,this.velocityVariable]),this.gpuCompute.setVariableDependencies(this.positionVariable,[this.positionVariable,this.velocityVariable]),this.positionUniforms=this.positionVariable.material.uniforms,this.velocityUniforms=this.velocityVariable.material.uniforms,this.positionUniforms.time={value:0},this.positionUniforms.delta={value:0},this.velocityUniforms.time={value:1},this.velocityUniforms.delta={value:0},this.velocityUniforms.testing={value:1},this.velocityUniforms.separationDistance={value:1},this.velocityUniforms.alignmentDistance={value:1},this.velocityUniforms.cohesionDistance={value:1},this.velocityUniforms.speedLimit={value:1},this.velocityUniforms.freedomFactor={value:1},this.velocityUniforms.predator={value:new P.Vector3},this.velocityVariable.material.defines.BOUNDS=K.toFixed(2),this.velocityVariable.wrapS=P.RepeatWrapping,this.velocityVariable.wrapT=P.RepeatWrapping,this.positionVariable.wrapS=P.RepeatWrapping,this.positionVariable.wrapT=P.RepeatWrapping;const D=this.gpuCompute.init();D!==null&&console.error(D)}initGpgpuBirds(){const k=(V=>{const ee=new P.BufferGeometry;V.quantity&&(se=Math.pow(2,V.quantity),J=se*se);const te=3*J,fe=3*te,ne=new P.BufferAttribute(new Float32Array(3*fe),3),Ce=new P.BufferAttribute(new Float32Array(3*fe),3),be=new P.BufferAttribute(new Float32Array(2*fe),2),Se=new P.BufferAttribute(new Float32Array(fe),1);ee.setAttribute||(ee.setAttribute=ee.addAttribute),ee.setAttribute("position",ne),ee.setAttribute("birdColor",Ce),ee.setAttribute("reference",be),ee.setAttribute("birdVertex",Se);let ye=0;const Te=function(){for(let we=0;we<arguments.length;we++)ne.array[ye++]=arguments[we]},Le=V.wingSpan||20,he=V.birdSize||1;for(let we=0;we<J;we++)Te(0,-0,-20*he,0,4*he,-20*he,0,0,30*he),Te(0,0,-15*he,-Le*he,0,0,0,0,15*he),Te(0,0,15*he,Le*he,0,0,0,0,-15*he);const xe={};for(ye=0;ye<3*te;ye++){const we=~~(ye/3),Fe=we%se/se,De=~~(we/se)/se,I=~~(ye/9)/J,U=I.toString(),Ee=V.colorMode.indexOf("Gradient")!=-1;let Me;Me=!Ee&&xe[U]?xe[U]:V.effect.getNewCol(I),Ee||xe[U]||(xe[U]=Me),Ce.array[3*ye+0]=Me.r,Ce.array[3*ye+1]=Me.g,Ce.array[3*ye+2]=Me.b,be.array[2*ye]=Fe,be.array[2*ye+1]=De,Se.array[ye]=ye%9}return ee.scale(.2,.2,.2)})(Object.assign({},this.options,{effect:this}));this.birdUniforms={color:{value:new P.Color(16720384)},texturePosition:{value:null},textureVelocity:{value:null},time:{value:1},delta:{value:0},birdSize:{value:this.options.birdSize}};const Y=new P.ShaderMaterial({uniforms:this.birdUniforms,vertexShader:`attribute vec2 reference;
attribute float birdVertex;

attribute vec3 birdColor;

uniform sampler2D texturePosition;
uniform sampler2D textureVelocity;

varying vec4 vColor;
varying float z;

uniform float time;
uniform float birdSize;

void main() {

  vec4 tmpPos = texture2D( texturePosition, reference );
  vec3 pos = tmpPos.xyz;
  vec3 velocity = normalize(texture2D( textureVelocity, reference ).xyz);

  vec3 newPosition = position;

  if ( birdVertex == 4.0 || birdVertex == 7.0 ) {
    // flap wings
    newPosition.y = sin( tmpPos.w ) * 5. * birdSize;
  }

  newPosition = mat3( modelMatrix ) * newPosition;

  velocity.z *= -1.;
  float xz = length( velocity.xz );
  float xyz = 1.;
  float x = sqrt( 1. - velocity.y * velocity.y );

  float cosry = velocity.x / xz;
  float sinry = velocity.z / xz;

  float cosrz = x / xyz;
  float sinrz = velocity.y / xyz;

  mat3 maty =  mat3(
    cosry, 0, -sinry,
    0    , 1, 0     ,
    sinry, 0, cosry
  );

  mat3 matz =  mat3(
    cosrz , sinrz, 0,
    -sinrz, cosrz, 0,
    0     , 0    , 1
  );
  newPosition =  maty * matz * newPosition;
  newPosition += pos;
  z = newPosition.z;

  vColor = vec4( birdColor, 1.0 );
  gl_Position = projectionMatrix *  viewMatrix  * vec4( newPosition, 1.0 );
}`,fragmentShader:`varying vec4 vColor;
varying float z;
uniform vec3 color;
void main() {
  // Fake colors for now
  float rr = 0.2 + ( 1000. - z ) / 1000. * vColor.x;
  float gg = 0.2 + ( 1000. - z ) / 1000. * vColor.y;
  float bb = 0.2 + ( 1000. - z ) / 1000. * vColor.z;
  gl_FragColor = vec4( rr, gg, bb, 1. );
}`,side:P.DoubleSide}),D=new P.Mesh(k,Y);return D.rotation.y=Math.PI/2,D.matrixAutoUpdate=!1,D.updateMatrix(),this.scene.add(D)}getNewCol(k){const Y=this.options,D=Y.color1!=null?Y.color1:4456448,V=Y.color2!=null?Y.color2:6684672,ee=new P.Color(D),te=new P.Color(V);let fe,ne;if(ne=Y.colorMode.indexOf("Gradient")!=-1?Math.random():k,Y.colorMode.indexOf("variance")==0){const Ce=(ee.r+Math.random()*te.r).clamp(0,1),be=(ee.g+Math.random()*te.g).clamp(0,1),Se=(ee.b+Math.random()*te.b).clamp(0,1);fe=new P.Color(Ce,be,Se)}else fe=Y.colorMode.indexOf("mix")==0?new P.Color(D+ne*V):ee.lerp(te,ne);return fe}onInit(){this.camera=new P.PerspectiveCamera(75,this.width/this.height,1,3e3),this.camera.position.z=350,this.fog=new P.Fog(16777215,100,1e3),this.mouseX=this.mouseY=0;const k=this.birds=[],Y=this.boids=[],D=this.options;let V,ee;if(j)try{this.initComputeRenderer(),this.valuesChanger=this.valuesChanger.bind(this),this.valuesChanger(),this.initGpgpuBirds()}catch(Ce){console.error("[vanta.js] birds init error: ",Ce)}else{const Ce=6*Math.pow(2,D.quantity);for(var te=0;te<Ce;te++){V=Y[te]=new Q(D),V.position.x=400*Math.random()-200,V.position.y=400*Math.random()-200,V.position.z=400*Math.random()-200,V.velocity.x=2*Math.random()-1,V.velocity.y=2*Math.random()-1,V.velocity.z=2*Math.random()-1,V.setWorldSize(500,500,300);const be=D.colorMode.indexOf("Gradient")!=-1,Se=ae(D),ye=Se.attributes.position.length,Te=new P.BufferAttribute(new Float32Array(ye),3);if(be)for(var fe=0;fe<Se.index.array.length;fe+=3)for(var ne=0;ne<=2;ne++){const Le=Se.index.array[fe+ne],he=this.getNewCol();Te.array[3*Le]=he.r,Te.array[3*Le+1]=he.g,Te.array[3*Le+2]=he.b}else{const Le=this.getNewCol(te/Ce);for(fe=0;fe<Te.array.length;fe+=3)Te.array[fe]=Le.r,Te.array[fe+1]=Le.g,Te.array[fe+2]=Le.b}Se.setAttribute("color",Te),ee=k[te]=new P.Mesh(Se,new P.MeshBasicMaterial({color:16777215,side:P.DoubleSide,vertexColors:P.VertexColors})),ee.phase=Math.floor(62.83*Math.random()),ee.position.x=Y[te].position.x,ee.position.y=Y[te].position.y,ee.position.z=Y[te].position.z,this.scene.add(ee)}}}valuesChanger(){this.velocityUniforms&&(this.velocityUniforms.separationDistance.value=this.options.separation,this.velocityUniforms.alignmentDistance.value=this.options.alignment,this.velocityUniforms.speedLimit.value=this.options.speedLimit,this.velocityUniforms.cohesionDistance.value=this.options.cohesion)}onUpdate(){this.now=performance.now(),this.last||(this.last=this.now);let k=(this.now-this.last)/1e3;if(k>1&&(k=1),this.last=this.now,j)this.positionUniforms.time.value=this.now,this.positionUniforms.delta.value=k,this.velocityUniforms.time.value=this.now,this.velocityUniforms.delta.value=k,this.birdUniforms.time.value=this.now,this.birdUniforms.delta.value=k,this.velocityUniforms.predator.value.set(this.mouseX,-this.mouseY,0),this.mouseX=1e4,this.mouseY=1e4,this.gpuCompute.compute(),this.birdUniforms.texturePosition.value=this.gpuCompute.getCurrentRenderTarget(this.positionVariable).texture,this.birdUniforms.textureVelocity.value=this.gpuCompute.getCurrentRenderTarget(this.velocityVariable).texture;else{const V=this.birds,ee=this.boids;let te,fe;for(var Y=0,D=V.length;Y<D;Y++){te=ee[Y],te.run(ee),fe=V[Y],fe.rotation.y=Math.atan2(-te.velocity.z,te.velocity.x),fe.rotation.z=Math.asin(te.velocity.y/te.velocity.length()),fe.phase=(fe.phase+(Math.max(0,fe.rotation.z)+.1))%62.83;const ne=16,Ce=13;fe.geometry.attributes.position.array[ne]=fe.geometry.attributes.position.array[Ce]=5*Math.sin(fe.phase)*this.options.birdSize,fe.geometry.attributes.position.needsUpdate=!0,fe.geometry.computeVertexNormals(),fe.position.x=ee[Y].position.x,fe.position.y=ee[Y].position.y,fe.position.z=ee[Y].position.z}}}onMouseMove(k,Y){if(this.mouseX=k-.5,this.mouseY=Y-.5,!j){const te=this.boids;let fe;for(var D=new P.Vector3(this.mouseX*this.width,-this.mouseY*this.height,0),V=0,ee=te.length;V<ee;V++)fe=te[V],D.z=fe.position.z,fe.repulse(D)}}onDestroy(){}onResize(){}}X.initClass();const H=h.register("BIRDS",X);return i})())}(zd)),zd.exports}var t6=e6();const qT=Pv(t6),n6=()=>{const t=W.useRef(null),e=W.useRef(null);return W.useEffect(()=>{if(typeof window<"u"&&t.current&&jT&&qT)try{e.current||(e.current=qT({el:t.current,THREE:jT,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,backgroundColor:0,color1:16777215,color2:11184810,wingSpan:40,separation:42,alignment:100,cohesion:63}))}catch(n){console.error("[VANTA] birds init error:",n)}return()=>{if(e.current)try{e.current.destroy()}catch(n){console.error("[VANTA] birds destroy error:",n)}}},[]),B.jsx("div",{ref:t,className:"absolute inset-0",style:{width:"100%",height:"100%"}})},i6=()=>{const[t,e]=W.useState(0),n=[{name:"Valorant Masters",prize:"$250,000"},{name:"League of Legends Championship",prize:"$500,000"},{name:"CS:GO Global Finals",prize:"$1,000,000"}];W.useEffect(()=>{const o=setInterval(()=>{e(l=>(l+1)%n.length)},4e3);return()=>clearInterval(o)},[]);const[i,s]=Pl({threshold:.5,triggerOnce:!1});return B.jsxs("section",{ref:i,className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-black text-white",children:[B.jsx(n6,{}),B.jsx("div",{className:"relative z-10 container mx-auto px-3 py-10 sm:px-6 sm:py-20",children:B.jsxs("div",{className:"max-w-6xl mx-auto rounded-2xl p-4 sm:p-8 md:p-12",children:[B.jsxs(Nt.div,{initial:{opacity:0,y:50},animate:s?{opacity:1,y:0}:{},transition:{duration:.8},className:"mb-8 sm:mb-12 text-center",children:[B.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-7xl font-bold mb-4 sm:mb-6 tracking-tight",children:[B.jsx("span",{className:"text-white",children:"Join Tournaments &"}),B.jsx("span",{className:"block mt-2 sm:mt-4 text-white",children:"Win Big!"})]}),B.jsx("p",{className:"text-base sm:text-xl md:text-2xl max-w-3xl mx-auto text-gray-300",children:"The ultimate platform for competitive gaming tournaments"})]}),B.jsx(Nt.div,{initial:{opacity:0},animate:s?{opacity:1}:{},transition:{delay:.3,duration:.8},className:"flex justify-center",children:B.jsx("button",{className:"w-full sm:w-auto px-6 py-3 sm:px-10 sm:py-5 bg-white text-black rounded-xl text-base sm:text-lg font-bold hover:bg-gray-200 transition-all duration-300 transform hover:scale-[1.02] shadow-lg",children:"Join Now - It's Free"})})]})})]})},r6=()=>{const t=[{id:1,name:"Free Fire Champions",game:"Free Fire",prize:"$250,000",participants:1024,date:"2023-11-15",image:"https://wallpaperaccess.com/full/1089125.jpg"},{id:2,name:"PUBG Mobile World Cup",game:"PUBG Mobile",prize:"$500,000",participants:512,date:"2023-12-10",image:"https://wallpaperaccess.com/full/407192.jpg"},{id:3,name:"Call of Duty Mobile Championship",game:"Call of Duty Mobile",prize:"$1,000,000",participants:2048,date:"2024-01-20",image:"https://wallpaperaccess.com/full/391133.jpg"}],[e,n]=Pl({threshold:.2,triggerOnce:!1});return B.jsx("section",{ref:e,className:"py-10 sm:py-20 bg-black text-white",children:B.jsxs("div",{className:"container mx-auto px-3 sm:px-6",children:[B.jsxs(Nt.div,{initial:{opacity:0,y:50},animate:n?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-8 sm:mb-16",children:[B.jsx("h2",{className:"text-2xl sm:text-4xl font-bold mb-2 sm:mb-4 text-white",children:"Featured Tournaments"}),B.jsx("p",{className:"text-base sm:text-xl text-black-300 max-w-2xl mx-auto",children:"Join the most exciting competitive gaming events"})]}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:t.map((i,s)=>B.jsxs(Nt.div,{initial:{opacity:0,y:50},animate:n?{opacity:1,y:0}:{},transition:{delay:s*.1,duration:.6},whileHover:{y:-10},className:"relative overflow-hidden rounded-xl bg-black-900 border border-gray-800 group flex flex-col",children:[B.jsxs("div",{className:"h-48 sm:h-56 bg-gray-800 relative overflow-hidden",children:[B.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"}),B.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-70"})]}),B.jsxs("div",{className:"p-4 sm:p-6 flex-1 flex flex-col",children:[B.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-4 gap-2",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:i.name}),B.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:i.game})]}),B.jsx("span",{className:"px-3 py-1 bg-white text-black rounded-full text-xs sm:text-sm font-bold mt-2 sm:mt-0",children:i.prize})]}),B.jsxs("div",{className:"flex flex-col sm:flex-row justify-between text-xs sm:text-sm text-gray-400 mb-4 sm:mb-6 gap-1",children:[B.jsxs("span",{children:[i.participants," participants"]}),B.jsx("span",{children:new Date(i.date).toLocaleDateString()})]}),B.jsx("button",{className:"w-full py-2 sm:py-3 bg-white text-black rounded-lg font-medium hover:bg-gray-200 transition-colors mt-auto",children:"Register Now"})]})]},i.id))})]})})},s6=()=>{const t=[{rank:1,name:"NinjaX",game:"Valorant",points:12500},{rank:2,name:"ShadowStrike",game:"CS:GO",points:11800},{rank:3,name:"FrostQueen",game:"League of Legends",points:11200},{rank:4,name:"DragonSlayer",game:"Valorant",points:10500},{rank:5,name:"PixelHunter",game:"Fortnite",points:9800}],[e,n]=Pl({threshold:.2,triggerOnce:!1});return B.jsx("section",{ref:e,className:"py-10 sm:py-20 bg-black/50 backdrop-blur-sm rounded-2xl border border-gray-900 text-white",children:B.jsxs("div",{className:"container mx-auto px-3 sm:px-6",children:[B.jsxs(Nt.div,{initial:{opacity:0,y:50},animate:n?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-8 sm:mb-16",children:[B.jsx("h2",{className:"text-2xl sm:text-4xl font-bold mb-2 sm:mb-4 text-white",children:B.jsxs("span",{className:"inline-flex items-center gap-2",children:[B.jsx("svg",{className:"w-7 h-7 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{d:"M12 2l2.9 6.6L22 9.2l-5 5.1 1.2 7.1L12 17.8l-6.2 3.6L7 14.3 2 9.2l7.1-1.6z"})}),"Top Players"]})}),B.jsx("p",{className:"text-base sm:text-xl text-gray-300 max-w-2xl mx-auto",children:"See who's dominating the competitive scene"})]}),B.jsxs(Nt.div,{initial:{opacity:0},animate:n?{opacity:1}:{},transition:{delay:.3,duration:.6},className:"bg-black/50 backdrop-blur-sm rounded-xl overflow-x-auto border border-gray-800 max-w-4xl mx-auto",children:[B.jsxs("div",{className:"hidden sm:grid min-w-[350px] grid-cols-4 sm:grid-cols-12 gap-2 sm:gap-4 p-4 sm:p-6 bg-black font-bold text-white border-b border-gray-800 text-xs sm:text-base",children:[B.jsx("div",{className:"col-span-1",children:"Rank"}),B.jsx("div",{className:"col-span-2 sm:col-span-5",children:"Player"}),B.jsx("div",{className:"hidden sm:block col-span-3",children:"Game"}),B.jsx("div",{className:"col-span-1 sm:col-span-3 text-right",children:"Points"})]}),B.jsx("div",{className:"sm:hidden flex flex-col divide-y divide-gray-800",children:B.jsx("div",{className:"sr-only",children:"Leaderboard"})}),B.jsxs("div",{className:"divide-y divide-gray-800",children:[B.jsx("div",{className:"hidden sm:block",children:t.map((i,s)=>B.jsxs(Nt.div,{initial:{opacity:0,x:-20},animate:n?{opacity:1,x:0}:{},transition:{delay:.1*s,duration:.5},whileHover:{backgroundColor:"rgba(255, 255, 255, 0.05)"},className:`grid grid-cols-4 sm:grid-cols-12 gap-2 sm:gap-4 p-4 sm:p-6 items-center transition-colors duration-200 text-xs sm:text-base
                                        ${i.rank===1?"bg-gradient-to-r from-yellow-400/10 via-yellow-100/0 to-transparent":""}
                                    `,children:[B.jsx("div",{className:"col-span-1 font-bold flex items-center",children:i.rank===1?B.jsxs("span",{className:"flex items-center gap-1 text-yellow-400",children:[B.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{d:"M12 2l2.9 6.6L22 9.2l-5 5.1 1.2 7.1L12 17.8l-6.2 3.6L7 14.3 2 9.2l7.1-1.6z"})}),"#",i.rank]}):B.jsxs("span",{className:"text-gray-400",children:["#",i.rank]})}),B.jsxs("div",{className:"col-span-2 sm:col-span-5 flex items-center",children:[B.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full mr-2 sm:mr-4 overflow-hidden flex items-center justify-center text-white font-bold
                                            ${i.rank===1?"bg-yellow-400 text-black border-2 border-yellow-300":"bg-gray-800"}
                                        `,children:i.name.charAt(0)}),B.jsx("span",{className:`text-white ${i.rank===1?"font-bold":""}`,children:i.name})]}),B.jsx("div",{className:"hidden sm:block col-span-3 text-gray-400",children:i.game}),B.jsx("div",{className:`col-span-1 sm:col-span-3 text-right font-mono ${i.rank===1?"text-yellow-400 font-bold":"text-white"}`,children:i.points.toLocaleString()})]},i.rank))}),B.jsx("div",{className:"sm:hidden flex flex-col",children:t.map((i,s)=>B.jsxs(Nt.div,{initial:{opacity:0,x:-20},animate:n?{opacity:1,x:0}:{},transition:{delay:.1*s,duration:.5},whileHover:{backgroundColor:"rgba(255, 255, 255, 0.05)"},className:`flex flex-col gap-2 p-4 border-b border-gray-800 text-xs
                                        ${i.rank===1?"bg-gradient-to-r from-yellow-400/10 via-yellow-100/0 to-transparent":""}
                                    `,children:[B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsx("span",{className:"font-bold flex items-center gap-1",children:i.rank===1?B.jsx(B.Fragment,{children:B.jsxs("span",{className:"flex items-center gap-1 text-yellow-400",children:[B.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{d:"M12 2l2.9 6.6L22 9.2l-5 5.1 1.2 7.1L12 17.8l-6.2 3.6L7 14.3 2 9.2l7.1-1.6z"})}),"#",i.rank]})}):B.jsxs("span",{className:"text-gray-400",children:["#",i.rank]})}),B.jsx("span",{className:`font-mono ${i.rank===1?"text-yellow-400 font-bold":"text-white"}`,children:typeof i.points=="number"?i.points.toLocaleString():B.jsx("span",{className:"text-red-500 font-semibold",children:"Error"})})]}),B.jsxs("div",{className:"flex items-center mt-1",children:[B.jsx("div",{className:`w-8 h-8 rounded-full mr-2 flex items-center justify-center text-white font-bold
                                            ${i.rank===1?"bg-yellow-400 text-black border-2 border-yellow-300":"bg-gray-800"}
                                        `,children:i.name.charAt(0)}),B.jsxs("div",{children:[B.jsx("div",{className:`text-white font-semibold ${i.rank===1?"font-bold":""}`,children:i.name}),B.jsx("div",{className:"text-gray-400 text-xs",children:i.game})]})]})]},i.rank))})]})]})]})})},a6=()=>{const[t,e]=Pl({threshold:.5,triggerOnce:!1});return B.jsx("section",{ref:t,className:"py-16 sm:py-32 relative overflow-hidden bg-black",children:B.jsx("div",{className:"container mx-auto px-3 sm:px-6 relative z-10",children:B.jsxs(Nt.div,{initial:{opacity:0,scale:.9},animate:e?{opacity:1,scale:1}:{},transition:{duration:.6},className:"bg-black-900 rounded-2xl border border-gray-800 overflow-hidden p-6 sm:p-16 text-center",children:[B.jsx(Nt.h2,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{delay:.2,duration:.6},className:"text-2xl sm:text-4xl font-extrabold mb-2 sm:mb-4 text-white tracking-wide",style:{fontFamily:"Orbitron, sans-serif",textShadow:"0 0 8px #000, 0 0 2px #fff"},children:"Ready to Compete?"}),B.jsx("div",{className:"w-10 border-b-2 border-white mx-auto mb-4 sm:mb-6"}),B.jsx(Nt.p,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{delay:.4,duration:.6},className:"text-base sm:text-xl text-gray-300 max-w-2xl mx-auto mb-6 sm:mb-10",children:"Join thousands of gamers competing in our tournaments."}),B.jsx(Nt.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{delay:.6,duration:.6},className:"flex justify-center",children:B.jsxs("button",{className:"group flex items-center gap-2 w-full sm:w-auto px-8 py-3 sm:px-12 sm:py-5 bg-gradient-to-r from-black via-gray-900 to-white text-white rounded-xl text-lg sm:text-xl font-extrabold hover:from-gray-800 hover:to-white hover:text-black transition-all duration-300 transform hover:scale-105 shadow-2xl border-2 border-white",style:{fontFamily:"Orbitron, sans-serif",letterSpacing:"0.04em"},children:[B.jsx("span",{className:"text-2xl",children:""}),B.jsx("span",{className:"transition-colors duration-300 text-white",children:"Sign Up Free"})]})})]})})})},o6=()=>{const t=[{id:1,name:'Sarah "Valkyrie" Chen',role:"Professional Valorant Player",content:"The tournaments are well-organized, the competition is fierce, and the prize pools keep getting bigger!"},{id:2,name:'Marcus "Frost" Johnson',role:"CS:GO Team Captain",content:"This is where real competitors come to play. Flawless matchmaking and anti-cheat systems."},{id:3,name:'Lena "PixelQueen" Rodriguez',role:"Streamer & Content Creator",content:"My viewers love watching me compete here, and I've grown my audience significantly since joining."}],[e,n]=W.useState(0),[i,s]=W.useState(1),[o,l]=Pl({threshold:.2,triggerOnce:!1});W.useEffect(()=>{const f=setInterval(()=>{s(1),n(m=>(m+1)%t.length)},6e3);return()=>clearInterval(f)},[]);const u=()=>{s(-1),n(f=>(f-1+t.length)%t.length)},h=()=>{s(1),n(f=>(f+1)%t.length)};return B.jsx("section",{ref:o,className:"py-10 sm:py-20 bg-black text-white",children:B.jsxs("div",{className:"container mx-auto px-3 sm:px-6",children:[B.jsxs(Nt.div,{initial:{opacity:0,y:50},animate:l?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-8 sm:mb-16",children:[B.jsx("h2",{className:"text-2xl sm:text-4xl font-extrabold mb-2 sm:mb-4 text-white tracking-wide",style:{fontFamily:"Orbitron, sans-serif"},children:B.jsxs("span",{className:"inline-flex items-center gap-2",children:[B.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{d:"M12 2l2.9 6.6L22 9.2l-5 5.1 1.2 7.1L12 17.8l-6.2 3.6L7 14.3 2 9.2l7.1-1.6z"})}),"Community Voices"]})}),B.jsx("div",{className:"w-10 border-b-2 border-white mx-auto mb-4 sm:mb-6"}),B.jsx("p",{className:"text-base sm:text-xl text-gray-300 max-w-2xl mx-auto",children:"Hear what top players say about our platform"})]}),B.jsxs("div",{className:"max-w-3xl sm:max-w-4xl mx-auto relative",children:[B.jsxs("div",{className:"absolute left-0 right-0 top-1/2 transform -translate-y-1/2 flex justify-between z-10 pointer-events-none sm:pointer-events-auto",children:[B.jsx("button",{onClick:u,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-black/80 flex items-center justify-center hover:bg-white hover:text-black transition-all shadow-lg border border-white focus:outline-none pointer-events-auto",tabIndex:0,children:B.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),B.jsx("button",{onClick:h,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-black/80 flex items-center justify-center hover:bg-white hover:text-black transition-all shadow-lg border border-white focus:outline-none pointer-events-auto",tabIndex:0,children:B.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),B.jsx("div",{className:"overflow-hidden relative h-80 sm:h-96 flex items-center justify-center",children:B.jsx(dA,{custom:i,initial:!1,children:B.jsxs(Nt.div,{custom:i,initial:{opacity:0,x:i>0?100:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:i>0?-100:100},transition:{duration:.6},className:"absolute inset-0 flex flex-col items-center justify-center p-6 sm:p-10 bg-black/80 rounded-2xl border border-white shadow-xl",children:[B.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full bg-white mb-4 sm:mb-6 flex items-center justify-center shadow-lg",children:B.jsx("span",{className:"text-black text-3xl sm:text-4xl font-extrabold",children:t[e].name.split(" ").map(f=>f[0]).join("").replace(/[^A-Z]/gi,"").substring(0,2).toUpperCase()})}),B.jsxs("p",{className:"text-lg sm:text-2xl italic text-center mb-4 sm:mb-8 max-w-2xl text-gray-100 font-medium",children:['"',t[e].content,'"']}),B.jsxs("div",{className:"text-center",children:[B.jsx("h4",{className:"text-lg sm:text-2xl font-bold text-white",children:t[e].name}),B.jsx("p",{className:"text-gray-400",children:t[e].role})]})]},e)})}),B.jsx("div",{className:"flex justify-center mt-6 sm:mt-10 gap-2",children:t.map((f,m)=>B.jsx("button",{onClick:()=>{s(m>e?1:-1),n(m)},className:`w-3 h-3 rounded-full border-2 border-white transition-colors ${m===e?"bg-white":"bg-black"}`,"aria-label":`Go to testimonial ${m+1}`},m))})]})]})})},l6=()=>{const t=[{name:"Twitter",icon:"T"},{name:"Discord",icon:"D"},{name:"Twitch",icon:"T"},{name:"YouTube",icon:"Y"},{name:"Instagram",icon:"I"}],[e,n]=Pl({threshold:.2,triggerOnce:!1});return B.jsx("footer",{ref:e,className:"bg-black text-white pt-10 sm:pt-20 pb-6 sm:pb-10 border-t border-gray-800",children:B.jsxs("div",{className:"container mx-auto px-3 sm:px-6",children:[B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 sm:gap-12 mb-10 sm:mb-16",children:[B.jsxs(Nt.div,{initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.6},children:[B.jsx("h3",{className:"text-2xl font-bold mb-6 text-white",children:"GameArena"}),B.jsx("p",{className:"text-gray-400",children:"The ultimate platform for competitive gaming tournaments."})]}),[{title:"Tournaments",links:["Upcoming Events","Ongoing","Past Winners","How to Join"]},{title:"Community",links:["Leaderboards","Teams","Forums","Streamers"]},{title:"Company",links:["About Us","Careers","Press","Contact"]}].map((i,s)=>B.jsxs(Nt.div,{initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{delay:.1*(s+1),duration:.6},children:[B.jsx("h4",{className:"text-lg font-bold mb-6 text-white",children:i.title}),B.jsx("ul",{className:"space-y-3",children:i.links.map(o=>B.jsx("li",{children:B.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:o})},o))})]},i.title))]}),B.jsxs(Nt.div,{initial:{opacity:0},animate:n?{opacity:1}:{},transition:{delay:.4,duration:.6},className:"pt-10 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center",children:[B.jsxs("div",{className:"text-gray-500 text-sm mb-6 md:mb-0",children:[" ",new Date().getFullYear()," GameArena. All rights reserved."]}),B.jsx("div",{className:"flex space-x-6",children:t.map((i,s)=>B.jsx(Nt.a,{href:"#",initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{},transition:{delay:.1*s+.5,duration:.5},whileHover:{y:-5},className:"text-gray-400 hover:text-white transition-all","aria-label":i.name,children:B.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center",children:B.jsx("span",{className:"text-lg",children:i.icon})})},i.name))})]})]})})},c6=()=>B.jsxs(B.Fragment,{children:[B.jsxs(oU,{children:[B.jsx("title",{children:"GameArena - Competitive Gaming Tournaments"}),B.jsx("meta",{name:"description",content:"Join the ultimate platform for competitive gaming tournaments."}),B.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),B.jsxs("div",{className:"bg-black text-white",children:[B.jsx(i6,{}),B.jsx(r6,{}),B.jsx(s6,{}),B.jsx(a6,{}),B.jsx(o6,{}),B.jsx(l6,{})]})]});function q3(t,e){return function(){return t.apply(e,arguments)}}const{toString:u6}=Object.prototype,{getPrototypeOf:ub}=Object,{iterator:Hp,toStringTag:X3}=Symbol,Vp=(t=>e=>{const n=u6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zi=t=>(t=t.toLowerCase(),e=>Vp(e)===t),Gp=t=>e=>typeof e===t,{isArray:Gl}=Array,Ku=Gp("undefined");function f6(t){return t!==null&&!Ku(t)&&t.constructor!==null&&!Ku(t.constructor)&&Zn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Y3=Zi("ArrayBuffer");function h6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Y3(t.buffer),e}const d6=Gp("string"),Zn=Gp("function"),Z3=Gp("number"),kp=t=>t!==null&&typeof t=="object",p6=t=>t===!0||t===!1,Ud=t=>{if(Vp(t)!=="object")return!1;const e=ub(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(X3 in t)&&!(Hp in t)},m6=Zi("Date"),g6=Zi("File"),y6=Zi("Blob"),v6=Zi("FileList"),x6=t=>kp(t)&&Zn(t.pipe),b6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Zn(t.append)&&((e=Vp(t))==="formdata"||e==="object"&&Zn(t.toString)&&t.toString()==="[object FormData]"))},_6=Zi("URLSearchParams"),[w6,M6,S6,T6]=["ReadableStream","Request","Response","Headers"].map(Zi),E6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),Gl(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(i=0;i<l;i++)u=o[i],e.call(null,t[u],u,t)}}function J3(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const La=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Q3=t=>!Ku(t)&&t!==La;function Rv(){const{caseless:t}=Q3(this)&&this||{},e={},n=(i,s)=>{const o=t&&J3(e,s)||s;Ud(e[o])&&Ud(i)?e[o]=Rv(e[o],i):Ud(i)?e[o]=Rv({},i):Gl(i)?e[o]=i.slice():e[o]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&xf(arguments[i],n);return e}const A6=(t,e,n,{allOwnKeys:i}={})=>(xf(e,(s,o)=>{n&&Zn(s)?t[o]=q3(s,n):t[o]=s},{allOwnKeys:i}),t),R6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),C6=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},L6=(t,e,n,i)=>{let s,o,l;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)l=s[o],(!i||i(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&ub(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},D6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},N6=t=>{if(!t)return null;if(Gl(t))return t;let e=t.length;if(!Z3(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},O6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ub(Uint8Array)),P6=(t,e)=>{const i=(t&&t[Hp]).call(t);let s;for(;(s=i.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},B6=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},z6=Zi("HTMLFormElement"),U6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),XT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),F6=Zi("RegExp"),K3=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};xf(n,(s,o)=>{let l;(l=e(s,o,t))!==!1&&(i[o]=l||s)}),Object.defineProperties(t,i)},I6=t=>{K3(t,(e,n)=>{if(Zn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Zn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},H6=(t,e)=>{const n={},i=s=>{s.forEach(o=>{n[o]=!0})};return Gl(t)?i(t):i(String(t).split(e)),n},V6=()=>{},G6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function k6(t){return!!(t&&Zn(t.append)&&t[X3]==="FormData"&&t[Hp])}const j6=t=>{const e=new Array(10),n=(i,s)=>{if(kp(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const o=Gl(i)?[]:{};return xf(i,(l,u)=>{const h=n(l,s+1);!Ku(h)&&(o[u]=h)}),e[s]=void 0,o}}return i};return n(t,0)},W6=Zi("AsyncFunction"),q6=t=>t&&(kp(t)||Zn(t))&&Zn(t.then)&&Zn(t.catch),$3=((t,e)=>t?setImmediate:e?((n,i)=>(La.addEventListener("message",({source:s,data:o})=>{s===La&&o===n&&i.length&&i.shift()()},!1),s=>{i.push(s),La.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Zn(La.postMessage)),X6=typeof queueMicrotask<"u"?queueMicrotask.bind(La):typeof process<"u"&&process.nextTick||$3,Y6=t=>t!=null&&Zn(t[Hp]),ce={isArray:Gl,isArrayBuffer:Y3,isBuffer:f6,isFormData:b6,isArrayBufferView:h6,isString:d6,isNumber:Z3,isBoolean:p6,isObject:kp,isPlainObject:Ud,isReadableStream:w6,isRequest:M6,isResponse:S6,isHeaders:T6,isUndefined:Ku,isDate:m6,isFile:g6,isBlob:y6,isRegExp:F6,isFunction:Zn,isStream:x6,isURLSearchParams:_6,isTypedArray:O6,isFileList:v6,forEach:xf,merge:Rv,extend:A6,trim:E6,stripBOM:R6,inherits:C6,toFlatObject:L6,kindOf:Vp,kindOfTest:Zi,endsWith:D6,toArray:N6,forEachEntry:P6,matchAll:B6,isHTMLForm:z6,hasOwnProperty:XT,hasOwnProp:XT,reduceDescriptors:K3,freezeMethods:I6,toObjectSet:H6,toCamelCase:U6,noop:V6,toFiniteNumber:G6,findKey:J3,global:La,isContextDefined:Q3,isSpecCompliantForm:k6,toJSONObject:j6,isAsyncFn:W6,isThenable:q6,setImmediate:$3,asap:X6,isIterable:Y6};function st(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}ce.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const eC=st.prototype,tC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tC[t]={value:t}});Object.defineProperties(st,tC);Object.defineProperty(eC,"isAxiosError",{value:!0});st.from=(t,e,n,i,s,o)=>{const l=Object.create(eC);return ce.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),st.call(l,t.message,e,n,i,s),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const Z6=null;function Cv(t){return ce.isPlainObject(t)||ce.isArray(t)}function nC(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function YT(t,e,n){return t?t.concat(e).map(function(s,o){return s=nC(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function J6(t){return ce.isArray(t)&&!t.some(Cv)}const Q6=ce.toFlatObject(ce,{},null,function(e){return/^is[A-Z]/.test(e)});function jp(t,e,n){if(!ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,S){return!ce.isUndefined(S[M])});const i=n.metaTokens,s=n.visitor||m,o=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(e);if(!ce.isFunction(s))throw new TypeError("visitor must be a function");function f(x){if(x===null)return"";if(ce.isDate(x))return x.toISOString();if(!h&&ce.isBlob(x))throw new st("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(x)||ce.isTypedArray(x)?h&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function m(x,M,S){let _=x;if(x&&!S&&typeof x=="object"){if(ce.endsWith(M,"{}"))M=i?M:M.slice(0,-2),x=JSON.stringify(x);else if(ce.isArray(x)&&J6(x)||(ce.isFileList(x)||ce.endsWith(M,"[]"))&&(_=ce.toArray(x)))return M=nC(M),_.forEach(function(T,C){!(ce.isUndefined(T)||T===null)&&e.append(l===!0?YT([M],C,o):l===null?M:M+"[]",f(T))}),!1}return Cv(x)?!0:(e.append(YT(S,M,o),f(x)),!1)}const p=[],g=Object.assign(Q6,{defaultVisitor:m,convertValue:f,isVisitable:Cv});function y(x,M){if(!ce.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+M.join("."));p.push(x),ce.forEach(x,function(_,w){(!(ce.isUndefined(_)||_===null)&&s.call(e,_,ce.isString(w)?w.trim():w,M,g))===!0&&y(_,M?M.concat(w):[w])}),p.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return y(t),e}function ZT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function fb(t,e){this._pairs=[],t&&jp(t,this,e)}const iC=fb.prototype;iC.append=function(e,n){this._pairs.push([e,n])};iC.toString=function(e){const n=e?function(i){return e.call(this,i,ZT)}:ZT;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function K6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rC(t,e,n){if(!e)return t;const i=n&&n.encode||K6;ce.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=ce.isURLSearchParams(e)?e.toString():new fb(e,n).toString(i),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class JT{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ce.forEach(this.handlers,function(i){i!==null&&e(i)})}}const sC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$6=typeof URLSearchParams<"u"?URLSearchParams:fb,ek=typeof FormData<"u"?FormData:null,tk=typeof Blob<"u"?Blob:null,nk={isBrowser:!0,classes:{URLSearchParams:$6,FormData:ek,Blob:tk},protocols:["http","https","file","blob","url","data"]},hb=typeof window<"u"&&typeof document<"u",Lv=typeof navigator=="object"&&navigator||void 0,ik=hb&&(!Lv||["ReactNative","NativeScript","NS"].indexOf(Lv.product)<0),rk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sk=hb&&window.location.href||"http://localhost",ak=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hb,hasStandardBrowserEnv:ik,hasStandardBrowserWebWorkerEnv:rk,navigator:Lv,origin:sk},Symbol.toStringTag,{value:"Module"})),Ln={...ak,...nk};function ok(t,e){return jp(t,new Ln.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,o){return Ln.isNode&&ce.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function lk(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ck(t){const e={},n=Object.keys(t);let i;const s=n.length;let o;for(i=0;i<s;i++)o=n[i],e[o]=t[o];return e}function aC(t){function e(n,i,s,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=o>=n.length;return l=!l&&ce.isArray(s)?s.length:l,h?(ce.hasOwnProp(s,l)?s[l]=[s[l],i]:s[l]=i,!u):((!s[l]||!ce.isObject(s[l]))&&(s[l]=[]),e(n,i,s[l],o)&&ce.isArray(s[l])&&(s[l]=ck(s[l])),!u)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const n={};return ce.forEachEntry(t,(i,s)=>{e(lk(i),s,n,0)}),n}return null}function uk(t,e,n){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const bf={transitional:sC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,o=ce.isObject(e);if(o&&ce.isHTMLForm(e)&&(e=new FormData(e)),ce.isFormData(e))return s?JSON.stringify(aC(e)):e;if(ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e)||ce.isReadableStream(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return ok(e,this.formSerializer).toString();if((u=ce.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return jp(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),uk(e)):e}],transformResponse:[function(e){const n=this.transitional||bf.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ce.isResponse(e)||ce.isReadableStream(e))return e;if(e&&ce.isString(e)&&(i&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?st.from(u,st.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln.classes.FormData,Blob:Ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],t=>{bf.headers[t]={}});const fk=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hk=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),i=l.substring(s+1).trim(),!(!n||e[n]&&fk[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},QT=Symbol("internals");function eu(t){return t&&String(t).trim().toLowerCase()}function Fd(t){return t===!1||t==null?t:ce.isArray(t)?t.map(Fd):String(t)}function dk(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const pk=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function a0(t,e,n,i,s){if(ce.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!ce.isString(e)){if(ce.isString(i))return e.indexOf(i)!==-1;if(ce.isRegExp(i))return i.test(e)}}function mk(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function gk(t,e){const n=ce.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,o,l){return this[i].call(this,e,s,o,l)},configurable:!0})})}let Jn=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function o(u,h,f){const m=eu(h);if(!m)throw new Error("header name must be a non-empty string");const p=ce.findKey(s,m);(!p||s[p]===void 0||f===!0||f===void 0&&s[p]!==!1)&&(s[p||h]=Fd(u))}const l=(u,h)=>ce.forEach(u,(f,m)=>o(f,m,h));if(ce.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ce.isString(e)&&(e=e.trim())&&!pk(e))l(hk(e),n);else if(ce.isObject(e)&&ce.isIterable(e)){let u={},h,f;for(const m of e){if(!ce.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(h=u[f])?ce.isArray(h)?[...h,m[1]]:[h,m[1]]:m[1]}l(u,n)}else e!=null&&o(n,e,i);return this}get(e,n){if(e=eu(e),e){const i=ce.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return dk(s);if(ce.isFunction(n))return n.call(this,s,i);if(ce.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=eu(e),e){const i=ce.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||a0(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function o(l){if(l=eu(l),l){const u=ce.findKey(i,l);u&&(!n||a0(i,i[u],u,n))&&(delete i[u],s=!0)}}return ce.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const o=n[i];(!e||a0(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,i={};return ce.forEach(this,(s,o)=>{const l=ce.findKey(i,o);if(l){n[l]=Fd(s),delete n[o];return}const u=e?mk(o):String(o).trim();u!==o&&delete n[o],n[u]=Fd(s),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ce.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&ce.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[QT]=this[QT]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=eu(l);i[u]||(gk(s,l),i[u]=!0)}return ce.isArray(e)?e.forEach(o):o(e),this}};Jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Jn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});ce.freezeMethods(Jn);function o0(t,e){const n=this||bf,i=e||n,s=Jn.from(i.headers);let o=i.data;return ce.forEach(t,function(u){o=u.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function oC(t){return!!(t&&t.__CANCEL__)}function kl(t,e,n){st.call(this,t??"canceled",st.ERR_CANCELED,e,n),this.name="CanceledError"}ce.inherits(kl,st,{__CANCEL__:!0});function lC(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new st("Request failed with status code "+n.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function yk(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function vk(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),m=i[o];l||(l=f),n[s]=h,i[s]=f;let p=o,g=0;for(;p!==s;)g+=n[p++],p=p%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),f-l<e)return;const y=m&&f-m;return y?Math.round(g*1e3/y):void 0}}function xk(t,e){let n=0,i=1e3/e,s,o;const l=(f,m=Date.now())=>{n=m,s=null,o&&(clearTimeout(o),o=null),t.apply(null,f)};return[(...f)=>{const m=Date.now(),p=m-n;p>=i?l(f,m):(s=f,o||(o=setTimeout(()=>{o=null,l(s)},i-p)))},()=>s&&l(s)]}const bp=(t,e,n=3)=>{let i=0;const s=vk(50,250);return xk(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,h=l-i,f=s(h),m=l<=u;i=l;const p={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&m?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(p)},n)},KT=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},$T=t=>(...e)=>ce.asap(()=>t(...e)),bk=Ln.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ln.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ln.origin),Ln.navigator&&/(msie|trident)/i.test(Ln.navigator.userAgent)):()=>!0,_k=Ln.hasStandardBrowserEnv?{write(t,e,n,i,s,o){const l=[t+"="+encodeURIComponent(e)];ce.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ce.isString(i)&&l.push("path="+i),ce.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wk(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Mk(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cC(t,e,n){let i=!wk(e);return t&&(i||n==!1)?Mk(t,e):e}const eE=t=>t instanceof Jn?{...t}:t;function Xa(t,e){e=e||{};const n={};function i(f,m,p,g){return ce.isPlainObject(f)&&ce.isPlainObject(m)?ce.merge.call({caseless:g},f,m):ce.isPlainObject(m)?ce.merge({},m):ce.isArray(m)?m.slice():m}function s(f,m,p,g){if(ce.isUndefined(m)){if(!ce.isUndefined(f))return i(void 0,f,p,g)}else return i(f,m,p,g)}function o(f,m){if(!ce.isUndefined(m))return i(void 0,m)}function l(f,m){if(ce.isUndefined(m)){if(!ce.isUndefined(f))return i(void 0,f)}else return i(void 0,m)}function u(f,m,p){if(p in e)return i(f,m);if(p in t)return i(void 0,f)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m,p)=>s(eE(f),eE(m),p,!0)};return ce.forEach(Object.keys(Object.assign({},t,e)),function(m){const p=h[m]||s,g=p(t[m],e[m],m);ce.isUndefined(g)&&p!==u||(n[m]=g)}),n}const uC=t=>{const e=Xa({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=Jn.from(l),e.url=rC(cC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(ce.isFormData(n)){if(Ln.hasStandardBrowserEnv||Ln.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[f,...m]=h?h.split(";").map(p=>p.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...m].join("; "))}}if(Ln.hasStandardBrowserEnv&&(i&&ce.isFunction(i)&&(i=i(e)),i||i!==!1&&bk(e.url))){const f=s&&o&&_k.read(o);f&&l.set(s,f)}return e},Sk=typeof XMLHttpRequest<"u",Tk=Sk&&function(t){return new Promise(function(n,i){const s=uC(t);let o=s.data;const l=Jn.from(s.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=s,m,p,g,y,x;function M(){y&&y(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function _(){if(!S)return;const T=Jn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),R={data:!u||u==="text"||u==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:t,request:S};lC(function(N){n(N),M()},function(N){i(N),M()},R),S=null}"onloadend"in S?S.onloadend=_:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(_)},S.onabort=function(){S&&(i(new st("Request aborted",st.ECONNABORTED,t,S)),S=null)},S.onerror=function(){i(new st("Network Error",st.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||sC;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),i(new st(C,R.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,t,S)),S=null},o===void 0&&l.setContentType(null),"setRequestHeader"in S&&ce.forEach(l.toJSON(),function(C,R){S.setRequestHeader(R,C)}),ce.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),u&&u!=="json"&&(S.responseType=s.responseType),f&&([g,x]=bp(f,!0),S.addEventListener("progress",g)),h&&S.upload&&([p,y]=bp(h),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(m=T=>{S&&(i(!T||T.type?new kl(null,t,S):T),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const w=yk(s.url);if(w&&Ln.protocols.indexOf(w)===-1){i(new st("Unsupported protocol "+w+":",st.ERR_BAD_REQUEST,t));return}S.send(o||null)})},Ek=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const o=function(f){if(!s){s=!0,u();const m=f instanceof Error?f:this.reason;i.abort(m instanceof st?m:new kl(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new st(`timeout ${e} of ms exceeded`,st.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:h}=i;return h.unsubscribe=()=>ce.asap(u),h}},Ak=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},Rk=async function*(t,e){for await(const n of Ck(t))yield*Ak(n,e)},Ck=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},tE=(t,e,n,i)=>{const s=Rk(t,e);let o=0,l,u=h=>{l||(l=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:f,value:m}=await s.next();if(f){u(),h.close();return}let p=m.byteLength;if(n){let g=o+=p;n(g)}h.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(h){return u(h),s.return()}},{highWaterMark:2})},Wp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fC=Wp&&typeof ReadableStream=="function",Lk=Wp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),hC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Dk=fC&&hC(()=>{let t=!1;const e=new Request(Ln.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),nE=64*1024,Dv=fC&&hC(()=>ce.isReadableStream(new Response("").body)),_p={stream:Dv&&(t=>t.body)};Wp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!_p[e]&&(_p[e]=ce.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new st(`Response type '${e}' is not supported`,st.ERR_NOT_SUPPORT,i)})})})(new Response);const Nk=async t=>{if(t==null)return 0;if(ce.isBlob(t))return t.size;if(ce.isSpecCompliantForm(t))return(await new Request(Ln.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(t)||ce.isArrayBuffer(t))return t.byteLength;if(ce.isURLSearchParams(t)&&(t=t+""),ce.isString(t))return(await Lk(t)).byteLength},Ok=async(t,e)=>{const n=ce.toFiniteNumber(t.getContentLength());return n??Nk(e)},Pk=Wp&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:f,headers:m,withCredentials:p="same-origin",fetchOptions:g}=uC(t);f=f?(f+"").toLowerCase():"text";let y=Ek([s,o&&o.toAbortSignal()],l),x;const M=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(h&&Dk&&n!=="get"&&n!=="head"&&(S=await Ok(m,i))!==0){let R=new Request(e,{method:"POST",body:i,duplex:"half"}),E;if(ce.isFormData(i)&&(E=R.headers.get("content-type"))&&m.setContentType(E),R.body){const[N,P]=KT(S,bp($T(h)));i=tE(R.body,nE,N,P)}}ce.isString(p)||(p=p?"include":"omit");const _="credentials"in Request.prototype;x=new Request(e,{...g,signal:y,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:i,duplex:"half",credentials:_?p:void 0});let w=await fetch(x);const T=Dv&&(f==="stream"||f==="response");if(Dv&&(u||T&&M)){const R={};["status","statusText","headers"].forEach(j=>{R[j]=w[j]});const E=ce.toFiniteNumber(w.headers.get("content-length")),[N,P]=u&&KT(E,bp($T(u),!0))||[];w=new Response(tE(w.body,nE,N,()=>{P&&P(),M&&M()}),R)}f=f||"text";let C=await _p[ce.findKey(_p,f)||"text"](w,t);return!T&&M&&M(),await new Promise((R,E)=>{lC(R,E,{data:C,headers:Jn.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:x})})}catch(_){throw M&&M(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,t,x),{cause:_.cause||_}):st.from(_,_&&_.code,t,x)}}),Nv={http:Z6,xhr:Tk,fetch:Pk};ce.forEach(Nv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const iE=t=>`- ${t}`,Bk=t=>ce.isFunction(t)||t===null||t===!1,dC={getAdapter:t=>{t=ce.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let o=0;o<e;o++){n=t[o];let l;if(i=n,!Bk(n)&&(i=Nv[(l=String(n)).toLowerCase()],i===void 0))throw new st(`Unknown adapter '${l}'`);if(i)break;s[l||"#"+o]=i}if(!i){const o=Object.entries(s).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(iE).join(`
`):" "+iE(o[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Nv};function l0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new kl(null,t)}function rE(t){return l0(t),t.headers=Jn.from(t.headers),t.data=o0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dC.getAdapter(t.adapter||bf.adapter)(t).then(function(i){return l0(t),i.data=o0.call(t,t.transformResponse,i),i.headers=Jn.from(i.headers),i},function(i){return oC(i)||(l0(t),i&&i.response&&(i.response.data=o0.call(t,t.transformResponse,i.response),i.response.headers=Jn.from(i.response.headers))),Promise.reject(i)})}const pC="1.9.0",qp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qp[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const sE={};qp.transitional=function(e,n,i){function s(o,l){return"[Axios v"+pC+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,u)=>{if(e===!1)throw new st(s(l," has been removed"+(n?" in "+n:"")),st.ERR_DEPRECATED);return n&&!sE[l]&&(sE[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};qp.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function zk(t,e,n){if(typeof t!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const o=i[s],l=e[o];if(l){const u=t[o],h=u===void 0||l(u,o,t);if(h!==!0)throw new st("option "+o+" must be "+h,st.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new st("Unknown option "+o,st.ERR_BAD_OPTION)}}const Id={assertOptions:zk,validators:qp},rr=Id.validators;let Ba=class{constructor(e){this.defaults=e||{},this.interceptors={request:new JT,response:new JT}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xa(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:o}=n;i!==void 0&&Id.assertOptions(i,{silentJSONParsing:rr.transitional(rr.boolean),forcedJSONParsing:rr.transitional(rr.boolean),clarifyTimeoutError:rr.transitional(rr.boolean)},!1),s!=null&&(ce.isFunction(s)?n.paramsSerializer={serialize:s}:Id.assertOptions(s,{encode:rr.function,serialize:rr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Id.assertOptions(n,{baseUrl:rr.spelling("baseURL"),withXsrfToken:rr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&ce.merge(o.common,o[n.method]);o&&ce.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),n.headers=Jn.concat(l,o);const u=[];let h=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(n)===!1||(h=h&&M.synchronous,u.unshift(M.fulfilled,M.rejected))});const f=[];this.interceptors.response.forEach(function(M){f.push(M.fulfilled,M.rejected)});let m,p=0,g;if(!h){const x=[rE.bind(this),void 0];for(x.unshift.apply(x,u),x.push.apply(x,f),g=x.length,m=Promise.resolve(n);p<g;)m=m.then(x[p++],x[p++]);return m}g=u.length;let y=n;for(p=0;p<g;){const x=u[p++],M=u[p++];try{y=x(y)}catch(S){M.call(this,S);break}}try{m=rE.call(this,y)}catch(x){return Promise.reject(x)}for(p=0,g=f.length;p<g;)m=m.then(f[p++],f[p++]);return m}getUri(e){e=Xa(this.defaults,e);const n=cC(e.baseURL,e.url,e.allowAbsoluteUrls);return rC(n,e.params,e.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(e){Ba.prototype[e]=function(n,i){return this.request(Xa(i||{},{method:e,url:n,data:(i||{}).data}))}});ce.forEach(["post","put","patch"],function(e){function n(i){return function(o,l,u){return this.request(Xa(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Ba.prototype[e]=n(),Ba.prototype[e+"Form"]=n(!0)});let Uk=class mC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{i.subscribe(u),o=u}).then(s);return l.cancel=function(){i.unsubscribe(o)},l},e(function(o,l,u){i.reason||(i.reason=new kl(o,l,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new mC(function(s){e=s}),cancel:e}}};function Fk(t){return function(n){return t.apply(null,n)}}function Ik(t){return ce.isObject(t)&&t.isAxiosError===!0}const Ov={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ov).forEach(([t,e])=>{Ov[e]=t});function gC(t){const e=new Ba(t),n=q3(Ba.prototype.request,e);return ce.extend(n,Ba.prototype,e,{allOwnKeys:!0}),ce.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return gC(Xa(t,s))},n}const Vt=gC(bf);Vt.Axios=Ba;Vt.CanceledError=kl;Vt.CancelToken=Uk;Vt.isCancel=oC;Vt.VERSION=pC;Vt.toFormData=jp;Vt.AxiosError=st;Vt.Cancel=Vt.CanceledError;Vt.all=function(e){return Promise.all(e)};Vt.spread=Fk;Vt.isAxiosError=Ik;Vt.mergeConfig=Xa;Vt.AxiosHeaders=Jn;Vt.formToJSON=t=>aC(ce.isHTMLForm(t)?new FormData(t):t);Vt.getAdapter=dC.getAdapter;Vt.HttpStatusCode=Ov;Vt.default=Vt;const{Axios:s8,AxiosError:a8,CanceledError:o8,isCancel:l8,CancelToken:c8,VERSION:u8,all:f8,Cancel:h8,isAxiosError:d8,spread:p8,toFormData:m8,AxiosHeaders:g8,HttpStatusCode:y8,formToJSON:v8,getAdapter:x8,mergeConfig:b8}=Vt;function Hk(){const[t,e]=W.useState({}),[n,i]=W.useState(null),[s,o]=W.useState(!1),[l,u]=W.useState({userName:"",phoneNumber:"",ffId:""}),[h,f]=W.useState(!1),[m,p]=W.useState(!1),g=Ap();W.useEffect(()=>{(async()=>{try{const R=(await Vt.get("http://13.112.131.27/api/games")).data.reduce((E,N)=>(E[N.gameName]||(E[N.gameName]=[]),E[N.gameName].push(N),E),{});e(R)}catch(C){console.error("Error fetching games:",C)}})()},[]);const y=T=>{i(T),u({userName:"",phoneNumber:"",ffId:""}),o(!0)},x=()=>{o(!1),i(null)},M=T=>{u(C=>({...C,[T.target.name]:T.target.value}))},S=()=>{if(!n)return alert("Select a game first!");const P=`upi://pay?pa=${encodeURIComponent('"jaydeepmangaliya@oksbi";')}&pn=${encodeURIComponent('"Jaydeep Mangaliya";')}&tn=${encodeURIComponent("Entry fee for ")}&am=50;&cu="INR";`;window.location.href=P,f(!0)},_=async T=>{var R,E;if(T.preventDefault(),!h){alert("Please complete the payment first!");return}p(!0);const C=localStorage.getItem("token");if(!C){alert("You need to login first!"),g("/login"),p(!1);return}console.log(n);try{const N={userName:l.userName,phoneNumber:l.phoneNumber,ffId:l.ffId,tournamentId:n.id||n._id,entryFee:n.entryFee,playerSize:n.playerSize,prizePool:n.prizePool};await Vt.post("http://13.112.131.27/api/slotes",N,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}}),alert("Registration successful!"),x()}catch(N){N.response&&N.response.status===401?(alert("Session expired, please login again."),g("/login")):alert("Registration failed: "+(((E=(R=N.response)==null?void 0:R.data)==null?void 0:E.message)||N.message))}finally{p(!1)}},w=Object.keys(t);return B.jsx("div",{className:"w-full min-h-screen bg-[#0f0f0f] text-white px-4 py-6",children:B.jsxs("div",{className:"max-w-6xl mx-auto",children:[B.jsx("div",{className:"flex justify-between items-center mb-6",children:B.jsx("h1",{className:"text-2xl font-semibold",children:"Tournaments"})}),w.length===0?B.jsx("p",{className:"text-center text-gray-400",children:"No games found."}):w.map((T,C)=>B.jsxs("div",{className:"mb-10",children:[B.jsx("h2",{className:"text-xl font-bold mb-4 border-b border-gray-700 pb-2",children:T}),B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t[T].map((R,E)=>B.jsxs(Nt.div,{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:E*.1},children:[B.jsx("img",{src:R.gameImageUrl||"https://via.placeholder.com/400x200",alt:R.name,className:"w-full h-40 object-cover"}),B.jsxs("div",{className:"p-4",children:[B.jsx("h2",{className:"text-lg font-bold mb-2",children:R.name}),B.jsxs("p",{className:"text-sm text-gray-400",children:["Player Size: ",R.playerSize]}),B.jsxs("p",{className:"text-sm text-gray-400",children:["Entry Fee: ",R.entryFee]}),B.jsxs("p",{className:"text-sm text-gray-400",children:["Prize Pool: ",R.prizePool]}),B.jsx("button",{onClick:()=>y(R),className:"mt-3 w-full bg-blue-600 hover:bg-blue-700 transition-colors py-2 rounded text-white font-semibold",children:"Register"})]})]},E))})]},C)),B.jsx(dA,{children:s&&B.jsx(Nt.div,{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:B.jsxs(Nt.div,{className:"bg-[#1a1a1a] p-6 rounded-lg max-w-md w-full relative",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300,damping:20},children:[B.jsxs("h3",{className:"text-xl font-semibold mb-4 text-white",children:["Register for ",n.name]}),B.jsxs("form",{onSubmit:_,className:"space-y-4 text-white",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block mb-1 font-medium",children:"User Name"}),B.jsx("input",{type:"text",name:"userName",value:l.userName,onChange:M,required:!0,className:"w-full px-3 py-2 rounded bg-[#222] border border-gray-700 focus:outline-none focus:border-blue-500"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block mb-1 font-medium",children:"Phone Number"}),B.jsx("input",{type:"tel",name:"phoneNumber",value:l.phoneNumber,onChange:M,required:!0,pattern:"[0-9]{10}",placeholder:"10 digit number",className:"w-full px-3 py-2 rounded bg-[#222] border border-gray-700 focus:outline-none focus:border-blue-500"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block mb-1 font-medium",children:"Free Fire ID"}),B.jsx("input",{type:"text",name:"ffId",value:l.ffId,onChange:M,required:!0,className:"w-full px-3 py-2 rounded bg-[#222] border border-gray-700 focus:outline-none focus:border-blue-500"})]}),B.jsxs("div",{className:"flex justify-between items-center mt-6 flex-wrap gap-2",children:[B.jsx("button",{type:"submit",className:`px-5 py-2 rounded font-semibold transition-colors
                        ${!h||m?"bg-green-300 text-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,disabled:!h||m,children:m?"Submitting...":"Submit"}),B.jsx("button",{type:"button",onClick:x,className:"bg-gray-700 hover:bg-gray-800 transition-colors px-5 py-2 rounded font-semibold",children:"Cancel"}),h?B.jsx("span",{className:"text-green-400 font-semibold ml-2",children:"Payment Done "}):B.jsx("button",{type:"button",onClick:S,className:"bg-yellow-600 hover:bg-yellow-700 transition-colors px-5 py-2 rounded font-semibold",children:"Pay"})]})]})]})})})]})})}var el={},c0={exports:{}},u0,aE;function Vk(){if(aE)return u0;aE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return u0=t,u0}var f0,oE;function Gk(){if(oE)return f0;oE=1;var t=Vk();function e(){}function n(){}return n.resetWarningCache=e,f0=function(){function i(l,u,h,f,m,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},f0}var lE;function yC(){return lE||(lE=1,c0.exports=Gk()()),c0.exports}var h0,cE;function vC(){return cE||(cE=1,h0={L:1,M:0,Q:3,H:2}),h0}var d0,uE;function xC(){return uE||(uE=1,d0={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),d0}var p0,fE;function kk(){if(fE)return p0;fE=1;var t=xC();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var i=0;i<this.data.length;i++)n.put(this.data.charCodeAt(i),8)}},p0=e,p0}var m0,hE;function jk(){if(hE)return m0;hE=1;var t=vC();function e(n,i){this.totalCount=n,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,i){var s=e.getRsBlockTable(n,i);if(s==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+i);for(var o=s.length/3,l=new Array,u=0;u<o;u++)for(var h=s[u*3+0],f=s[u*3+1],m=s[u*3+2],p=0;p<h;p++)l.push(new e(f,m));return l},e.getRsBlockTable=function(n,i){switch(i){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},m0=e,m0}var g0,dE;function Wk(){if(dE)return g0;dE=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var i=0;i<n;i++)this.putBit((e>>>n-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},g0=t,g0}var y0,pE;function bC(){if(pE)return y0;pE=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return y0=t,y0}var v0,mE;function _C(){if(mE)return v0;mE=1;var t=bC();function e(n,i){if(n.length==null)throw new Error(n.length+"/"+i);for(var s=0;s<n.length&&n[s]==0;)s++;this.num=new Array(n.length-s+i);for(var o=0;o<n.length-s;o++)this.num[o]=n[o+s]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var i=new Array(this.getLength()+n.getLength()-1),s=0;s<this.getLength();s++)for(var o=0;o<n.getLength();o++)i[s+o]^=t.gexp(t.glog(this.get(s))+t.glog(n.get(o)));return new e(i,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var i=t.glog(this.get(0))-t.glog(n.get(0)),s=new Array(this.getLength()),o=0;o<this.getLength();o++)s[o]=this.get(o);for(var o=0;o<n.getLength();o++)s[o]^=t.gexp(t.glog(n.get(o))+i);return new e(s,0).mod(n)}},v0=e,v0}var x0,gE;function qk(){if(gE)return x0;gE=1;var t=xC(),e=_C(),n=bC(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(o){for(var l=o<<10;s.getBCHDigit(l)-s.getBCHDigit(s.G15)>=0;)l^=s.G15<<s.getBCHDigit(l)-s.getBCHDigit(s.G15);return(o<<10|l)^s.G15_MASK},getBCHTypeNumber:function(o){for(var l=o<<12;s.getBCHDigit(l)-s.getBCHDigit(s.G18)>=0;)l^=s.G18<<s.getBCHDigit(l)-s.getBCHDigit(s.G18);return o<<12|l},getBCHDigit:function(o){for(var l=0;o!=0;)l++,o>>>=1;return l},getPatternPosition:function(o){return s.PATTERN_POSITION_TABLE[o-1]},getMask:function(o,l,u){switch(o){case i.PATTERN000:return(l+u)%2==0;case i.PATTERN001:return l%2==0;case i.PATTERN010:return u%3==0;case i.PATTERN011:return(l+u)%3==0;case i.PATTERN100:return(Math.floor(l/2)+Math.floor(u/3))%2==0;case i.PATTERN101:return l*u%2+l*u%3==0;case i.PATTERN110:return(l*u%2+l*u%3)%2==0;case i.PATTERN111:return(l*u%3+(l+u)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}},getErrorCorrectPolynomial:function(o){for(var l=new e([1],0),u=0;u<o;u++)l=l.multiply(new e([1,n.gexp(u)],0));return l},getLengthInBits:function(o,l){if(1<=l&&l<10)switch(o){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+o)}else if(l<27)switch(o){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+o)}else if(l<41)switch(o){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+o)}else throw new Error("type:"+l)},getLostPoint:function(o){for(var l=o.getModuleCount(),u=0,h=0;h<l;h++)for(var f=0;f<l;f++){for(var m=0,p=o.isDark(h,f),g=-1;g<=1;g++)if(!(h+g<0||l<=h+g))for(var y=-1;y<=1;y++)f+y<0||l<=f+y||g==0&&y==0||p==o.isDark(h+g,f+y)&&m++;m>5&&(u+=3+m-5)}for(var h=0;h<l-1;h++)for(var f=0;f<l-1;f++){var x=0;o.isDark(h,f)&&x++,o.isDark(h+1,f)&&x++,o.isDark(h,f+1)&&x++,o.isDark(h+1,f+1)&&x++,(x==0||x==4)&&(u+=3)}for(var h=0;h<l;h++)for(var f=0;f<l-6;f++)o.isDark(h,f)&&!o.isDark(h,f+1)&&o.isDark(h,f+2)&&o.isDark(h,f+3)&&o.isDark(h,f+4)&&!o.isDark(h,f+5)&&o.isDark(h,f+6)&&(u+=40);for(var f=0;f<l;f++)for(var h=0;h<l-6;h++)o.isDark(h,f)&&!o.isDark(h+1,f)&&o.isDark(h+2,f)&&o.isDark(h+3,f)&&o.isDark(h+4,f)&&!o.isDark(h+5,f)&&o.isDark(h+6,f)&&(u+=40);for(var M=0,f=0;f<l;f++)for(var h=0;h<l;h++)o.isDark(h,f)&&M++;var S=Math.abs(100*M/l/l-50)/5;return u+=S*10,u}};return x0=s,x0}var b0,yE;function Xk(){if(yE)return b0;yE=1;var t=kk(),e=jk(),n=Wk(),i=qk(),s=_C();function o(u,h){this.typeNumber=u,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=o.prototype;return l.addData=function(u){var h=new t(u);this.dataList.push(h),this.dataCache=null},l.isDark=function(u,h){if(u<0||this.moduleCount<=u||h<0||this.moduleCount<=h)throw new Error(u+","+h);return this.modules[u][h]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var u=1;for(u=1;u<40;u++){for(var h=e.getRSBlocks(u,this.errorCorrectLevel),f=new n,m=0,p=0;p<h.length;p++)m+=h[p].dataCount;for(var p=0;p<this.dataList.length;p++){var g=this.dataList[p];f.put(g.mode,4),f.put(g.getLength(),i.getLengthInBits(g.mode,u)),g.write(f)}if(f.getLengthInBits()<=m*8)break}this.typeNumber=u}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(u,h){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++){this.modules[f]=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++)this.modules[f][m]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(u,h),this.typeNumber>=7&&this.setupTypeNumber(u),this.dataCache==null&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,h)},l.setupPositionProbePattern=function(u,h){for(var f=-1;f<=7;f++)if(!(u+f<=-1||this.moduleCount<=u+f))for(var m=-1;m<=7;m++)h+m<=-1||this.moduleCount<=h+m||(0<=f&&f<=6&&(m==0||m==6)||0<=m&&m<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=m&&m<=4?this.modules[u+f][h+m]=!0:this.modules[u+f][h+m]=!1)},l.getBestMaskPattern=function(){for(var u=0,h=0,f=0;f<8;f++){this.makeImpl(!0,f);var m=i.getLostPoint(this);(f==0||u>m)&&(u=m,h=f)}return h},l.createMovieClip=function(u,h,f){var m=u.createEmptyMovieClip(h,f),p=1;this.make();for(var g=0;g<this.modules.length;g++)for(var y=g*p,x=0;x<this.modules[g].length;x++){var M=x*p,S=this.modules[g][x];S&&(m.beginFill(0,100),m.moveTo(M,y),m.lineTo(M+p,y),m.lineTo(M+p,y+p),m.lineTo(M,y+p),m.endFill())}return m},l.setupTimingPattern=function(){for(var u=8;u<this.moduleCount-8;u++)this.modules[u][6]==null&&(this.modules[u][6]=u%2==0);for(var h=8;h<this.moduleCount-8;h++)this.modules[6][h]==null&&(this.modules[6][h]=h%2==0)},l.setupPositionAdjustPattern=function(){for(var u=i.getPatternPosition(this.typeNumber),h=0;h<u.length;h++)for(var f=0;f<u.length;f++){var m=u[h],p=u[f];if(this.modules[m][p]==null)for(var g=-2;g<=2;g++)for(var y=-2;y<=2;y++)g==-2||g==2||y==-2||y==2||g==0&&y==0?this.modules[m+g][p+y]=!0:this.modules[m+g][p+y]=!1}},l.setupTypeNumber=function(u){for(var h=i.getBCHTypeNumber(this.typeNumber),f=0;f<18;f++){var m=!u&&(h>>f&1)==1;this.modules[Math.floor(f/3)][f%3+this.moduleCount-8-3]=m}for(var f=0;f<18;f++){var m=!u&&(h>>f&1)==1;this.modules[f%3+this.moduleCount-8-3][Math.floor(f/3)]=m}},l.setupTypeInfo=function(u,h){for(var f=this.errorCorrectLevel<<3|h,m=i.getBCHTypeInfo(f),p=0;p<15;p++){var g=!u&&(m>>p&1)==1;p<6?this.modules[p][8]=g:p<8?this.modules[p+1][8]=g:this.modules[this.moduleCount-15+p][8]=g}for(var p=0;p<15;p++){var g=!u&&(m>>p&1)==1;p<8?this.modules[8][this.moduleCount-p-1]=g:p<9?this.modules[8][15-p-1+1]=g:this.modules[8][15-p-1]=g}this.modules[this.moduleCount-8][8]=!u},l.mapData=function(u,h){for(var f=-1,m=this.moduleCount-1,p=7,g=0,y=this.moduleCount-1;y>0;y-=2)for(y==6&&y--;;){for(var x=0;x<2;x++)if(this.modules[m][y-x]==null){var M=!1;g<u.length&&(M=(u[g]>>>p&1)==1);var S=i.getMask(h,m,y-x);S&&(M=!M),this.modules[m][y-x]=M,p--,p==-1&&(g++,p=7)}if(m+=f,m<0||this.moduleCount<=m){m-=f,f=-f;break}}},o.PAD0=236,o.PAD1=17,o.createData=function(u,h,f){for(var m=e.getRSBlocks(u,h),p=new n,g=0;g<f.length;g++){var y=f[g];p.put(y.mode,4),p.put(y.getLength(),i.getLengthInBits(y.mode,u)),y.write(p)}for(var x=0,g=0;g<m.length;g++)x+=m[g].dataCount;if(p.getLengthInBits()>x*8)throw new Error("code length overflow. ("+p.getLengthInBits()+">"+x*8+")");for(p.getLengthInBits()+4<=x*8&&p.put(0,4);p.getLengthInBits()%8!=0;)p.putBit(!1);for(;!(p.getLengthInBits()>=x*8||(p.put(o.PAD0,8),p.getLengthInBits()>=x*8));)p.put(o.PAD1,8);return o.createBytes(p,m)},o.createBytes=function(u,h){for(var f=0,m=0,p=0,g=new Array(h.length),y=new Array(h.length),x=0;x<h.length;x++){var M=h[x].dataCount,S=h[x].totalCount-M;m=Math.max(m,M),p=Math.max(p,S),g[x]=new Array(M);for(var _=0;_<g[x].length;_++)g[x][_]=255&u.buffer[_+f];f+=M;var w=i.getErrorCorrectPolynomial(S),T=new s(g[x],w.getLength()-1),C=T.mod(w);y[x]=new Array(w.getLength()-1);for(var _=0;_<y[x].length;_++){var R=_+C.getLength()-y[x].length;y[x][_]=R>=0?C.get(R):0}}for(var E=0,_=0;_<h.length;_++)E+=h[_].totalCount;for(var N=new Array(E),P=0,_=0;_<m;_++)for(var x=0;x<h.length;x++)_<g[x].length&&(N[P++]=g[x][_]);for(var _=0;_<p;_++)for(var x=0;x<h.length;x++)_<y[x].length&&(N[P++]=y[x][_]);return N},b0=o,b0}var Ad={},vE;function Yk(){if(vE)return Ad;vE=1,Object.defineProperty(Ad,"__esModule",{value:!0});var t=Object.assign||function(f){for(var m=1;m<arguments.length;m++){var p=arguments[m];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(f[g]=p[g])}return f},e=yC(),n=o(e),i=$r(),s=o(i);function o(f){return f&&f.__esModule?f:{default:f}}function l(f,m){var p={};for(var g in f)m.indexOf(g)>=0||Object.prototype.hasOwnProperty.call(f,g)&&(p[g]=f[g]);return p}var u={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},h=(0,i.forwardRef)(function(f,m){var p=f.bgColor,g=f.bgD,y=f.fgD,x=f.fgColor,M=f.size,S=f.title,_=f.viewBoxSize,w=f.xmlns,T=w===void 0?"http://www.w3.org/2000/svg":w,C=l(f,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",t({},C,{height:M,ref:m,viewBox:"0 0 "+_+" "+_,width:M,xmlns:T}),S?s.default.createElement("title",null,S):null,s.default.createElement("path",{d:g,fill:p}),s.default.createElement("path",{d:y,fill:x}))});return h.displayName="QRCodeSvg",h.propTypes=u,Ad.default=h,Ad}var xE;function Zk(){if(xE)return el;xE=1,Object.defineProperty(el,"__esModule",{value:!0}),el.QRCode=void 0;var t=Object.assign||function(M){for(var S=1;S<arguments.length;S++){var _=arguments[S];for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(M[w]=_[w])}return M},e=yC(),n=p(e),i=vC(),s=p(i),o=Xk(),l=p(o),u=$r(),h=p(u),f=Yk(),m=p(f);function p(M){return M&&M.__esModule?M:{default:M}}function g(M,S){var _={};for(var w in M)S.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(M,w)&&(_[w]=M[w]);return _}var y={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},x=(0,u.forwardRef)(function(M,S){var _=M.bgColor,w=_===void 0?"#FFFFFF":_,T=M.fgColor,C=T===void 0?"#000000":T,R=M.level,E=R===void 0?"L":R,N=M.size,P=N===void 0?256:N,j=M.value,se=g(M,["bgColor","fgColor","level","size","value"]),J=new l.default(-1,s.default[E]);J.addData(j),J.make();var K=J.modules;return h.default.createElement(m.default,t({},se,{bgColor:w,bgD:K.map(function(ae,Q){return ae.map(function(X,H){return X?"":"M "+H+" "+Q+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:C,fgD:K.map(function(ae,Q){return ae.map(function(X,H){return X?"M "+H+" "+Q+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:S,size:P,viewBoxSize:K.length}))});return el.QRCode=x,x.displayName="QRCode",x.propTypes=y,el.default=x,el}var Jk=Zk();const Qk=Pv(Jk),Kk=()=>{const[t,e]=W.useState("IDLE"),n=Ap(),i="upi://pay?pa=yourupiid@bank&pn=Jaydeep&am=100&cu=INR";return W.useEffect(()=>{e("WAITING");const s=setTimeout(()=>{e("SUCCESS")},3e4);return()=>clearTimeout(s)},[]),W.useEffect(()=>{t==="SUCCESS"&&setTimeout(()=>{n("/tournaments")},2e3)},[t,n]),B.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:B.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl w-full max-w-md text-center",children:[B.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Scan to Pay 100"}),B.jsx("div",{className:"flex justify-center mb-4",children:B.jsx(Qk,{value:i,size:200})}),t==="WAITING"&&B.jsx("p",{className:"text-yellow-600 mt-4 font-medium",children:"Waiting for payment confirmation..."}),t==="SUCCESS"&&B.jsx("p",{className:"text-green-600 mt-4 font-semibold",children:" Payment Successful! Redirecting..."}),t==="FAILED"&&B.jsx("p",{className:"text-red-600 mt-4 font-semibold",children:" Payment Failed or Cancelled"})]})})};function bE(t){return t?new Date(t.replace(" ","T")).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"TBD"}function $k(){const[t,e]=W.useState([]),[n,i]=W.useState(!0),[s,o]=W.useState(!1),[l,u]=W.useState(null),h=Ap();W.useEffect(()=>{const p=localStorage.getItem("token");p?f(p):h("/login")},[]);const f=async p=>{var g;try{const y=await Vt.get("http://13.112.131.27/api/user",{headers:{Authorization:`Bearer ${p}`}});console.log("Player slots response:",y.data);const x=y.data.data.map(M=>({...M,game:M.game||"Free Fire",startDate:M.startedAt?bE(M.startAt):"TBD",entryFee:M.entryFee!==void 0?`${M.entryFee}`:"N/A",prizePool:M.prizePool!==void 0?`${M.prizePool}`:"N/A",status:M.iscomplated==="completed"?"completed":"pending",isFull:M.isfull===1}));e(x)}catch(y){console.error("Error fetching player slots:",y),((g=y.response)==null?void 0:g.status)===401&&h("/login")}finally{i(!1)}},m=()=>{u(null),o(!1)};return n?B.jsx("div",{className:"min-h-screen flex items-center justify-center text-white bg-gray-950",children:B.jsx("div",{className:"text-2xl font-semibold",children:"Please wait, fetching your slots..."})}):B.jsxs("div",{className:"bg-black min-h-screen text-white px-6 pt-28 pb-16",children:[B.jsxs("div",{className:"max-w-screen-xl mx-auto",children:[B.jsx("h1",{className:"text-4xl font-bold text-center mb-12",children:"Your Assigned Slots"}),t.length===0?B.jsx("p",{className:"text-center text-lg",children:"No slots assigned yet."}):B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map(p=>B.jsxs("div",{className:`relative bg-neutral-900 rounded-2xl shadow-2xl p-8 flex flex-col justify-between border-2
                  ${p.status==="completed"?"border-white":"border-gray-800"}
                `,children:[B.jsx("h3",{className:"text-2xl font-semibold mb-2",children:p.game}),B.jsxs("p",{className:"mb-1",children:[B.jsx("strong",{children:"Slot ID:"})," ",p.sloteId]}),B.jsxs("p",{className:"mb-1",children:[B.jsx("strong",{children:"Status:"})," ",B.jsx("span",{className:p.status==="completed"?"text-white":"text-gray-400",children:p.status})]}),B.jsxs("p",{className:"mb-1",children:[B.jsx("strong",{children:"Start:"})," ",bE(p.startAt)]}),B.jsxs("p",{className:"mb-1",children:[B.jsx("strong",{children:"Entry Fee:"})," ",B.jsx("span",{className:"text-white",children:p.entryFee})]}),B.jsxs("p",{className:"mb-3",children:[B.jsx("strong",{children:"Prize Pool:"})," ",B.jsx("span",{className:"text-white",children:p.prizePool})]}),p.customeId&&p.customePassword?B.jsxs(B.Fragment,{children:[B.jsxs("p",{className:"mt-2 text-white font-semibold",children:["Game ID: ",p.customeId]}),B.jsxs("p",{className:"text-white font-semibold",children:["Password: ",p.customePassword]}),B.jsx("p",{className:"text-sm mt-1 italic text-gray-300",children:"Use these credentials to join your match."})]}):B.jsxs("p",{className:"mt-2 text-gray-400 italic",children:[B.jsx("strong",{children:"Game ID Status:"})," Assigned Soon"]})]},p.slotId))})]}),s&&l&&B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:B.jsxs("div",{className:"bg-neutral-900 rounded-2xl shadow-2xl p-8 w-96 text-white",children:[B.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Pay for Slot ",l.slotId]}),B.jsxs("p",{className:"mb-2",children:["Game: ",B.jsx("span",{className:"font-semibold",children:l.game})]}),B.jsxs("p",{className:"mb-6",children:["Entry Fee: ",B.jsx("span",{className:"text-white font-semibold",children:l.entryFee})]}),B.jsx("button",{className:"w-full bg-white text-black py-3 rounded-xl font-semibold shadow-lg hover:bg-gray-200 transition duration-200",onClick:()=>{alert("Payment Successful!"),m()},children:"Pay Now"}),B.jsx("button",{className:"mt-4 w-full bg-gray-400 text-black py-3 rounded-xl font-semibold hover:bg-gray-500 transition duration-200",onClick:m,children:"Cancel"})]})})]})}const e8=()=>{const[t,e]=W.useState(""),[n,i]=W.useState(""),[s,o]=W.useState(""),[l,u]=W.useState(!1),[h,f]=W.useState(!1);W.useEffect(()=>{localStorage.getItem("token")&&f(!0)},[]);const m=async g=>{var y,x;if(g.preventDefault(),!t||!n){o("Please enter both email and password.");return}o(""),u(!0);try{const S=(await Vt.post("http://13.112.131.27/auth/login",{email:t,password:n})).data.token;S?(localStorage.setItem("token",S),f(!0),e(""),i("")):o("Token not received.")}catch(M){console.error("Login error:",M),o(((x=(y=M.response)==null?void 0:y.data)==null?void 0:x.message)||"Login failed. Try again.")}finally{u(!1)}},p=()=>{localStorage.removeItem("token"),f(!1),window.location.reload()};return B.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black px-2 sm:px-4",children:B.jsxs("div",{className:"w-full max-w-xs sm:max-w-sm bg-white rounded-2xl shadow-2xl border border-black p-4 sm:p-8 flex flex-col items-center relative",children:[B.jsx("div",{className:"mb-3 sm:mb-4 flex justify-center",children:B.jsx("div",{className:"h-12 w-12 sm:h-14 sm:w-14 rounded-full bg-black flex items-center justify-center shadow-lg border-2 border-white",style:{boxShadow:"0 0 16px #000, 0 0 4px #fff inset"},children:B.jsx("span",{className:"text-white text-2xl sm:text-3xl font-extrabold",children:""})})}),h?B.jsxs(B.Fragment,{children:[B.jsx("h2",{className:"text-lg sm:text-xl font-extrabold mb-3 sm:mb-4 text-center text-black tracking-wide",style:{fontFamily:"Orbitron, sans-serif"},children:"Already Logged In"}),B.jsx("button",{onClick:p,className:"w-full py-2 rounded bg-black hover:bg-gray-800 text-white font-semibold text-base transition-all shadow focus:outline-none focus:ring-2 focus:ring-black",children:"Logout"})]}):B.jsxs(B.Fragment,{children:[B.jsx("h2",{className:"text-xl sm:text-2xl font-extrabold mb-1 text-center text-black tracking-widest",style:{fontFamily:"Orbitron, sans-serif",textShadow:"0 0 8px #000, 0 0 2px #fff"},children:"GameArena Login"}),B.jsx("div",{className:"text-xs text-gray-700 font-semibold mb-3 sm:mb-4 text-center tracking-wide",children:"Enter the Arena. Compete. Win. Repeat."}),B.jsx("div",{className:"w-8 sm:w-10 border-b-2 border-black mx-auto mb-4 sm:mb-5"}),B.jsxs("form",{onSubmit:m,className:"space-y-4 sm:space-y-5 w-full",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",className:"block mb-1 text-xs font-semibold text-gray-800",children:"Email"}),B.jsx("input",{id:"email",type:"email",value:t,onChange:g=>e(g.target.value),className:"w-full px-3 py-2 rounded bg-gray-100 border border-black focus:outline-none focus:ring-2 focus:ring-black focus:border-black text-black transition-all text-sm",placeholder:"you@example.com",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",className:"block mb-1 text-xs font-semibold text-gray-800",children:"Password"}),B.jsx("input",{id:"password",type:"password",value:n,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 rounded bg-gray-100 border border-black focus:outline-none focus:ring-2 focus:ring-black focus:border-black text-black transition-all text-sm",placeholder:"Your password",required:!0})]}),s&&B.jsx("div",{className:"bg-gray-900 border border-black text-white text-center rounded py-2 px-3 text-xs font-medium mb-1",children:s}),B.jsx("button",{type:"submit",disabled:l,className:"w-full py-2 rounded bg-black hover:bg-gray-800 text-white font-semibold text-base transition-all shadow focus:outline-none focus:ring-2 focus:ring-black disabled:opacity-60",children:l?"Logging in...":"Login"})]})]})]})})},t8=()=>B.jsxs("div",{className:"bg-gradient-to-br",children:[B.jsx(qz,{}),B.jsxs(hz,{children:[B.jsx(tl,{path:"/",element:B.jsx(c6,{})}),B.jsx(tl,{path:"/yourmatches",element:B.jsx($k,{})}),B.jsx(tl,{path:"/login",element:B.jsx(e8,{})}),B.jsx(tl,{path:"/tournaments",element:B.jsx(Hk,{})}),B.jsx(tl,{path:"/payment",element:B.jsx(Kk,{})})]})]});FD.createRoot(document.getElementById("root")).render(B.jsx(zz,{children:B.jsx(t8,{})}));
